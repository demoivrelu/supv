{"version":3,"file":"js/767.6c86aa02.js","mappings":"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","sources":["webpack://tmp/./src/components/Flow/useDnD.js","webpack://tmp/./node_modules/@vue-flow/background/dist/vue-flow-background.mjs","webpack://tmp/./src/components/Flow/DropzoneBackground.vue?6dfc","webpack://tmp/./src/components/Flow/DropzoneBackground.vue","webpack://tmp/./src/components/Flow/SideBar.vue","webpack://tmp/./src/components/Flow/SideBar.vue?d972","webpack://tmp/./node_modules/@vue-flow/core/dist/vue-flow-core.mjs"],"sourcesContent":["import { useVueFlow } from '@vue-flow/core';\nimport { ref, watch } from 'vue';\n\nlet id = 0;\n\n/**\n * @returns {string} - A unique id.\n */\nfunction getId() {\n  id += 1;\n  return `dndnode_${id}`;\n}\n\n/**\n * @type {{draggedType: Ref<string|null>, isDragOver: Ref<boolean>, isDragging: Ref<boolean>}}\n */\nconst state = {\n  /**\n   * The type of the node being dragged.\n   */\n  draggedType: ref(null),\n  isDragOver: ref(false),\n  isDragging: ref(false),\n};\n\nexport default function useDragAndDrop() {\n  const { draggedType, isDragOver, isDragging } = state;\n\n  const {\n    addNodes, screenToFlowCoordinate, onNodesInitialized, updateNode,\n  } = useVueFlow();\n\n  watch(isDragging, (dragging) => {\n    document.body.style.userSelect = dragging ? 'none' : '';\n  });\n  function onDragEnd() {\n    isDragging.value = false;\n    isDragOver.value = false;\n    draggedType.value = null;\n    document.removeEventListener('drop', onDragEnd);\n  }\n  /**\n   * Handles the drag over event.\n   *\n   * @param {DragEvent} event\n   */\n  function onDragStart(event, type) {\n    if (event.dataTransfer) {\n      event.dataTransfer.setData('application/vueflow', type);\n      event.dataTransfer.setData('move', event.dataTransfer.effectAllowed); // firefox needs this = 'move';\n      // event.dataTransfer.effectAllowed = 'move';\n    }\n\n    draggedType.value = type;\n    isDragging.value = true;\n\n    document.addEventListener('drop', onDragEnd);\n  }\n\n  function onDragOver(event) {\n    event.preventDefault();\n\n    if (draggedType.value) {\n      isDragOver.value = true;\n\n      if (event.dataTransfer) {\n        // event.dataTransfer.dropEffect = 'move';\n        event.dataTransfer.setData('move', event.dataTransfer.dropEffect);\n      }\n    }\n  }\n\n  function onDragLeave(_nodes) {\n    console.log('get nodes .....', _nodes);\n    isDragOver.value = false;\n  }\n\n  /**\n   * Handles the drop event.\n   *\n   * @param {DragEvent} event\n   */\n  function onDrop(_nodes) {\n    console.log('get nodes .....', _nodes);\n    // const position = screenToFlowCoordinate({\n    //   x: event.clientX,\n    //   y: event.clientY,\n    // });\n    const position = { x: 0, y: 0 };\n    const nodeId = getId();\n\n    const newNode = {\n      id: nodeId,\n      // id: '7',\n      // type: draggedType.value,\n      type: 'default',\n      position,\n      targetPosition: 'left',\n      sourcePosition: 'right',\n      isSender: true,\n      // label: `[${nodeId}]`,\n    };\n\n    /**\n     * Align node position after drop, so it's centered to the mouse\n     *\n     */\n    const { off } = onNodesInitialized(() => {\n      updateNode(nodeId, (node) => ({\n        position: {\n          x: node.position.x - node.dimensions.width / 2,\n          y: node.position.y - node.dimensions.height / 2,\n        },\n      }));\n\n      off();\n    });\n    console.log('added: ', newNode);\n    addNodes(newNode);\n    _nodes.push(newNode);\n  }\n\n  function test(_nodes) {\n    console.log(_nodes);\n  }\n\n  return {\n    draggedType,\n    isDragOver,\n    isDragging,\n    onDragStart,\n    onDragLeave,\n    onDragOver,\n    onDrop,\n    test,\n  };\n}\n","import { h, defineComponent, computed, toRef, openBlock, createElementBlock, normalizeStyle, renderSlot, createElementVNode, unref, createBlock, createCommentVNode } from \"vue\";\nimport { useVueFlow } from \"@vue-flow/core\";\nvar BackgroundVariant = /* @__PURE__ */ ((BackgroundVariant2) => {\n  BackgroundVariant2[\"Lines\"] = \"lines\";\n  BackgroundVariant2[\"Dots\"] = \"dots\";\n  return BackgroundVariant2;\n})(BackgroundVariant || {});\nconst LinePattern = function({ dimensions, size, color }) {\n  return h(\"path\", {\n    \"stroke\": color,\n    \"stroke-width\": size,\n    \"d\": `M${dimensions[0] / 2} 0 V${dimensions[1]} M0 ${dimensions[1] / 2} H${dimensions[0]}`\n  });\n};\nconst DotPattern = function({ radius, color }) {\n  return h(\"circle\", { cx: radius, cy: radius, r: radius, fill: color });\n};\n({\n  [BackgroundVariant.Lines]: LinePattern,\n  [BackgroundVariant.Dots]: DotPattern\n});\nconst DefaultBgColors = {\n  [BackgroundVariant.Dots]: \"#81818a\",\n  [BackgroundVariant.Lines]: \"#eee\"\n};\nconst _hoisted_1 = [\"id\", \"x\", \"y\", \"width\", \"height\", \"patternTransform\"];\nconst _hoisted_2 = {\n  key: 2,\n  height: \"100\",\n  width: \"100\"\n};\nconst _hoisted_3 = [\"fill\"];\nconst _hoisted_4 = [\"x\", \"y\", \"fill\"];\nconst __default__ = {\n  name: \"Background\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    id: {},\n    variant: { default: () => BackgroundVariant.Dots },\n    gap: { default: 20 },\n    size: { default: 1 },\n    lineWidth: { default: 1 },\n    patternColor: {},\n    color: {},\n    bgColor: {},\n    height: { default: 100 },\n    width: { default: 100 },\n    x: { default: 0 },\n    y: { default: 0 },\n    offset: { default: 2 }\n  },\n  setup(__props) {\n    const { id: vueFlowId, viewport } = useVueFlow();\n    const background = computed(() => {\n      const [gapX, gapY] = Array.isArray(__props.gap) ? __props.gap : [__props.gap, __props.gap];\n      const scaledGap = [gapX * viewport.value.zoom || 1, gapY * viewport.value.zoom || 1];\n      const scaledSize = __props.size * viewport.value.zoom;\n      const patternOffset = __props.variant === BackgroundVariant.Dots ? [scaledSize / __props.offset, scaledSize / __props.offset] : [scaledGap[0] / __props.offset, scaledGap[1] / __props.offset];\n      return {\n        scaledGap,\n        offset: patternOffset,\n        size: scaledSize\n      };\n    });\n    const patternId = toRef(() => `pattern-${vueFlowId}${__props.id ? `-${__props.id}` : \"\"}`);\n    const patternColor = toRef(() => __props.color || __props.patternColor || DefaultBgColors[__props.variant || BackgroundVariant.Dots]);\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", {\n        class: \"vue-flow__background vue-flow__container\",\n        style: normalizeStyle({\n          height: `${_ctx.height > 100 ? 100 : _ctx.height}%`,\n          width: `${_ctx.width > 100 ? 100 : _ctx.width}%`\n        })\n      }, [\n        renderSlot(_ctx.$slots, \"pattern-container\", { id: patternId.value }, () => [\n          createElementVNode(\"pattern\", {\n            id: patternId.value,\n            x: unref(viewport).x % background.value.scaledGap[0],\n            y: unref(viewport).y % background.value.scaledGap[1],\n            width: background.value.scaledGap[0],\n            height: background.value.scaledGap[1],\n            patternTransform: `translate(-${background.value.offset[0]},-${background.value.offset[1]})`,\n            patternUnits: \"userSpaceOnUse\"\n          }, [\n            renderSlot(_ctx.$slots, \"pattern\", {}, () => [\n              _ctx.variant === unref(BackgroundVariant).Lines ? (openBlock(), createBlock(unref(LinePattern), {\n                key: 0,\n                size: _ctx.lineWidth,\n                color: patternColor.value,\n                dimensions: background.value.scaledGap\n              }, null, 8, [\"size\", \"color\", \"dimensions\"])) : _ctx.variant === unref(BackgroundVariant).Dots ? (openBlock(), createBlock(unref(DotPattern), {\n                key: 1,\n                color: patternColor.value,\n                radius: background.value.size / _ctx.offset\n              }, null, 8, [\"color\", \"radius\"])) : createCommentVNode(\"\", true),\n              _ctx.bgColor ? (openBlock(), createElementBlock(\"svg\", _hoisted_2, [\n                createElementVNode(\"rect\", {\n                  width: \"100%\",\n                  height: \"100%\",\n                  fill: _ctx.bgColor\n                }, null, 8, _hoisted_3)\n              ])) : createCommentVNode(\"\", true)\n            ])\n          ], 8, _hoisted_1)\n        ]),\n        createElementVNode(\"rect\", {\n          x: _ctx.x,\n          y: _ctx.y,\n          width: \"100%\",\n          height: \"100%\",\n          fill: `url(#${patternId.value})`\n        }, null, 8, _hoisted_4),\n        renderSlot(_ctx.$slots, \"default\", { id: patternId.value })\n      ], 4);\n    };\n  }\n});\nexport {\n  _sfc_main as Background,\n  BackgroundVariant\n};\n","import { defineComponent as _defineComponent } from 'vue'\nimport { renderSlot as _renderSlot, unref as _unref, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { style: {\"height\":\"100%\",\"width\":\"100%\"} }\n\nimport { Background } from '@vue-flow/background';\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'DropzoneBackground',\n  setup(__props) {\n\n\nreturn (_ctx: any,_cache: any) => {\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_unref(Background), {\n      size: 2,\n      gap: 20,\n      \"pattern-color\": \"#BDBDBD\"\n    }, {\n      default: _withCtx(() => [\n        _renderSlot(_ctx.$slots, \"default\")\n      ]),\n      _: 3\n    })\n  ]))\n}\n}\n\n})","import script from \"./DropzoneBackground.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./DropzoneBackground.vue?vue&type=script&lang=ts&setup=true\"\n\nconst __exports__ = script;\n\nexport default __exports__","<script setup>\nimport useDragAndDrop from './useDnD';\n\nconst { onDragStart } = useDragAndDrop();\n</script>\n\n<template>\n  <aside>\n    <div class=\"description\">You can drag these nodes to the pane.</div>\n\n    <div class=\"nodes\">\n      <div class=\"vue-flow__node-input\" :draggable=\"true\" @dragstart=\"onDragStart($event, 'input')\">\n        Input Node\n      </div>\n      <div\n        class=\"vue-flow__node-default\"\n        :draggable=\"true\"\n        @dragstart=\"onDragStart($event, 'default')\"\n      >\n        Default Node\n      </div>\n      <div\n        class=\"vue-flow__node-output\"\n        :draggable=\"true\"\n        @dragstart=\"onDragStart($event, 'output')\"\n      >\n        Output Node\n      </div>\n    </div>\n  </aside>\n</template>\n","import script from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SideBar.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { getCurrentScope, onScopeDispose, isRef, reactive, unref, toRefs as toRefs$1, customRef, watch, ref, readonly, getCurrentInstance, nextTick, computed, toValue as toValue$1, inject, effectScope, toRef, markRaw, onBeforeMount, defineComponent, createPropsRestProxy, onUnmounted, openBlock, createElementBlock, normalizeClass, renderSlot, h, onMounted, normalizeStyle, createCommentVNode, createElementVNode, mergeProps, createBlock, resolveDynamicComponent, Fragment, createTextVNode, toDisplayString, useAttrs, provide, onBeforeUnmount, createVNode, withCtx, renderList, resolveComponent, Teleport, useSlots } from \"vue\";\nfunction tryOnScopeDispose(fn) {\n  if (getCurrentScope()) {\n    onScopeDispose(fn);\n    return true;\n  }\n  return false;\n}\nfunction toValue(r) {\n  return typeof r === \"function\" ? r() : unref(r);\n}\nfunction toReactive(objectRef) {\n  if (!isRef(objectRef))\n    return reactive(objectRef);\n  const proxy = new Proxy({}, {\n    get(_, p, receiver) {\n      return unref(Reflect.get(objectRef.value, p, receiver));\n    },\n    set(_, p, value) {\n      if (isRef(objectRef.value[p]) && !isRef(value))\n        objectRef.value[p].value = value;\n      else\n        objectRef.value[p] = value;\n      return true;\n    },\n    deleteProperty(_, p) {\n      return Reflect.deleteProperty(objectRef.value, p);\n    },\n    has(_, p) {\n      return Reflect.has(objectRef.value, p);\n    },\n    ownKeys() {\n      return Object.keys(objectRef.value);\n    },\n    getOwnPropertyDescriptor() {\n      return {\n        enumerable: true,\n        configurable: true\n      };\n    }\n  });\n  return reactive(proxy);\n}\nconst isClient = typeof window !== \"undefined\" && typeof document !== \"undefined\";\nconst isDef$1 = (val) => typeof val !== \"undefined\";\nconst toString = Object.prototype.toString;\nconst isObject = (val) => toString.call(val) === \"[object Object]\";\nconst noop$2 = () => {\n};\nfunction createFilterWrapper(filter2, fn) {\n  function wrapper(...args) {\n    return new Promise((resolve, reject) => {\n      Promise.resolve(filter2(() => fn.apply(this, args), { fn, thisArg: this, args })).then(resolve).catch(reject);\n    });\n  }\n  return wrapper;\n}\nconst bypassFilter = (invoke) => {\n  return invoke();\n};\nfunction pausableFilter(extendFilter = bypassFilter) {\n  const isActive = ref(true);\n  function pause() {\n    isActive.value = false;\n  }\n  function resume() {\n    isActive.value = true;\n  }\n  const eventFilter = (...args) => {\n    if (isActive.value)\n      extendFilter(...args);\n  };\n  return { isActive: readonly(isActive), pause, resume, eventFilter };\n}\nfunction promiseTimeout(ms, throwOnTimeout = false, reason = \"Timeout\") {\n  return new Promise((resolve, reject) => {\n    if (throwOnTimeout)\n      setTimeout(() => reject(reason), ms);\n    else\n      setTimeout(resolve, ms);\n  });\n}\nfunction watchWithFilter(source, cb, options = {}) {\n  const {\n    eventFilter = bypassFilter,\n    ...watchOptions\n  } = options;\n  return watch(\n    source,\n    createFilterWrapper(\n      eventFilter,\n      cb\n    ),\n    watchOptions\n  );\n}\nfunction watchPausable(source, cb, options = {}) {\n  const {\n    eventFilter: filter2,\n    ...watchOptions\n  } = options;\n  const { eventFilter, pause, resume, isActive } = pausableFilter(filter2);\n  const stop = watchWithFilter(\n    source,\n    cb,\n    {\n      ...watchOptions,\n      eventFilter\n    }\n  );\n  return { stop, pause, resume, isActive };\n}\nfunction toRefs(objectRef, options = {}) {\n  if (!isRef(objectRef))\n    return toRefs$1(objectRef);\n  const result = Array.isArray(objectRef.value) ? Array.from({ length: objectRef.value.length }) : {};\n  for (const key in objectRef.value) {\n    result[key] = customRef(() => ({\n      get() {\n        return objectRef.value[key];\n      },\n      set(v) {\n        var _a;\n        const replaceRef = (_a = toValue(options.replaceRef)) != null ? _a : true;\n        if (replaceRef) {\n          if (Array.isArray(objectRef.value)) {\n            const copy = [...objectRef.value];\n            copy[key] = v;\n            objectRef.value = copy;\n          } else {\n            const newObject = { ...objectRef.value, [key]: v };\n            Object.setPrototypeOf(newObject, Object.getPrototypeOf(objectRef.value));\n            objectRef.value = newObject;\n          }\n        } else {\n          objectRef.value[key] = v;\n        }\n      }\n    }));\n  }\n  return result;\n}\nfunction createUntil(r, isNot = false) {\n  function toMatch(condition, { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = {}) {\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        r,\n        (v) => {\n          if (condition(v) !== isNot) {\n            stop == null ? void 0 : stop();\n            resolve(v);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => stop == null ? void 0 : stop())\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBe(value, options) {\n    if (!isRef(value))\n      return toMatch((v) => v === value, options);\n    const { flush = \"sync\", deep = false, timeout: timeout2, throwOnTimeout } = options != null ? options : {};\n    let stop = null;\n    const watcher = new Promise((resolve) => {\n      stop = watch(\n        [r, value],\n        ([v1, v2]) => {\n          if (isNot !== (v1 === v2)) {\n            stop == null ? void 0 : stop();\n            resolve(v1);\n          }\n        },\n        {\n          flush,\n          deep,\n          immediate: true\n        }\n      );\n    });\n    const promises = [watcher];\n    if (timeout2 != null) {\n      promises.push(\n        promiseTimeout(timeout2, throwOnTimeout).then(() => toValue(r)).finally(() => {\n          stop == null ? void 0 : stop();\n          return toValue(r);\n        })\n      );\n    }\n    return Promise.race(promises);\n  }\n  function toBeTruthy(options) {\n    return toMatch((v) => Boolean(v), options);\n  }\n  function toBeNull(options) {\n    return toBe(null, options);\n  }\n  function toBeUndefined(options) {\n    return toBe(void 0, options);\n  }\n  function toBeNaN(options) {\n    return toMatch(Number.isNaN, options);\n  }\n  function toContains(value, options) {\n    return toMatch((v) => {\n      const array2 = Array.from(v);\n      return array2.includes(value) || array2.includes(toValue(value));\n    }, options);\n  }\n  function changed(options) {\n    return changedTimes(1, options);\n  }\n  function changedTimes(n = 1, options) {\n    let count = -1;\n    return toMatch(() => {\n      count += 1;\n      return count >= n;\n    }, options);\n  }\n  if (Array.isArray(toValue(r))) {\n    const instance = {\n      toMatch,\n      toContains,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  } else {\n    const instance = {\n      toMatch,\n      toBe,\n      toBeTruthy,\n      toBeNull,\n      toBeNaN,\n      toBeUndefined,\n      changed,\n      changedTimes,\n      get not() {\n        return createUntil(r, !isNot);\n      }\n    };\n    return instance;\n  }\n}\nfunction until(r) {\n  return createUntil(r);\n}\nfunction unrefElement(elRef) {\n  var _a;\n  const plain = toValue(elRef);\n  return (_a = plain == null ? void 0 : plain.$el) != null ? _a : plain;\n}\nconst defaultWindow = isClient ? window : void 0;\nfunction useEventListener(...args) {\n  let target;\n  let events;\n  let listeners;\n  let options;\n  if (typeof args[0] === \"string\" || Array.isArray(args[0])) {\n    [events, listeners, options] = args;\n    target = defaultWindow;\n  } else {\n    [target, events, listeners, options] = args;\n  }\n  if (!target)\n    return noop$2;\n  if (!Array.isArray(events))\n    events = [events];\n  if (!Array.isArray(listeners))\n    listeners = [listeners];\n  const cleanups = [];\n  const cleanup = () => {\n    cleanups.forEach((fn) => fn());\n    cleanups.length = 0;\n  };\n  const register = (el, event, listener, options2) => {\n    el.addEventListener(event, listener, options2);\n    return () => el.removeEventListener(event, listener, options2);\n  };\n  const stopWatch = watch(\n    () => [unrefElement(target), toValue(options)],\n    ([el, options2]) => {\n      cleanup();\n      if (!el)\n        return;\n      const optionsClone = isObject(options2) ? { ...options2 } : options2;\n      cleanups.push(\n        ...events.flatMap((event) => {\n          return listeners.map((listener) => register(el, event, listener, optionsClone));\n        })\n      );\n    },\n    { immediate: true, flush: \"post\" }\n  );\n  const stop = () => {\n    stopWatch();\n    cleanup();\n  };\n  tryOnScopeDispose(stop);\n  return stop;\n}\nfunction createKeyPredicate$1(keyFilter) {\n  if (typeof keyFilter === \"function\")\n    return keyFilter;\n  else if (typeof keyFilter === \"string\")\n    return (event) => event.key === keyFilter;\n  else if (Array.isArray(keyFilter))\n    return (event) => keyFilter.includes(event.key);\n  return () => true;\n}\nfunction onKeyStroke(...args) {\n  let key;\n  let handler;\n  let options = {};\n  if (args.length === 3) {\n    key = args[0];\n    handler = args[1];\n    options = args[2];\n  } else if (args.length === 2) {\n    if (typeof args[1] === \"object\") {\n      key = true;\n      handler = args[0];\n      options = args[1];\n    } else {\n      key = args[0];\n      handler = args[1];\n    }\n  } else {\n    key = true;\n    handler = args[0];\n  }\n  const {\n    target = defaultWindow,\n    eventName = \"keydown\",\n    passive = false,\n    dedupe = false\n  } = options;\n  const predicate = createKeyPredicate$1(key);\n  const listener = (e) => {\n    if (e.repeat && toValue(dedupe))\n      return;\n    if (predicate(e))\n      handler(e);\n  };\n  return useEventListener(target, eventName, listener, passive);\n}\nfunction cloneFnJSON(source) {\n  return JSON.parse(JSON.stringify(source));\n}\nfunction useVModel(props, key, emit, options = {}) {\n  var _a, _b, _c;\n  const {\n    clone = false,\n    passive = false,\n    eventName,\n    deep = false,\n    defaultValue,\n    shouldEmit\n  } = options;\n  const vm = getCurrentInstance();\n  const _emit = emit || (vm == null ? void 0 : vm.emit) || ((_a = vm == null ? void 0 : vm.$emit) == null ? void 0 : _a.bind(vm)) || ((_c = (_b = vm == null ? void 0 : vm.proxy) == null ? void 0 : _b.$emit) == null ? void 0 : _c.bind(vm == null ? void 0 : vm.proxy));\n  let event = eventName;\n  if (!key) {\n    {\n      key = \"modelValue\";\n    }\n  }\n  event = event || `update:${key.toString()}`;\n  const cloneFn = (val) => !clone ? val : typeof clone === \"function\" ? clone(val) : cloneFnJSON(val);\n  const getValue = () => isDef$1(props[key]) ? cloneFn(props[key]) : defaultValue;\n  const triggerEmit = (value) => {\n    if (shouldEmit) {\n      if (shouldEmit(value))\n        _emit(event, value);\n    } else {\n      _emit(event, value);\n    }\n  };\n  if (passive) {\n    const initialValue = getValue();\n    const proxy = ref(initialValue);\n    let isUpdating = false;\n    watch(\n      () => props[key],\n      (v) => {\n        if (!isUpdating) {\n          isUpdating = true;\n          proxy.value = cloneFn(v);\n          nextTick(() => isUpdating = false);\n        }\n      }\n    );\n    watch(\n      proxy,\n      (v) => {\n        if (!isUpdating && (v !== props[key] || deep))\n          triggerEmit(v);\n      },\n      { deep }\n    );\n    return proxy;\n  } else {\n    return computed({\n      get() {\n        return getValue();\n      },\n      set(value) {\n        triggerEmit(value);\n      }\n    });\n  }\n}\nvar noop$1 = { value: () => {\n} };\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || t in _ || /[\\s.]/.test(t))\n      throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\nfunction Dispatch(_) {\n  this._ = _;\n}\nfunction parseTypenames$1(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t))\n      throw new Error(\"unknown type: \" + t);\n    return { type: t, name };\n  });\n}\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._, T = parseTypenames$1(typename + \"\", _), t, i = -1, n = T.length;\n    if (arguments.length < 2) {\n      while (++i < n)\n        if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name)))\n          return t;\n      return;\n    }\n    if (callback != null && typeof callback !== \"function\")\n      throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type)\n        _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null)\n        for (t in _)\n          _[t] = set$1(_[t], typename.name, null);\n    }\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _)\n      copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0)\n      for (var args = new Array(n), i = 0, n, t; i < n; ++i)\n        args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type))\n      throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i)\n      t[i].value.apply(that, args);\n  }\n};\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$1, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null)\n    type.push({ name, value: callback });\n  return type;\n}\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\")\n    name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? { space: namespaces[prefix], local: name } : name;\n}\nfunction creatorInherit(name) {\n  return function() {\n    var document2 = this.ownerDocument, uri = this.namespaceURI;\n    return uri === xhtml && document2.documentElement.namespaceURI === xhtml ? document2.createElement(name) : document2.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {\n}\nfunction selector(selector2) {\n  return selector2 == null ? none : function() {\n    return this.querySelector(selector2);\n  };\n}\nfunction selection_select(select2) {\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector2) {\n  return selector2 == null ? empty : function() {\n    return this.querySelectorAll(selector2);\n  };\n}\nfunction arrayAll(select2) {\n  return function() {\n    return array(select2.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select2) {\n  if (typeof select2 === \"function\")\n    select2 = arrayAll(select2);\n  else\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select2.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, parents);\n}\nfunction matcher(selector2) {\n  return function() {\n    return this.matches(selector2);\n  };\n}\nfunction childMatcher(selector2) {\n  return function(node) {\n    return node.matches(selector2);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection$1(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum2) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum2;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function(child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function(selector2) {\n    return this._parent.querySelector(selector2);\n  },\n  querySelectorAll: function(selector2) {\n    return this._parent.querySelectorAll(selector2);\n  }\n};\nfunction constant$3(x) {\n  return function() {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0, node, groupLength = group.length, dataLength = data.length;\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i, node, nodeByKeyValue = /* @__PURE__ */ new Map(), groupLength = group.length, dataLength = data.length, keyValues = new Array(groupLength), keyValue;\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length)\n    return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex, parents = this._parents, groups = this._groups;\n  if (typeof value !== \"function\")\n    value = constant$3(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j], group = groups[j], groupLength = group.length, data = arraylike(value.call(parent, parent && parent.__data__, j, parents)), dataLength = data.length, enterGroup = enter[j] = new Array(dataLength), updateGroup = update[j] = new Array(dataLength), exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1)\n          i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength)\n          ;\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data : Array.from(data);\n}\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter)\n      enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update)\n      update = update.selection();\n  }\n  if (onexit == null)\n    exit.remove();\n  else\n    onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection2 = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection$1(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m; ) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0; ) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4)\n          next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare)\n    compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection$1(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node)\n        return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this)\n    ++size;\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttribute(name);\n    else\n      this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.removeAttributeNS(fullname.space, fullname.local);\n    else\n      this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS$1 : attrRemove$1 : typeof value === \"function\" ? fullname.local ? attrFunctionNS$1 : attrFunction$1 : fullname.local ? attrConstantNS$1 : attrConstant$1)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView || node.document && node || node.defaultView;\n}\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      this.style.removeProperty(name);\n    else\n      this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove$1 : typeof value === \"function\" ? styleFunction$1 : styleConstant$1)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null)\n      delete this[name];\n    else\n      this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n)\n    list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n)\n      if (!list.contains(names[i]))\n        return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction$1 : textConstant$1)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling)\n    this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling)\n    this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create2 = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create2.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create2 = typeof name === \"function\" ? name : creator(name), select2 = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create2.apply(this, arguments), select2.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent)\n    parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0)\n      name = t.slice(i + 1), t = t.slice(0, i);\n    return { type: t, name };\n  });\n}\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on)\n      return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i)\n      on.length = i;\n    else\n      delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on)\n      for (var j = 0, m = on.length; j < m; ++j) {\n        if ((o = on[j]).type === typename.type && o.name === typename.name) {\n          this.removeEventListener(o.type, o.listener, o.options);\n          this.addEventListener(o.type, o.listener = listener, o.options = options);\n          o.value = value;\n          return;\n        }\n      }\n    this.addEventListener(typename.type, listener, options);\n    o = { type: typename.type, name: typename.name, value, listener, options };\n    if (!on)\n      this.__on = [o];\n    else\n      on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on)\n      for (var j = 0, m = on.length, o; j < m; ++j) {\n        for (i = 0, o = on[j]; i < n; ++i) {\n          if ((t = typenames[i]).type === o.type && t.name === o.name) {\n            return o.value;\n          }\n        }\n      }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i)\n    this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window2 = defaultView(node), event = window2.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window2.document.createEvent(\"Event\");\n    if (params)\n      event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else\n      event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i])\n        yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root);\n}\nfunction selection_selection() {\n  return this;\n}\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector2) {\n  return typeof selector2 === \"string\" ? new Selection$1([[document.querySelector(selector2)]], [document.documentElement]) : new Selection$1([[selector2]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent2;\n  while (sourceEvent2 = event.sourceEvent)\n    event = sourceEvent2;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === void 0)\n    node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nconst nonpassive = { passive: false };\nconst nonpassivecapture = { capture: true, passive: false };\nfunction nopropagation$1(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent$1(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction dragDisable(view) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", noevent$1, nonpassivecapture);\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", noevent$1, nonpassivecapture);\n  } else {\n    root2.__noselect = root2.style.MozUserSelect;\n    root2.style.MozUserSelect = \"none\";\n  }\n}\nfunction yesdrag(view, noclick) {\n  var root2 = view.document.documentElement, selection2 = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection2.on(\"click.drag\", noevent$1, nonpassivecapture);\n    setTimeout(function() {\n      selection2.on(\"click.drag\", null);\n    }, 0);\n  }\n  if (\"onselectstart\" in root2) {\n    selection2.on(\"selectstart.drag\", null);\n  } else {\n    root2.style.MozUserSelect = root2.__noselect;\n    delete root2.__noselect;\n  }\n}\nconst constant$2 = (x) => () => x;\nfunction DragEvent(type, {\n  sourceEvent: sourceEvent2,\n  subject,\n  target,\n  identifier,\n  active,\n  x,\n  y,\n  dx,\n  dy,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    subject: { value: subject, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    identifier: { value: identifier, enumerable: true, configurable: true },\n    active: { value: active, enumerable: true, configurable: true },\n    x: { value: x, enumerable: true, configurable: true },\n    y: { value: y, enumerable: true, configurable: true },\n    dx: { value: dx, enumerable: true, configurable: true },\n    dy: { value: dy, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\nfunction defaultFilter$1(event) {\n  return !event.ctrlKey && !event.button;\n}\nfunction defaultContainer() {\n  return this.parentNode;\n}\nfunction defaultSubject(event, d) {\n  return d == null ? { x: event.x, y: event.y } : d;\n}\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction drag() {\n  var filter2 = defaultFilter$1, container = defaultContainer, subject = defaultSubject, touchable = defaultTouchable$1, gestures = {}, listeners = dispatch(\"start\", \"drag\", \"end\"), active = 0, mousedownx, mousedowny, mousemoving, touchending, clickDistance2 = 0;\n  function drag2(selection2) {\n    selection2.on(\"mousedown.drag\", mousedowned).filter(touchable).on(\"touchstart.drag\", touchstarted).on(\"touchmove.drag\", touchmoved, nonpassive).on(\"touchend.drag touchcancel.drag\", touchended).style(\"touch-action\", \"none\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  function mousedowned(event, d) {\n    if (touchending || !filter2.call(this, event, d))\n      return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture)\n      return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, nonpassivecapture).on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    dragDisable(event.view);\n    nopropagation$1(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n  function mousemoved(event) {\n    noevent$1(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1(event);\n    gestures.mouse(\"end\", event);\n  }\n  function touchstarted(event, d) {\n    if (!filter2.call(this, event, d))\n      return;\n    var touches = event.changedTouches, c = container.call(this, event, d), n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation$1(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n  function touchmoved(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n  function touchended(event) {\n    var touches = event.changedTouches, n = touches.length, i, gesture;\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, 500);\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n  function beforestart(that, container2, event, d, identifier, touch) {\n    var dispatch2 = listeners.copy(), p = pointer(touch || event, container2), dx, dy, s;\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n      sourceEvent: event,\n      target: drag2,\n      identifier,\n      active,\n      x: p[0],\n      y: p[1],\n      dx: 0,\n      dy: 0,\n      dispatch: dispatch2\n    }), d)) == null)\n      return;\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n    return function gesture(type, event2, touch2) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\":\n          gestures[identifier] = gesture, n = active++;\n          break;\n        case \"end\":\n          delete gestures[identifier], --active;\n        case \"drag\":\n          p = pointer(touch2 || event2, container2), n = active;\n          break;\n      }\n      dispatch2.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event2,\n          subject: s,\n          target: drag2,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch: dispatch2\n        }),\n        d\n      );\n    };\n  }\n  drag2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : filter2;\n  };\n  drag2.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$2(_), drag2) : container;\n  };\n  drag2.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$2(_), drag2) : subject;\n  };\n  drag2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$2(!!_), drag2) : touchable;\n  };\n  drag2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag2 : value;\n  };\n  drag2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag2) : Math.sqrt(clickDistance2);\n  };\n  return drag2;\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition)\n    prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {\n}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\", reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\", reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\", reHex = /^#([0-9a-f]{3,8})$/, reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`), reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`), reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`), reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`), reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`), reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 15792383,\n  antiquewhite: 16444375,\n  aqua: 65535,\n  aquamarine: 8388564,\n  azure: 15794175,\n  beige: 16119260,\n  bisque: 16770244,\n  black: 0,\n  blanchedalmond: 16772045,\n  blue: 255,\n  blueviolet: 9055202,\n  brown: 10824234,\n  burlywood: 14596231,\n  cadetblue: 6266528,\n  chartreuse: 8388352,\n  chocolate: 13789470,\n  coral: 16744272,\n  cornflowerblue: 6591981,\n  cornsilk: 16775388,\n  crimson: 14423100,\n  cyan: 65535,\n  darkblue: 139,\n  darkcyan: 35723,\n  darkgoldenrod: 12092939,\n  darkgray: 11119017,\n  darkgreen: 25600,\n  darkgrey: 11119017,\n  darkkhaki: 12433259,\n  darkmagenta: 9109643,\n  darkolivegreen: 5597999,\n  darkorange: 16747520,\n  darkorchid: 10040012,\n  darkred: 9109504,\n  darksalmon: 15308410,\n  darkseagreen: 9419919,\n  darkslateblue: 4734347,\n  darkslategray: 3100495,\n  darkslategrey: 3100495,\n  darkturquoise: 52945,\n  darkviolet: 9699539,\n  deeppink: 16716947,\n  deepskyblue: 49151,\n  dimgray: 6908265,\n  dimgrey: 6908265,\n  dodgerblue: 2003199,\n  firebrick: 11674146,\n  floralwhite: 16775920,\n  forestgreen: 2263842,\n  fuchsia: 16711935,\n  gainsboro: 14474460,\n  ghostwhite: 16316671,\n  gold: 16766720,\n  goldenrod: 14329120,\n  gray: 8421504,\n  green: 32768,\n  greenyellow: 11403055,\n  grey: 8421504,\n  honeydew: 15794160,\n  hotpink: 16738740,\n  indianred: 13458524,\n  indigo: 4915330,\n  ivory: 16777200,\n  khaki: 15787660,\n  lavender: 15132410,\n  lavenderblush: 16773365,\n  lawngreen: 8190976,\n  lemonchiffon: 16775885,\n  lightblue: 11393254,\n  lightcoral: 15761536,\n  lightcyan: 14745599,\n  lightgoldenrodyellow: 16448210,\n  lightgray: 13882323,\n  lightgreen: 9498256,\n  lightgrey: 13882323,\n  lightpink: 16758465,\n  lightsalmon: 16752762,\n  lightseagreen: 2142890,\n  lightskyblue: 8900346,\n  lightslategray: 7833753,\n  lightslategrey: 7833753,\n  lightsteelblue: 11584734,\n  lightyellow: 16777184,\n  lime: 65280,\n  limegreen: 3329330,\n  linen: 16445670,\n  magenta: 16711935,\n  maroon: 8388608,\n  mediumaquamarine: 6737322,\n  mediumblue: 205,\n  mediumorchid: 12211667,\n  mediumpurple: 9662683,\n  mediumseagreen: 3978097,\n  mediumslateblue: 8087790,\n  mediumspringgreen: 64154,\n  mediumturquoise: 4772300,\n  mediumvioletred: 13047173,\n  midnightblue: 1644912,\n  mintcream: 16121850,\n  mistyrose: 16770273,\n  moccasin: 16770229,\n  navajowhite: 16768685,\n  navy: 128,\n  oldlace: 16643558,\n  olive: 8421376,\n  olivedrab: 7048739,\n  orange: 16753920,\n  orangered: 16729344,\n  orchid: 14315734,\n  palegoldenrod: 15657130,\n  palegreen: 10025880,\n  paleturquoise: 11529966,\n  palevioletred: 14381203,\n  papayawhip: 16773077,\n  peachpuff: 16767673,\n  peru: 13468991,\n  pink: 16761035,\n  plum: 14524637,\n  powderblue: 11591910,\n  purple: 8388736,\n  rebeccapurple: 6697881,\n  red: 16711680,\n  rosybrown: 12357519,\n  royalblue: 4286945,\n  saddlebrown: 9127187,\n  salmon: 16416882,\n  sandybrown: 16032864,\n  seagreen: 3050327,\n  seashell: 16774638,\n  sienna: 10506797,\n  silver: 12632256,\n  skyblue: 8900331,\n  slateblue: 6970061,\n  slategray: 7372944,\n  slategrey: 7372944,\n  snow: 16775930,\n  springgreen: 65407,\n  steelblue: 4620980,\n  tan: 13808780,\n  teal: 32896,\n  thistle: 14204888,\n  tomato: 16737095,\n  turquoise: 4251856,\n  violet: 15631086,\n  wheat: 16113331,\n  white: 16777215,\n  whitesmoke: 16119285,\n  yellow: 16776960,\n  yellowgreen: 10145074\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) : l === 3 ? new Rgb(m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, (m & 15) << 4 | m & 15, 1) : l === 8 ? rgba(m >> 24 & 255, m >> 16 & 255, m >> 8 & 255, (m & 255) / 255) : l === 4 ? rgba(m >> 12 & 15 | m >> 8 & 240, m >> 8 & 15 | m >> 4 & 240, m >> 4 & 15 | m & 240, ((m & 15) << 4 | m & 15) / 255) : null) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) : named.hasOwnProperty(format) ? rgbn(named[format]) : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 255, n >> 8 & 255, n & 255, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0)\n    r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && (-0.5 <= this.g && this.g < 255.5) && (-0.5 <= this.b && this.b < 255.5) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h2, s, l, a) {\n  if (a <= 0)\n    h2 = s = l = NaN;\n  else if (l <= 0 || l >= 1)\n    h2 = s = NaN;\n  else if (s <= 0)\n    h2 = NaN;\n  return new Hsl(h2, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl)\n    return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color))\n    o = color(o);\n  if (!o)\n    return new Hsl();\n  if (o instanceof Hsl)\n    return o;\n  o = o.rgb();\n  var r = o.r / 255, g = o.g / 255, b = o.b / 255, min = Math.min(r, g, b), max = Math.max(r, g, b), h2 = NaN, s = max - min, l = (max + min) / 2;\n  if (s) {\n    if (r === max)\n      h2 = (g - b) / s + (g < b) * 6;\n    else if (g === max)\n      h2 = (b - r) / s + 2;\n    else\n      h2 = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h2 *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h2;\n  }\n  return new Hsl(h2, s, l, o.opacity);\n}\nfunction hsl(h2, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h2) : new Hsl(h2, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h2, s, l, opacity) {\n  this.h = +h2;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h2 = this.h % 360 + (this.h < 0) * 360, s = isNaN(h2) || isNaN(this.s) ? 0 : this.s, l = this.l, m2 = l + (l < 0.5 ? l : 1 - l) * s, m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h2 >= 240 ? h2 - 240 : h2 + 120, m1, m2),\n      hsl2rgb(h2, m1, m2),\n      hsl2rgb(h2 < 120 ? h2 + 240 : h2 - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && (0 <= this.l && this.l <= 1) && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\nfunction hsl2rgb(h2, m1, m2) {\n  return (h2 < 60 ? m1 + (m2 - m1) * h2 / 60 : h2 < 180 ? m2 : h2 < 240 ? m1 + (m2 - m1) * (240 - h2) / 60 : m1) * 255;\n}\nconst constant$1 = (x) => () => x;\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$1(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant$1(isNaN(a) ? b : a);\n}\nconst interpolateRgb = function rgbGamma(y) {\n  var color2 = gamma(y);\n  function rgb$1(start2, end) {\n    var r = color2((start2 = rgb(start2)).r, (end = rgb(end)).r), g = color2(start2.g, end.g), b = color2(start2.b, end.b), opacity = nogamma(start2.opacity, end.opacity);\n    return function(t) {\n      start2.r = r(t);\n      start2.g = g(t);\n      start2.b = b(t);\n      start2.opacity = opacity(t);\n      return start2 + \"\";\n    };\n  }\n  rgb$1.gamma = rgbGamma;\n  return rgb$1;\n}(1);\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g, reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, am, bm, bs, i = -1, s = [], q = [];\n  a = a + \"\", b = b + \"\";\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      bs = b.slice(bi, bs);\n      if (s[i])\n        s[i] += bs;\n      else\n        s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      if (s[i])\n        s[i] += bm;\n      else\n        s[++i] = bm;\n    } else {\n      s[++i] = null;\n      q.push({ i, x: interpolateNumber(am, bm) });\n    }\n    bi = reB.lastIndex;\n  }\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i])\n      s[i] += bs;\n    else\n      s[++i] = bs;\n  }\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function(t) {\n    for (var i2 = 0, o; i2 < b; ++i2)\n      s[(o = q[i2]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nvar degrees = 180 / Math.PI;\nvar identity$1 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b))\n    a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d)\n    c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d))\n    c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c)\n    a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX,\n    scaleY\n  };\n}\nvar svgNode;\nfunction parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity$1 : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\nfunction parseSvg(value) {\n  if (value == null)\n    return identity$1;\n  if (!svgNode)\n    svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate()))\n    return identity$1;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180)\n        b += 360;\n      else if (b - a > 180)\n        a += 360;\n      q.push({ i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({ i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b) });\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({ i: i - 4, x: interpolateNumber(xa, xb) }, { i: i - 2, x: interpolateNumber(ya, yb) });\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n  return function(a, b) {\n    var s = [], q = [];\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null;\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n)\n        s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\nvar epsilon2 = 1e-12;\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\nconst interpolateZoom = function zoomRho(rho, rho2, rho4) {\n  function zoom2(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2], ux1 = p1[0], uy1 = p1[1], w1 = p1[2], dx = ux1 - ux0, dy = uy1 - uy0, d2 = dx * dx + dy * dy, i, S;\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      };\n    } else {\n      var d1 = Math.sqrt(d2), b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1), b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1), r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0), r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S, coshr0 = cosh(r0), u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      };\n    }\n    i.duration = S * 1e3 * rho / Math.SQRT2;\n    return i;\n  }\n  zoom2.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n  return zoom2;\n}(Math.SQRT2, 2, 4);\nvar frame = 0, timeout$1 = 0, interval = 0, pokeDelay = 1e3, taskHead, taskTail, clockLast = 0, clockNow = 0, clockSkew = 0, clock = typeof performance === \"object\" && performance.now ? performance : Date, setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) {\n  setTimeout(f, 17);\n};\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\nfunction clearNow() {\n  clockNow = 0;\n}\nfunction Timer() {\n  this._call = this._time = this._next = null;\n}\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\")\n      throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail)\n        taskTail._next = this;\n      else\n        taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\nfunction timer(callback, delay, time) {\n  var t = new Timer();\n  t.restart(callback, delay, time);\n  return t;\n}\nfunction timerFlush() {\n  now();\n  ++frame;\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0)\n      t._call.call(void 0, e);\n    t = t._next;\n  }\n  --frame;\n}\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\nfunction poke() {\n  var now2 = clock.now(), delay = now2 - clockLast;\n  if (delay > pokeDelay)\n    clockSkew -= delay, clockLast = now2;\n}\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time)\n        time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\nfunction sleep(time) {\n  if (frame)\n    return;\n  if (timeout$1)\n    timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow;\n  if (delay > 24) {\n    if (time < Infinity)\n      timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval)\n      interval = clearInterval(interval);\n  } else {\n    if (!interval)\n      clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\nfunction timeout(callback, delay, time) {\n  var t = new Timer();\n  delay = delay == null ? 0 : +delay;\n  t.restart((elapsed) => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\nfunction schedule(node, name, id2, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules)\n    node.__transition = {};\n  else if (id2 in schedules)\n    return;\n  create(node, id2, {\n    name,\n    index,\n    // For context during callback.\n    group,\n    // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\nfunction init(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > CREATED)\n    throw new Error(\"too late; already scheduled\");\n  return schedule2;\n}\nfunction set(node, id2) {\n  var schedule2 = get(node, id2);\n  if (schedule2.state > STARTED)\n    throw new Error(\"too late; already running\");\n  return schedule2;\n}\nfunction get(node, id2) {\n  var schedule2 = node.__transition;\n  if (!schedule2 || !(schedule2 = schedule2[id2]))\n    throw new Error(\"transition not found\");\n  return schedule2;\n}\nfunction create(node, id2, self) {\n  var schedules = node.__transition, tween;\n  schedules[id2] = self;\n  self.timer = timer(schedule2, 0, self.time);\n  function schedule2(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start2, self.delay, self.time);\n    if (self.delay <= elapsed)\n      start2(elapsed - self.delay);\n  }\n  function start2(elapsed) {\n    var i, j, n, o;\n    if (self.state !== SCHEDULED)\n      return stop();\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name)\n        continue;\n      if (o.state === STARTED)\n        return timeout(start2);\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      } else if (+i < id2) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING)\n      return;\n    self.state = STARTED;\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1), i = -1, n = tween.length;\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id2];\n    for (var i in schedules)\n      return;\n    delete node.__transition;\n  }\n}\nfunction interrupt(node, name) {\n  var schedules = node.__transition, schedule2, active, empty2 = true, i;\n  if (!schedules)\n    return;\n  name = name == null ? null : name + \"\";\n  for (i in schedules) {\n    if ((schedule2 = schedules[i]).name !== name) {\n      empty2 = false;\n      continue;\n    }\n    active = schedule2.state > STARTING && schedule2.state < ENDING;\n    schedule2.state = ENDED;\n    schedule2.timer.stop();\n    schedule2.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule2.index, schedule2.group);\n    delete schedules[i];\n  }\n  if (empty2)\n    delete node.__transition;\n}\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\nfunction tweenRemove(id2, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction tweenFunction(id2, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    var schedule2 = set(this, id2), tween = schedule2.tween;\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = { name, value }, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n)\n        tween1.push(t);\n    }\n    schedule2.tween = tween1;\n  };\n}\nfunction transition_tween(name, value) {\n  var id2 = this._id;\n  name += \"\";\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id2).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n  return this.each((value == null ? tweenRemove : tweenFunction)(id2, name, value));\n}\nfunction tweenValue(transition2, name, value) {\n  var id2 = transition2._id;\n  transition2.each(function() {\n    var schedule2 = set(this, id2);\n    (schedule2.value || (schedule2.value = {}))[name] = value.apply(this, arguments);\n  });\n  return function(node) {\n    return get(node, id2).value[name];\n  };\n}\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber : b instanceof color ? interpolateRgb : (c = color(b)) ? (b = c, interpolateRgb) : interpolateString)(a, b);\n}\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrConstantNS(fullname, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction attrFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction attrFunctionNS(fullname, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null)\n      return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\" ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value)) : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname) : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\nfunction delayFunction(id2, value) {\n  return function() {\n    init(this, id2).delay = +value.apply(this, arguments);\n  };\n}\nfunction delayConstant(id2, value) {\n  return value = +value, function() {\n    init(this, id2).delay = value;\n  };\n}\nfunction transition_delay(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? delayFunction : delayConstant)(id2, value)) : get(this.node(), id2).delay;\n}\nfunction durationFunction(id2, value) {\n  return function() {\n    set(this, id2).duration = +value.apply(this, arguments);\n  };\n}\nfunction durationConstant(id2, value) {\n  return value = +value, function() {\n    set(this, id2).duration = value;\n  };\n}\nfunction transition_duration(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each((typeof value === \"function\" ? durationFunction : durationConstant)(id2, value)) : get(this.node(), id2).duration;\n}\nfunction easeConstant(id2, value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return function() {\n    set(this, id2).ease = value;\n  };\n}\nfunction transition_ease(value) {\n  var id2 = this._id;\n  return arguments.length ? this.each(easeConstant(id2, value)) : get(this.node(), id2).ease;\n}\nfunction easeVarying(id2, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\")\n      throw new Error();\n    set(this, id2).ease = v;\n  };\n}\nfunction transition_easeVarying(value) {\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.each(easeVarying(this._id, value));\n}\nfunction transition_filter(match) {\n  if (typeof match !== \"function\")\n    match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\nfunction transition_merge(transition2) {\n  if (transition2._id !== this._id)\n    throw new Error();\n  for (var groups0 = this._groups, groups1 = transition2._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Transition(merges, this._parents, this._name, this._id);\n}\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0)\n      t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\nfunction onFunction(id2, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule2 = sit(this, id2), on = schedule2.on;\n    if (on !== on0)\n      (on1 = (on0 = on).copy()).on(name, listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_on(name, listener) {\n  var id2 = this._id;\n  return arguments.length < 2 ? get(this.node(), id2).on.on(name) : this.each(onFunction(id2, name, listener));\n}\nfunction removeFunction(id2) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition)\n      if (+i !== id2)\n        return;\n    if (parent)\n      parent.removeChild(this);\n  };\n}\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\nfunction transition_select(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selector(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select2.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node)\n          subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id2, i, subgroup, get(node, id2));\n      }\n    }\n  }\n  return new Transition(subgroups, this._parents, name, id2);\n}\nfunction transition_selectAll(select2) {\n  var name = this._name, id2 = this._id;\n  if (typeof select2 !== \"function\")\n    select2 = selectorAll(select2);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children2 = select2.call(node, node.__data__, i, group), child, inherit2 = get(node, id2), k = 0, l = children2.length; k < l; ++k) {\n          if (child = children2[k]) {\n            schedule(child, name, id2, k, children2, inherit2);\n          }\n        }\n        subgroups.push(children2);\n        parents.push(node);\n      }\n    }\n  }\n  return new Transition(subgroups, parents, name, id2);\n}\nvar Selection = selection.prototype.constructor;\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\nfunction styleNull(name, interpolate2) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, string10 = string1);\n  };\n}\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, interpolate2, value1) {\n  var string00, string1 = value1 + \"\", interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null : string0 === string00 ? interpolate0 : interpolate0 = interpolate2(string00 = string0, value1);\n  };\n}\nfunction styleFunction(name, interpolate2, value) {\n  var string00, string10, interpolate0;\n  return function() {\n    var string0 = styleValue(this, name), value1 = value(this), string1 = value1 + \"\";\n    if (value1 == null)\n      string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null : string0 === string00 && string1 === string10 ? interpolate0 : (string10 = string1, interpolate0 = interpolate2(string00 = string0, value1));\n  };\n}\nfunction styleMaybeRemove(id2, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove2;\n  return function() {\n    var schedule2 = set(this, id2), on = schedule2.on, listener = schedule2.value[key] == null ? remove2 || (remove2 = styleRemove(name)) : void 0;\n    if (on !== on0 || listener0 !== listener)\n      (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n    schedule2.on = on1;\n  };\n}\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this.styleTween(name, styleNull(name, i)).on(\"end.style.\" + name, styleRemove(name)) : typeof value === \"function\" ? this.styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value))).each(styleMaybeRemove(this._id, name)) : this.styleTween(name, styleConstant(name, i, value), priority).on(\"end.style.\" + name, null);\n}\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\" ? textFunction(tweenValue(this, \"text\", value)) : textConstant(value == null ? \"\" : value + \"\"));\n}\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0)\n      t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1)\n    return (key = this.tween(key)) && key._value;\n  if (value == null)\n    return this.tween(key, null);\n  if (typeof value !== \"function\")\n    throw new Error();\n  return this.tween(key, textTween(value));\n}\nfunction transition_transition() {\n  var name = this._name, id0 = this._id, id1 = newId();\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit2 = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit2.time + inherit2.delay + inherit2.duration,\n          delay: 0,\n          duration: inherit2.duration,\n          ease: inherit2.ease\n        });\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id1);\n}\nfunction transition_end() {\n  var on0, on1, that = this, id2 = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = { value: reject }, end = { value: function() {\n      if (--size === 0)\n        resolve();\n    } };\n    that.each(function() {\n      var schedule2 = set(this, id2), on = schedule2.on;\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n      schedule2.on = on1;\n    });\n    if (size === 0)\n      resolve();\n  });\n}\nvar id = 0;\nfunction Transition(groups, parents, name, id2) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id2;\n}\nfunction newId() {\n  return ++id;\n}\nvar selection_prototype = selection.prototype;\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\nvar defaultTiming = {\n  time: null,\n  // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\nfunction inherit(node, id2) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id2])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id2} not found`);\n    }\n  }\n  return timing;\n}\nfunction selection_transition(name) {\n  var id2, timing;\n  if (name instanceof Transition) {\n    id2 = name._id, name = name._name;\n  } else {\n    id2 = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id2, i, group, timing || inherit(node, id2));\n      }\n    }\n  }\n  return new Transition(groups, this._parents, name, id2);\n}\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\nconst constant = (x) => () => x;\nfunction ZoomEvent(type, {\n  sourceEvent: sourceEvent2,\n  target,\n  transform,\n  dispatch: dispatch2\n}) {\n  Object.defineProperties(this, {\n    type: { value: type, enumerable: true, configurable: true },\n    sourceEvent: { value: sourceEvent2, enumerable: true, configurable: true },\n    target: { value: target, enumerable: true, configurable: true },\n    transform: { value: transform, enumerable: true, configurable: true },\n    _: { value: dispatch2 }\n  });\n}\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\nvar identity = new Transform(1, 0, 0);\nTransform.prototype;\nfunction nopropagation(event) {\n  event.stopImmediatePropagation();\n}\nfunction noevent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === \"wheel\") && !event.button;\n}\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * (event.ctrlKey ? 10 : 1);\n}\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || \"ontouchstart\" in this;\n}\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0], dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0], dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1], dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\nfunction zoom() {\n  var filter2 = defaultFilter, extent = defaultExtent, constrain = defaultConstrain, wheelDelta = defaultWheelDelta, touchable = defaultTouchable, scaleExtent = [0, Infinity], translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]], duration = 250, interpolate2 = interpolateZoom, listeners = dispatch(\"start\", \"zoom\", \"end\"), touchstarting, touchfirst, touchending, touchDelay = 500, wheelDelay = 150, clickDistance2 = 0, tapDistance = 10;\n  function zoom2(selection2) {\n    selection2.property(\"__zoom\", defaultTransform).on(\"wheel.zoom\", wheeled, { passive: false }).on(\"mousedown.zoom\", mousedowned).on(\"dblclick.zoom\", dblclicked).filter(touchable).on(\"touchstart.zoom\", touchstarted).on(\"touchmove.zoom\", touchmoved).on(\"touchend.zoom touchcancel.zoom\", touchended).style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n  zoom2.transform = function(collection, transform, point, event) {\n    var selection2 = collection.selection ? collection.selection() : collection;\n    selection2.property(\"__zoom\", defaultTransform);\n    if (collection !== selection2) {\n      schedule2(collection, transform, point, event);\n    } else {\n      selection2.interrupt().each(function() {\n        gesture(this, arguments).event(event).start().zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform).end();\n      });\n    }\n  };\n  zoom2.scaleBy = function(selection2, k, p, event) {\n    zoom2.scaleTo(selection2, function() {\n      var k0 = this.__zoom.k, k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n  zoom2.scaleTo = function(selection2, k, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t0 = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p, p1 = t0.invert(p0), k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n  zoom2.translateBy = function(selection2, x, y, event) {\n    zoom2.transform(selection2, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n  zoom2.translateTo = function(selection2, x, y, p, event) {\n    zoom2.transform(selection2, function() {\n      var e = extent.apply(this, arguments), t = this.__zoom, p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n  function centroid(extent2) {\n    return [(+extent2[0][0] + +extent2[1][0]) / 2, (+extent2[0][1] + +extent2[1][1]) / 2];\n  }\n  function schedule2(transition2, transform, point, event) {\n    transition2.on(\"start.zoom\", function() {\n      gesture(this, arguments).event(event).start();\n    }).on(\"interrupt.zoom end.zoom\", function() {\n      gesture(this, arguments).event(event).end();\n    }).tween(\"zoom\", function() {\n      var that = this, args = arguments, g = gesture(that, args).event(event), e = extent.apply(that, args), p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point, w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]), a = that.__zoom, b = typeof transform === \"function\" ? transform.apply(that, args) : transform, i = interpolate2(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n      return function(t) {\n        if (t === 1)\n          t = b;\n        else {\n          var l = i(t), k = w / l[2];\n          t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k);\n        }\n        g.zoom(null, t);\n      };\n    });\n  }\n  function gesture(that, args, clean) {\n    return !clean && that.__zooming || new Gesture(that, args);\n  }\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n  Gesture.prototype = {\n    event: function(event) {\n      if (event)\n        this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\")\n        this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\")\n        this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\")\n        this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom2,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n  function wheeled(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var g = gesture(this, args).event(event), t = this.__zoom, k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))), p = pointer(event);\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    } else if (t.k === k)\n      return;\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n  function mousedowned(event, ...args) {\n    if (touchending || !filter2.apply(this, arguments))\n      return;\n    var currentTarget = event.currentTarget, g = gesture(this, args, true).event(event), v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true), p = pointer(event, currentTarget), x0 = event.clientX, y0 = event.clientY;\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n    function mousemoved(event2) {\n      noevent(event2);\n      if (!g.moved) {\n        var dx = event2.clientX - x0, dy = event2.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event2).zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event2, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n    function mouseupped(event2) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event2.view, g.moved);\n      noevent(event2);\n      g.event(event2).end();\n    }\n  }\n  function dblclicked(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var t0 = this.__zoom, p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this), p1 = t0.invert(p0), k1 = t0.k * (event.shiftKey ? 0.5 : 2), t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n    noevent(event);\n    if (duration > 0)\n      select(this).transition().duration(duration).call(schedule2, t1, p0, event);\n    else\n      select(this).call(zoom2.transform, t1, p0, event);\n  }\n  function touchstarted(event, ...args) {\n    if (!filter2.apply(this, arguments))\n      return;\n    var touches = event.touches, n = touches.length, g = gesture(this, args, event.changedTouches.length === n).event(event), started, i, t, p;\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0)\n        g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2])\n        g.touch1 = p, g.taps = 0;\n    }\n    if (touchstarting)\n      touchstarting = clearTimeout(touchstarting);\n    if (started) {\n      if (g.taps < 2)\n        touchfirst = p[0], touchstarting = setTimeout(function() {\n          touchstarting = null;\n        }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n  function touchmoved(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t, p, l;\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1], p1 = g.touch1[0], l1 = g.touch1[1], dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp, dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    } else if (g.touch0)\n      p = g.touch0[0], l = g.touch0[1];\n    else\n      return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n  function touchended(event, ...args) {\n    if (!this.__zooming)\n      return;\n    var g = gesture(this, args).event(event), touches = event.changedTouches, n = touches.length, i, t;\n    nopropagation(event);\n    if (touchending)\n      clearTimeout(touchending);\n    touchending = setTimeout(function() {\n      touchending = null;\n    }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier)\n        delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier)\n        delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0)\n      g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0)\n      g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p)\n            p.apply(this, arguments);\n        }\n      }\n    }\n  }\n  zoom2.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom2) : wheelDelta;\n  };\n  zoom2.filter = function(_) {\n    return arguments.length ? (filter2 = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : filter2;\n  };\n  zoom2.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom2) : touchable;\n  };\n  zoom2.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom2) : extent;\n  };\n  zoom2.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom2) : [scaleExtent[0], scaleExtent[1]];\n  };\n  zoom2.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom2) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n  zoom2.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom2) : constrain;\n  };\n  zoom2.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom2) : duration;\n  };\n  zoom2.interpolate = function(_) {\n    return arguments.length ? (interpolate2 = _, zoom2) : interpolate2;\n  };\n  zoom2.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom2 : value;\n  };\n  zoom2.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom2) : Math.sqrt(clickDistance2);\n  };\n  zoom2.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom2) : tapDistance;\n  };\n  return zoom2;\n}\nvar Position = /* @__PURE__ */ ((Position2) => {\n  Position2[\"Left\"] = \"left\";\n  Position2[\"Top\"] = \"top\";\n  Position2[\"Right\"] = \"right\";\n  Position2[\"Bottom\"] = \"bottom\";\n  return Position2;\n})(Position || {});\nvar SelectionMode = /* @__PURE__ */ ((SelectionMode2) => {\n  SelectionMode2[\"Partial\"] = \"partial\";\n  SelectionMode2[\"Full\"] = \"full\";\n  return SelectionMode2;\n})(SelectionMode || {});\nvar ConnectionLineType = /* @__PURE__ */ ((ConnectionLineType2) => {\n  ConnectionLineType2[\"Bezier\"] = \"default\";\n  ConnectionLineType2[\"SimpleBezier\"] = \"simple-bezier\";\n  ConnectionLineType2[\"Straight\"] = \"straight\";\n  ConnectionLineType2[\"Step\"] = \"step\";\n  ConnectionLineType2[\"SmoothStep\"] = \"smoothstep\";\n  return ConnectionLineType2;\n})(ConnectionLineType || {});\nvar ConnectionMode = /* @__PURE__ */ ((ConnectionMode2) => {\n  ConnectionMode2[\"Strict\"] = \"strict\";\n  ConnectionMode2[\"Loose\"] = \"loose\";\n  return ConnectionMode2;\n})(ConnectionMode || {});\nvar MarkerType = /* @__PURE__ */ ((MarkerType2) => {\n  MarkerType2[\"Arrow\"] = \"arrow\";\n  MarkerType2[\"ArrowClosed\"] = \"arrowclosed\";\n  return MarkerType2;\n})(MarkerType || {});\nvar PanOnScrollMode = /* @__PURE__ */ ((PanOnScrollMode2) => {\n  PanOnScrollMode2[\"Free\"] = \"free\";\n  PanOnScrollMode2[\"Vertical\"] = \"vertical\";\n  PanOnScrollMode2[\"Horizontal\"] = \"horizontal\";\n  return PanOnScrollMode2;\n})(PanOnScrollMode || {});\nvar PanelPosition = /* @__PURE__ */ ((PanelPosition2) => {\n  PanelPosition2[\"TopLeft\"] = \"top-left\";\n  PanelPosition2[\"TopCenter\"] = \"top-center\";\n  PanelPosition2[\"TopRight\"] = \"top-right\";\n  PanelPosition2[\"BottomLeft\"] = \"bottom-left\";\n  PanelPosition2[\"BottomCenter\"] = \"bottom-center\";\n  PanelPosition2[\"BottomRight\"] = \"bottom-right\";\n  return PanelPosition2;\n})(PanelPosition || {});\nfunction useWindow() {\n  if (typeof window !== \"undefined\") {\n    return window;\n  } else {\n    return {\n      chrome: false,\n      addEventListener(..._) {\n      }\n    };\n  }\n}\nfunction isInputDOMNode(event) {\n  var _a, _b;\n  const target = ((_b = (_a = event.composedPath) == null ? void 0 : _a.call(event)) == null ? void 0 : _b[0]) || event.target;\n  const hasAttribute = typeof (target == null ? void 0 : target.hasAttribute) === \"function\" ? target.hasAttribute(\"contenteditable\") : false;\n  const closest = typeof (target == null ? void 0 : target.closest) === \"function\" ? target.closest(\".nokey\") : null;\n  return [\"INPUT\", \"SELECT\", \"TEXTAREA\"].includes(target == null ? void 0 : target.nodeName) || hasAttribute || !!closest;\n}\nfunction wasModifierPressed(event) {\n  return event.ctrlKey || event.metaKey || event.shiftKey;\n}\nfunction isKeyMatch(pressedKey, keyToMatch, pressedKeys, isKeyUp) {\n  const keyCombination = keyToMatch.split(\"+\").map((k) => k.trim().toLowerCase());\n  if (keyCombination.length === 1) {\n    return pressedKey.toLowerCase() === keyToMatch.toLowerCase();\n  }\n  if (isKeyUp) {\n    pressedKeys.delete(pressedKey.toLowerCase());\n  } else {\n    pressedKeys.add(pressedKey.toLowerCase());\n  }\n  return keyCombination.every(\n    (key, index) => pressedKeys.has(key) && Array.from(pressedKeys.values())[index] === keyCombination[index]\n  );\n}\nfunction createKeyPredicate(keyFilter, pressedKeys) {\n  return (event) => {\n    if (!event.code && !event.key) {\n      return false;\n    }\n    const keyOrCode = useKeyOrCode(event.code, keyFilter);\n    if (Array.isArray(keyFilter)) {\n      return keyFilter.some((key) => isKeyMatch(event[keyOrCode], key, pressedKeys, event.type === \"keyup\"));\n    }\n    return isKeyMatch(event[keyOrCode], keyFilter, pressedKeys, event.type === \"keyup\");\n  };\n}\nfunction useKeyOrCode(code, keysToWatch) {\n  if (typeof keysToWatch === \"string\") {\n    return code === keysToWatch ? \"code\" : \"key\";\n  }\n  return keysToWatch.includes(code) ? \"code\" : \"key\";\n}\nfunction useKeyPress(keyFilter, onChange, options = { actInsideInputWithModifier: true }) {\n  const window2 = useWindow();\n  const isPressed = ref(toValue$1(keyFilter) === true);\n  let modifierPressed = false;\n  const pressedKeys = /* @__PURE__ */ new Set();\n  let currentFilter = createKeyFilterFn(toValue$1(keyFilter));\n  watch(isPressed, (isKeyPressed, wasPressed) => {\n    if (isKeyPressed !== wasPressed) {\n      onChange == null ? void 0 : onChange(isKeyPressed);\n    }\n  });\n  watch(\n    () => toValue$1(keyFilter),\n    (nextKeyFilter, previousKeyFilter) => {\n      if (typeof previousKeyFilter === \"boolean\" && typeof nextKeyFilter !== \"boolean\") {\n        reset();\n      }\n      currentFilter = createKeyFilterFn(nextKeyFilter);\n    },\n    {\n      immediate: true\n    }\n  );\n  useEventListener(window2, \"blur\", () => {\n    if (toValue$1(keyFilter) !== true) {\n      isPressed.value = false;\n    }\n  });\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      modifierPressed = wasModifierPressed(e);\n      const preventAction = (!modifierPressed || modifierPressed && !options.actInsideInputWithModifier) && isInputDOMNode(e);\n      if (preventAction) {\n        return;\n      }\n      e.preventDefault();\n      isPressed.value = true;\n    },\n    { eventName: \"keydown\" }\n  );\n  onKeyStroke(\n    (...args) => currentFilter(...args),\n    (e) => {\n      if (isPressed.value) {\n        const preventAction = (!modifierPressed || modifierPressed && !options.actInsideInputWithModifier) && isInputDOMNode(e);\n        if (preventAction) {\n          return;\n        }\n        reset();\n      }\n    },\n    { eventName: \"keyup\" }\n  );\n  return isPressed;\n  function reset() {\n    modifierPressed = false;\n    pressedKeys.clear();\n    isPressed.value = false;\n  }\n  function createKeyFilterFn(keyFilter2) {\n    if (keyFilter2 === null) {\n      reset();\n      return () => false;\n    }\n    if (typeof keyFilter2 === \"boolean\") {\n      reset();\n      isPressed.value = keyFilter2;\n      return () => false;\n    }\n    if (Array.isArray(keyFilter2) || typeof keyFilter2 === \"string\") {\n      return createKeyPredicate(keyFilter2, pressedKeys);\n    }\n    return keyFilter2;\n  }\n}\nconst ARIA_NODE_DESC_KEY = \"vue-flow__node-desc\";\nconst ARIA_EDGE_DESC_KEY = \"vue-flow__edge-desc\";\nconst ARIA_LIVE_MESSAGE = \"vue-flow__aria-live\";\nconst elementSelectionKeys = [\"Enter\", \" \", \"Escape\"];\nconst arrowKeyDiffs = {\n  ArrowUp: { x: 0, y: -1 },\n  ArrowDown: { x: 0, y: 1 },\n  ArrowLeft: { x: -1, y: 0 },\n  ArrowRight: { x: 1, y: 0 }\n};\nfunction useDrag(params) {\n  const {\n    vueFlowRef,\n    snapToGrid,\n    snapGrid,\n    noDragClassName,\n    nodes,\n    nodeExtent,\n    nodeDragThreshold,\n    viewport,\n    autoPanOnNodeDrag,\n    nodesDraggable,\n    panBy,\n    findNode,\n    multiSelectionActive,\n    nodesSelectionActive,\n    selectNodesOnDrag,\n    removeSelectedElements,\n    addSelectedNodes,\n    updateNodePositions,\n    emits\n  } = useVueFlow();\n  const { onStart, onDrag, onStop, el, disabled, id: id2, selectable, dragHandle } = params;\n  const dragging = ref(false);\n  let dragItems = [];\n  let dragHandler;\n  let containerBounds = null;\n  let lastPos = { x: void 0, y: void 0 };\n  let mousePosition = { x: 0, y: 0 };\n  let dragEvent = null;\n  let dragStarted = false;\n  let autoPanId = 0;\n  let autoPanStarted = false;\n  const getPointerPosition = useGetPointerPosition();\n  const updateNodes = ({ x, y }) => {\n    lastPos = { x, y };\n    let hasChange = false;\n    dragItems = dragItems.map((n) => {\n      const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n      if (snapToGrid.value) {\n        nextPosition.x = snapGrid.value[0] * Math.round(nextPosition.x / snapGrid.value[0]);\n        nextPosition.y = snapGrid.value[1] * Math.round(nextPosition.y / snapGrid.value[1]);\n      }\n      const { computedPosition } = calcNextPosition(\n        n,\n        nextPosition,\n        emits.error,\n        nodeExtent.value,\n        n.parentNode ? findNode(n.parentNode) : void 0\n      );\n      hasChange = hasChange || n.position.x !== computedPosition.x || n.position.y !== computedPosition.y;\n      n.position = computedPosition;\n      return n;\n    });\n    if (!hasChange) {\n      return;\n    }\n    updateNodePositions(dragItems, true, true);\n    dragging.value = true;\n    if (dragEvent) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onDrag({ event: dragEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const autoPan = () => {\n    if (!containerBounds) {\n      return;\n    }\n    const [xMovement, yMovement] = calcAutoPan(mousePosition, containerBounds);\n    if (xMovement !== 0 || yMovement !== 0) {\n      const nextPos = {\n        x: (lastPos.x ?? 0) - xMovement / viewport.value.zoom,\n        y: (lastPos.y ?? 0) - yMovement / viewport.value.zoom\n      };\n      if (panBy({ x: xMovement, y: yMovement })) {\n        updateNodes(nextPos);\n      }\n    }\n    autoPanId = requestAnimationFrame(autoPan);\n  };\n  const startDrag = (event, nodeEl) => {\n    dragStarted = true;\n    const node = findNode(id2);\n    if (!selectNodesOnDrag.value && !multiSelectionActive.value && node) {\n      if (!node.selected) {\n        removeSelectedElements();\n      }\n    }\n    if (node && toValue$1(selectable) && selectNodesOnDrag.value) {\n      handleNodeClick(\n        node,\n        multiSelectionActive.value,\n        addSelectedNodes,\n        removeSelectedElements,\n        nodesSelectionActive,\n        false,\n        nodeEl\n      );\n    }\n    const pointerPos = getPointerPosition(event);\n    lastPos = pointerPos;\n    dragItems = getDragItems(nodes.value, nodesDraggable.value, pointerPos, findNode, id2);\n    if (dragItems.length) {\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStart({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  const eventStart = (event, nodeEl) => {\n    var _a;\n    if (nodeDragThreshold.value === 0) {\n      startDrag(event, nodeEl);\n    }\n    lastPos = getPointerPosition(event);\n    containerBounds = ((_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect()) || null;\n    mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n  };\n  const eventDrag = (event, nodeEl) => {\n    const pointerPos = getPointerPosition(event);\n    if (!autoPanStarted && dragStarted && autoPanOnNodeDrag.value) {\n      autoPanStarted = true;\n      autoPan();\n    }\n    if (!dragStarted) {\n      const x = pointerPos.xSnapped - (lastPos.x ?? 0);\n      const y = pointerPos.ySnapped - (lastPos.y ?? 0);\n      const distance2 = Math.sqrt(x * x + y * y);\n      if (distance2 > nodeDragThreshold.value) {\n        startDrag(event, nodeEl);\n      }\n    }\n    if ((lastPos.x !== pointerPos.xSnapped || lastPos.y !== pointerPos.ySnapped) && dragItems.length && dragStarted) {\n      dragEvent = event.sourceEvent;\n      mousePosition = getEventPosition(event.sourceEvent, containerBounds);\n      updateNodes(pointerPos);\n    }\n  };\n  const eventEnd = (event) => {\n    if (!dragStarted) {\n      return;\n    }\n    dragging.value = false;\n    autoPanStarted = false;\n    dragStarted = false;\n    cancelAnimationFrame(autoPanId);\n    if (dragItems.length) {\n      updateNodePositions(dragItems, false, false);\n      const [currentNode, nodes2] = getEventHandlerParams({\n        id: id2,\n        dragItems,\n        findNode\n      });\n      onStop({ event: event.sourceEvent, node: currentNode, nodes: nodes2 });\n    }\n  };\n  watch([() => toValue$1(disabled), el], ([isDisabled, nodeEl], _, onCleanup) => {\n    if (nodeEl) {\n      const selection2 = select(nodeEl);\n      if (!isDisabled) {\n        dragHandler = drag().on(\"start\", (event) => eventStart(event, nodeEl)).on(\"drag\", (event) => eventDrag(event, nodeEl)).on(\"end\", (event) => eventEnd(event)).filter((event) => {\n          const target = event.target;\n          const unrefDragHandle = toValue$1(dragHandle);\n          return !event.button && (!noDragClassName.value || !hasSelector(target, `.${noDragClassName.value}`, nodeEl) && (!unrefDragHandle || hasSelector(target, unrefDragHandle, nodeEl)));\n        });\n        selection2.call(dragHandler);\n      }\n      onCleanup(() => {\n        selection2.on(\".drag\", null);\n        if (dragHandler) {\n          dragHandler.on(\"start\", null);\n          dragHandler.on(\"drag\", null);\n          dragHandler.on(\"end\", null);\n        }\n      });\n    }\n  });\n  return dragging;\n}\nconst VueFlow = Symbol(\"vueFlow\");\nconst NodeId = Symbol(\"nodeId\");\nconst NodeRef = Symbol(\"nodeRef\");\nconst EdgeId = Symbol(\"edgeId\");\nconst EdgeRef = Symbol(\"edgeRef\");\nconst Slots = Symbol(\"slots\");\nfunction useEdge(id2) {\n  const edgeId = id2 ?? inject(EdgeId, \"\");\n  const edgeEl = inject(EdgeRef, ref(null));\n  const { findEdge, emits } = useVueFlow();\n  const edge = findEdge(edgeId);\n  if (!edge) {\n    emits.error(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edgeId));\n  }\n  return {\n    id: edgeId,\n    edge,\n    edgeEl\n  };\n}\nfunction createEdgeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    updateStart: createExtendedEventHook(),\n    update: createExtendedEventHook(),\n    updateEnd: createExtendedEventHook()\n  };\n}\nfunction useEdgeHooks(edge, emits) {\n  const edgeHooks = createEdgeHooks();\n  edgeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.edgeDoubleClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.click.on((event) => {\n    var _a, _b;\n    emits.edgeClick(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.edgeMouseEnter(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.edgeMouseMove(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.edgeMouseLeave(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.edgeContextMenu(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateStart.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateStart(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateStart) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.update.on((event) => {\n    var _a, _b;\n    emits.edgeUpdate(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.update) == null ? void 0 : _b.call(_a, event);\n  });\n  edgeHooks.updateEnd.on((event) => {\n    var _a, _b;\n    emits.edgeUpdateEnd(event);\n    (_b = (_a = edge.events) == null ? void 0 : _a.updateEnd) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(edgeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useGetPointerPosition() {\n  const { viewport, snapGrid, snapToGrid } = useVueFlow();\n  return ({ sourceEvent: sourceEvent2 }) => {\n    const x = sourceEvent2.touches ? sourceEvent2.touches[0].clientX : sourceEvent2.clientX;\n    const y = sourceEvent2.touches ? sourceEvent2.touches[0].clientY : sourceEvent2.clientY;\n    const pointerPos = {\n      x: (x - viewport.value.x) / viewport.value.zoom,\n      y: (y - viewport.value.y) / viewport.value.zoom\n    };\n    return {\n      xSnapped: snapToGrid.value ? snapGrid.value[0] * Math.round(pointerPos.x / snapGrid.value[0]) : pointerPos.x,\n      ySnapped: snapToGrid.value ? snapGrid.value[1] * Math.round(pointerPos.y / snapGrid.value[1]) : pointerPos.y,\n      ...pointerPos\n    };\n  };\n}\nfunction alwaysValid() {\n  return true;\n}\nfunction useHandle({\n  handleId,\n  nodeId,\n  type,\n  isValidConnection,\n  edgeUpdaterType,\n  onEdgeUpdate,\n  onEdgeUpdateEnd\n}) {\n  const {\n    vueFlowRef,\n    connectionMode,\n    connectionRadius,\n    connectOnClick,\n    connectionClickStartHandle,\n    nodesConnectable,\n    autoPanOnConnect,\n    findNode,\n    panBy,\n    startConnection,\n    updateConnection,\n    endConnection,\n    emits,\n    viewport,\n    edges,\n    nodes,\n    isValidConnection: isValidConnectionProp\n  } = useVueFlow();\n  let connection = null;\n  let isValid = false;\n  let handleDomNode = null;\n  function handlePointerDown(event) {\n    var _a;\n    const isTarget = toValue$1(type) === \"target\";\n    const isMouseTriggered = isMouseEvent(event);\n    const doc = getHostForElement(event.target);\n    if (isMouseTriggered && event.button === 0 || !isMouseTriggered) {\n      let onPointerMove = function(event2) {\n        connectionPosition = getEventPosition(event2, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(\n          event2,\n          doc,\n          pointToRendererPoint(connectionPosition, viewport.value, false, [1, 1]),\n          connectionRadius.value,\n          handleLookup,\n          (handle2) => isValidHandle(\n            event2,\n            handle2,\n            connectionMode.value,\n            toValue$1(nodeId),\n            toValue$1(handleId),\n            isTarget ? \"target\" : \"source\",\n            isValidConnectionHandler,\n            doc,\n            edges.value,\n            nodes.value,\n            findNode\n          )\n        );\n        closestHandle = handle;\n        if (!autoPanStarted) {\n          autoPan();\n          autoPanStarted = true;\n        }\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        handleDomNode = validHandleResult.handleDomNode;\n        updateConnection(\n          closestHandle && isValid ? rendererPointToPoint(\n            {\n              x: closestHandle.x,\n              y: closestHandle.y\n            },\n            viewport.value\n          ) : connectionPosition,\n          validHandleResult.endHandle,\n          getConnectionStatus(!!closestHandle, isValid)\n        );\n        if (!closestHandle && !isValid && !handleDomNode) {\n          return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection && connection.source !== connection.target && handleDomNode) {\n          resetRecentHandle(prevActiveHandle);\n          prevActiveHandle = handleDomNode;\n          handleDomNode.classList.add(\"connecting\", \"vue-flow__handle-connecting\");\n          handleDomNode.classList.toggle(\"valid\", isValid);\n          handleDomNode.classList.toggle(\"vue-flow__handle-valid\", isValid);\n        }\n      }, onPointerUp = function(event2) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n          if (!onEdgeUpdate) {\n            emits.connect(connection);\n          } else {\n            onEdgeUpdate(event2, connection);\n          }\n        }\n        emits.connectEnd(event2);\n        if (edgeUpdaterType) {\n          onEdgeUpdateEnd == null ? void 0 : onEdgeUpdateEnd(event2);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelAnimationFrame(autoPanId);\n        endConnection(event2);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener(\"mousemove\", onPointerMove);\n        doc.removeEventListener(\"mouseup\", onPointerUp);\n        doc.removeEventListener(\"touchmove\", onPointerMove);\n        doc.removeEventListener(\"touchend\", onPointerUp);\n      };\n      const node = findNode(toValue$1(nodeId));\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      let closestHandle;\n      let autoPanId = 0;\n      const { x, y } = getEventPosition(event);\n      const clickedHandle = doc == null ? void 0 : doc.elementFromPoint(x, y);\n      const handleType = getHandleType(toValue$1(edgeUpdaterType), clickedHandle);\n      const containerBounds = (_a = vueFlowRef.value) == null ? void 0 : _a.getBoundingClientRect();\n      if (!containerBounds || !handleType) {\n        return;\n      }\n      let prevActiveHandle;\n      let connectionPosition = getEventPosition(event, containerBounds);\n      let autoPanStarted = false;\n      const handleLookup = getHandleLookup({\n        nodes: nodes.value,\n        nodeId: toValue$1(nodeId),\n        handleId: toValue$1(handleId),\n        handleType\n      });\n      const autoPan = () => {\n        if (!autoPanOnConnect) {\n          return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n      };\n      startConnection(\n        {\n          nodeId: toValue$1(nodeId),\n          handleId: toValue$1(handleId),\n          type: handleType\n        },\n        {\n          x: x - containerBounds.left,\n          y: y - containerBounds.top\n        },\n        event\n      );\n      emits.connectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId), handleType });\n      doc.addEventListener(\"mousemove\", onPointerMove);\n      doc.addEventListener(\"mouseup\", onPointerUp);\n      doc.addEventListener(\"touchmove\", onPointerMove);\n      doc.addEventListener(\"touchend\", onPointerUp);\n    }\n  }\n  function handleClick(event) {\n    if (!connectOnClick.value) {\n      return;\n    }\n    const isTarget = toValue$1(type) === \"target\";\n    if (!connectionClickStartHandle.value) {\n      emits.clickConnectStart({ event, nodeId: toValue$1(nodeId), handleId: toValue$1(handleId) });\n      startConnection({ nodeId: toValue$1(nodeId), type: toValue$1(type), handleId: toValue$1(handleId) }, void 0, event, true);\n    } else {\n      let isValidConnectionHandler = toValue$1(isValidConnection) || isValidConnectionProp.value || alwaysValid;\n      const node = findNode(toValue$1(nodeId));\n      if (!isValidConnectionHandler && node) {\n        isValidConnectionHandler = (!isTarget ? node.isValidTargetPos : node.isValidSourcePos) || alwaysValid;\n      }\n      if (node && (typeof node.connectable === \"undefined\" ? nodesConnectable.value : node.connectable) === false) {\n        return;\n      }\n      const doc = getHostForElement(event.target);\n      const { connection: connection2, isValid: isValid2 } = isValidHandle(\n        event,\n        {\n          nodeId: toValue$1(nodeId),\n          id: toValue$1(handleId),\n          type: toValue$1(type)\n        },\n        connectionMode.value,\n        connectionClickStartHandle.value.nodeId,\n        connectionClickStartHandle.value.handleId || null,\n        connectionClickStartHandle.value.type,\n        isValidConnectionHandler,\n        doc,\n        edges.value,\n        nodes.value,\n        findNode\n      );\n      const isOwnHandle = connection2.source === connection2.target;\n      if (isValid2 && !isOwnHandle) {\n        emits.connect(connection2);\n      }\n      emits.clickConnectEnd(event);\n      endConnection(event, true);\n    }\n  }\n  return {\n    handlePointerDown,\n    handleClick\n  };\n}\nfunction useNodeId() {\n  return inject(NodeId, \"\");\n}\nfunction useNode(id2) {\n  const nodeId = id2 ?? useNodeId() ?? \"\";\n  const nodeEl = inject(NodeRef, ref(null));\n  const { findNode, edges, emits } = useVueFlow();\n  const node = findNode(nodeId);\n  if (!node) {\n    emits.error(new VueFlowError(ErrorCode.NODE_NOT_FOUND, nodeId));\n  }\n  return {\n    id: nodeId,\n    nodeEl,\n    node,\n    parentNode: computed(() => findNode(node.parentNode)),\n    connectedEdges: computed(() => getConnectedEdges([node], edges.value))\n  };\n}\nfunction createNodeHooks() {\n  return {\n    doubleClick: createExtendedEventHook(),\n    click: createExtendedEventHook(),\n    mouseEnter: createExtendedEventHook(),\n    mouseMove: createExtendedEventHook(),\n    mouseLeave: createExtendedEventHook(),\n    contextMenu: createExtendedEventHook(),\n    dragStart: createExtendedEventHook(),\n    drag: createExtendedEventHook(),\n    dragStop: createExtendedEventHook()\n  };\n}\nfunction useNodeHooks(node, emits) {\n  const nodeHooks = createNodeHooks();\n  nodeHooks.doubleClick.on((event) => {\n    var _a, _b;\n    emits.nodeDoubleClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.doubleClick) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.click.on((event) => {\n    var _a, _b;\n    emits.nodeClick(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.click) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseEnter.on((event) => {\n    var _a, _b;\n    emits.nodeMouseEnter(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseEnter) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseMove.on((event) => {\n    var _a, _b;\n    emits.nodeMouseMove(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseMove) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.mouseLeave.on((event) => {\n    var _a, _b;\n    emits.nodeMouseLeave(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.mouseLeave) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.contextMenu.on((event) => {\n    var _a, _b;\n    emits.nodeContextMenu(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.contextMenu) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStart.on((event) => {\n    var _a, _b;\n    emits.nodeDragStart(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStart) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.drag.on((event) => {\n    var _a, _b;\n    emits.nodeDrag(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.drag) == null ? void 0 : _b.call(_a, event);\n  });\n  nodeHooks.dragStop.on((event) => {\n    var _a, _b;\n    emits.nodeDragStop(event);\n    (_b = (_a = node.events) == null ? void 0 : _a.dragStop) == null ? void 0 : _b.call(_a, event);\n  });\n  return Object.entries(nodeHooks).reduce(\n    (hooks, [key, value]) => {\n      hooks.emit[key] = value.trigger;\n      hooks.on[key] = value.on;\n      return hooks;\n    },\n    { emit: {}, on: {} }\n  );\n}\nfunction useUpdateNodePositions() {\n  const { getSelectedNodes, nodeExtent, updateNodePositions, findNode, snapGrid, snapToGrid, nodesDraggable, emits } = useVueFlow();\n  return (positionDiff, isShiftPressed = false) => {\n    const xVelo = snapToGrid.value ? snapGrid.value[0] : 5;\n    const yVelo = snapToGrid.value ? snapGrid.value[1] : 5;\n    const factor = isShiftPressed ? 4 : 1;\n    const positionDiffX = positionDiff.x * xVelo * factor;\n    const positionDiffY = positionDiff.y * yVelo * factor;\n    const nodeUpdates = getSelectedNodes.value.filter((n) => n.draggable || nodesDraggable && typeof n.draggable === \"undefined\").map((n) => {\n      const nextPosition = { x: n.computedPosition.x + positionDiffX, y: n.computedPosition.y + positionDiffY };\n      const { computedPosition } = calcNextPosition(\n        n,\n        nextPosition,\n        emits.error,\n        nodeExtent.value,\n        n.parentNode ? findNode(n.parentNode) : void 0\n      );\n      return {\n        id: n.id,\n        position: computedPosition,\n        from: n.position,\n        distance: { x: positionDiff.x, y: positionDiff.y },\n        dimensions: n.dimensions\n      };\n    });\n    updateNodePositions(nodeUpdates, true, false);\n  };\n}\nconst DEFAULT_PADDING = 0.1;\nfunction noop() {\n  warn(\"Viewport not initialized yet.\");\n  return Promise.resolve(false);\n}\nconst initialViewportHelper = {\n  zoomIn: noop,\n  zoomOut: noop,\n  zoomTo: noop,\n  fitView: noop,\n  setCenter: noop,\n  fitBounds: noop,\n  project: (position) => position,\n  screenToFlowCoordinate: (position) => position,\n  flowToScreenCoordinate: (position) => position,\n  setViewport: noop,\n  setTransform: noop,\n  getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n  getTransform: () => ({ x: 0, y: 0, zoom: 1 }),\n  viewportInitialized: false\n};\nfunction useViewportHelper(state) {\n  function zoom2(scale, duration) {\n    return new Promise((resolve) => {\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.scaleBy(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          scale\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  function transformViewport(x, y, zoom22, duration) {\n    return new Promise((resolve) => {\n      const { x: clampedX, y: clampedY } = clampPosition({ x: -x, y: -y }, state.translateExtent);\n      const nextTransform = identity.translate(-clampedX, -clampedY).scale(zoom22);\n      if (state.d3Selection && state.d3Zoom) {\n        state.d3Zoom.transform(\n          transition(state.d3Selection, duration, () => {\n            resolve(true);\n          }),\n          nextTransform\n        );\n      } else {\n        resolve(false);\n      }\n    });\n  }\n  return computed(() => {\n    const isInitialized = state.d3Zoom && state.d3Selection && state.dimensions.width && state.dimensions.height;\n    if (!isInitialized) {\n      return initialViewportHelper;\n    }\n    return {\n      viewportInitialized: true,\n      // todo: allow passing scale as option\n      zoomIn: (options) => {\n        return zoom2(1.2, options == null ? void 0 : options.duration);\n      },\n      zoomOut: (options) => {\n        return zoom2(1 / 1.2, options == null ? void 0 : options.duration);\n      },\n      zoomTo: (zoomLevel, options) => {\n        return new Promise((resolve) => {\n          if (state.d3Selection && state.d3Zoom) {\n            state.d3Zoom.scaleTo(\n              transition(state.d3Selection, options == null ? void 0 : options.duration, () => {\n                resolve(true);\n              }),\n              zoomLevel\n            );\n          } else {\n            resolve(false);\n          }\n        });\n      },\n      setViewport: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      setTransform: (transform, options) => {\n        return transformViewport(transform.x, transform.y, transform.zoom, options == null ? void 0 : options.duration);\n      },\n      getViewport: () => ({\n        x: state.viewport.x,\n        y: state.viewport.y,\n        zoom: state.viewport.zoom\n      }),\n      getTransform: () => {\n        return {\n          x: state.viewport.x,\n          y: state.viewport.y,\n          zoom: state.viewport.zoom\n        };\n      },\n      fitView: (options = {\n        padding: DEFAULT_PADDING,\n        includeHiddenNodes: false,\n        duration: 0\n      }) => {\n        const nodesToFit = state.nodes.filter((node) => {\n          var _a;\n          const isVisible = node.dimensions.width && node.dimensions.height && ((options == null ? void 0 : options.includeHiddenNodes) || !node.hidden);\n          if ((_a = options.nodes) == null ? void 0 : _a.length) {\n            return isVisible && options.nodes.includes(node.id);\n          }\n          return isVisible;\n        });\n        if (!nodesToFit.length) {\n          return Promise.resolve(false);\n        }\n        const bounds = getRectOfNodes(nodesToFit);\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          options.minZoom ?? state.minZoom,\n          options.maxZoom ?? state.maxZoom,\n          options.padding ?? DEFAULT_PADDING,\n          options.offset\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      setCenter: (x, y, options) => {\n        const nextZoom = typeof (options == null ? void 0 : options.zoom) !== \"undefined\" ? options.zoom : state.maxZoom;\n        const centerX = state.dimensions.width / 2 - x * nextZoom;\n        const centerY = state.dimensions.height / 2 - y * nextZoom;\n        return transformViewport(centerX, centerY, nextZoom, options == null ? void 0 : options.duration);\n      },\n      fitBounds: (bounds, options = { padding: DEFAULT_PADDING }) => {\n        const { x, y, zoom: zoom22 } = getTransformForBounds(\n          bounds,\n          state.dimensions.width,\n          state.dimensions.height,\n          state.minZoom,\n          state.maxZoom,\n          options.padding\n        );\n        return transformViewport(x, y, zoom22, options == null ? void 0 : options.duration);\n      },\n      project: (position) => pointToRendererPoint(position, state.viewport, state.snapToGrid, state.snapGrid),\n      screenToFlowCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x - domX,\n            y: position.y - domY\n          };\n          return pointToRendererPoint(correctedPosition, state.viewport, state.snapToGrid, state.snapGrid);\n        }\n        return { x: 0, y: 0 };\n      },\n      flowToScreenCoordinate: (position) => {\n        if (state.vueFlowRef) {\n          const { x: domX, y: domY } = state.vueFlowRef.getBoundingClientRect();\n          const correctedPosition = {\n            x: position.x + domX,\n            y: position.y + domY\n          };\n          return rendererPointToPoint(correctedPosition, state.viewport);\n        }\n        return { x: 0, y: 0 };\n      }\n    };\n  });\n}\nfunction transition(selection2, ms = 0, onEnd) {\n  return selection2.transition().duration(ms).on(\"end\", onEnd);\n}\nfunction useWatchProps(models, props, store) {\n  const scope = effectScope(true);\n  scope.run(() => {\n    const watchModelValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!(store.nodes.value.length || store.edges.value.length);\n        pauseModel = watchPausable([models.modelValue, () => {\n          var _a, _b;\n          return (_b = (_a = models.modelValue) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([elements]) => {\n          if (elements && Array.isArray(elements)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setElements(elements);\n            if (!pauseStore && !immediateStore && elements.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, store.edges, () => store.edges.value.length, () => store.nodes.value.length],\n          ([nodes, edges]) => {\n            var _a;\n            if (((_a = models.modelValue) == null ? void 0 : _a.value) && Array.isArray(models.modelValue.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.modelValue.value = [...nodes, ...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchNodesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.nodes.value.length;\n        pauseModel = watchPausable([models.nodes, () => {\n          var _a, _b;\n          return (_b = (_a = models.nodes) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([nodes]) => {\n          if (nodes && Array.isArray(nodes)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setNodes(nodes);\n            if (!pauseStore && !immediateStore && nodes.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.nodes, () => store.nodes.value.length],\n          ([nodes]) => {\n            var _a;\n            if (((_a = models.nodes) == null ? void 0 : _a.value) && Array.isArray(models.nodes.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.nodes.value = [...nodes];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchEdgesValue = () => {\n      scope.run(() => {\n        let pauseModel;\n        let pauseStore;\n        let immediateStore = !!store.edges.value.length;\n        pauseModel = watchPausable([models.edges, () => {\n          var _a, _b;\n          return (_b = (_a = models.edges) == null ? void 0 : _a.value) == null ? void 0 : _b.length;\n        }], ([edges]) => {\n          if (edges && Array.isArray(edges)) {\n            pauseStore == null ? void 0 : pauseStore.pause();\n            store.setEdges(edges);\n            if (!pauseStore && !immediateStore && edges.length) {\n              immediateStore = true;\n            } else {\n              pauseStore == null ? void 0 : pauseStore.resume();\n            }\n          }\n        });\n        pauseStore = watchPausable(\n          [store.edges, () => store.edges.value.length],\n          ([edges]) => {\n            var _a;\n            if (((_a = models.edges) == null ? void 0 : _a.value) && Array.isArray(models.edges.value)) {\n              pauseModel == null ? void 0 : pauseModel.pause();\n              models.edges.value = [...edges];\n              nextTick(() => {\n                pauseModel == null ? void 0 : pauseModel.resume();\n              });\n            }\n          },\n          { immediate: immediateStore }\n        );\n        onScopeDispose(() => {\n          pauseModel == null ? void 0 : pauseModel.stop();\n          pauseStore == null ? void 0 : pauseStore.stop();\n        });\n      });\n    };\n    const watchMaxZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.maxZoom,\n          () => {\n            if (props.maxZoom && isDef(props.maxZoom)) {\n              store.setMaxZoom(props.maxZoom);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchMinZoom = () => {\n      scope.run(() => {\n        watch(\n          () => props.minZoom,\n          () => {\n            if (props.minZoom && isDef(props.minZoom)) {\n              store.setMinZoom(props.minZoom);\n            }\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchTranslateExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.translateExtent,\n          () => {\n            if (props.translateExtent && isDef(props.translateExtent)) {\n              store.setTranslateExtent(props.translateExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchNodeExtent = () => {\n      scope.run(() => {\n        watch(\n          () => props.nodeExtent,\n          () => {\n            if (props.nodeExtent && isDef(props.nodeExtent)) {\n              store.setNodeExtent(props.nodeExtent);\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchApplyDefault = () => {\n      scope.run(() => {\n        watch(\n          () => props.applyDefault,\n          () => {\n            if (isDef(props.applyDefault)) {\n              store.applyDefault.value = props.applyDefault;\n            }\n          },\n          {\n            immediate: true\n          }\n        );\n      });\n    };\n    const watchAutoConnect = () => {\n      scope.run(() => {\n        const autoConnector = async (params) => {\n          let connection = params;\n          if (typeof props.autoConnect === \"function\") {\n            connection = await props.autoConnect(params);\n          }\n          if (connection !== false) {\n            store.addEdges([connection]);\n          }\n        };\n        watch(\n          () => props.autoConnect,\n          () => {\n            if (isDef(props.autoConnect)) {\n              store.autoConnect.value = props.autoConnect;\n            }\n          },\n          { immediate: true }\n        );\n        watch(\n          store.autoConnect,\n          (autoConnectEnabled, _, onCleanup) => {\n            if (autoConnectEnabled) {\n              store.onConnect(autoConnector);\n            } else {\n              store.hooks.value.connect.off(autoConnector);\n            }\n            onCleanup(() => {\n              store.hooks.value.connect.off(autoConnector);\n            });\n          },\n          { immediate: true }\n        );\n      });\n    };\n    const watchRest = () => {\n      const skip = [\n        \"id\",\n        \"modelValue\",\n        \"translateExtent\",\n        \"nodeExtent\",\n        \"edges\",\n        \"nodes\",\n        \"maxZoom\",\n        \"minZoom\",\n        \"applyDefault\",\n        \"autoConnect\"\n      ];\n      for (const key of Object.keys(props)) {\n        const propKey = key;\n        if (!skip.includes(propKey)) {\n          const propValue = toRef(() => props[propKey]);\n          const storeRef = store[propKey];\n          if (isRef(storeRef)) {\n            scope.run(() => {\n              watch(\n                propValue,\n                (nextValue) => {\n                  if (isDef(nextValue)) {\n                    storeRef.value = nextValue;\n                  }\n                },\n                { immediate: true, flush: \"pre\" }\n              );\n            });\n          }\n        }\n      }\n    };\n    const runAll = () => {\n      watchModelValue();\n      watchNodesValue();\n      watchEdgesValue();\n      watchMinZoom();\n      watchMaxZoom();\n      watchTranslateExtent();\n      watchNodeExtent();\n      watchApplyDefault();\n      watchAutoConnect();\n      watchRest();\n    };\n    runAll();\n  });\n  return () => scope.stop();\n}\nfunction useZoomPanHelper(vueFlowId) {\n  const state = useVueFlow({ id: vueFlowId });\n  const viewportHelper = useViewportHelper(toReactive(state));\n  return {\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params)\n  };\n}\nfunction nodeToRect(node) {\n  return {\n    ...node.computedPosition || { x: 0, y: 0 },\n    width: node.dimensions.width || 0,\n    height: node.dimensions.height || 0\n  };\n}\nfunction getOverlappingArea(rectA, rectB) {\n  const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n  const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n  return Math.ceil(xOverlap * yOverlap);\n}\nfunction getDimensions(node) {\n  return {\n    width: node.offsetWidth,\n    height: node.offsetHeight\n  };\n}\nfunction clamp(val, min = 0, max = 1) {\n  return Math.min(Math.max(val, min), max);\n}\nfunction clampPosition(position, extent) {\n  return {\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1])\n  };\n}\nfunction getHostForElement(element) {\n  const doc = element.getRootNode();\n  if (\"elementFromPoint\" in doc) {\n    return doc;\n  }\n  const window2 = useWindow();\n  return window2.document;\n}\nfunction isEdge(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"source\" in element && \"target\" in element;\n}\nfunction isGraphEdge(element) {\n  return isEdge(element) && \"sourceNode\" in element && \"targetNode\" in element;\n}\nfunction isNode(element) {\n  return element && typeof element === \"object\" && \"id\" in element && \"position\" in element && !isEdge(element);\n}\nfunction isGraphNode(element) {\n  return isNode(element) && \"computedPosition\" in element;\n}\nfunction isNumeric(n) {\n  return !Number.isNaN(n) && Number.isFinite(n);\n}\nfunction isRect(obj) {\n  return isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n}\nfunction parseNode(node, existingNode, parentNode) {\n  const initialState = {\n    id: node.id.toString(),\n    type: node.type ?? \"default\",\n    dimensions: markRaw({\n      width: 0,\n      height: 0\n    }),\n    // todo: shouldn't be defined initially, as we want to use handleBounds to check if a node was actually initialized or not\n    handleBounds: {\n      source: [],\n      target: []\n    },\n    computedPosition: markRaw({\n      z: 0,\n      ...node.position\n    }),\n    draggable: void 0,\n    selectable: void 0,\n    connectable: void 0,\n    focusable: void 0,\n    selected: false,\n    dragging: false,\n    resizing: false,\n    initialized: false,\n    isParent: false,\n    position: {\n      x: 0,\n      y: 0\n    },\n    data: isDef(node.data) ? node.data : {},\n    events: markRaw(isDef(node.events) ? node.events : {})\n  };\n  return Object.assign(existingNode ?? initialState, node, { id: node.id.toString(), parentNode });\n}\nfunction parseEdge(edge, existingEdge, defaultEdgeOptions) {\n  var _a, _b;\n  const initialState = {\n    id: edge.id.toString(),\n    type: edge.type ?? (existingEdge == null ? void 0 : existingEdge.type) ?? \"default\",\n    source: edge.source.toString(),\n    target: edge.target.toString(),\n    sourceHandle: (_a = edge.sourceHandle) == null ? void 0 : _a.toString(),\n    targetHandle: (_b = edge.targetHandle) == null ? void 0 : _b.toString(),\n    updatable: edge.updatable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.updatable),\n    selectable: edge.selectable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.selectable),\n    focusable: edge.focusable ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.focusable),\n    data: isDef(edge.data) ? edge.data : {},\n    events: markRaw(isDef(edge.events) ? edge.events : {}),\n    label: edge.label ?? \"\",\n    interactionWidth: edge.interactionWidth ?? (defaultEdgeOptions == null ? void 0 : defaultEdgeOptions.interactionWidth),\n    ...defaultEdgeOptions ?? {}\n  };\n  return Object.assign(existingEdge ?? initialState, edge, { id: edge.id.toString() });\n}\nfunction getConnectedElements(nodeOrId, nodes, edges, dir) {\n  const id2 = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const connectedIds = /* @__PURE__ */ new Set();\n  const origin = dir === \"source\" ? \"target\" : \"source\";\n  for (const edge of edges) {\n    if (edge[origin] === id2) {\n      connectedIds.add(edge[dir]);\n    }\n  }\n  return nodes.filter((n) => connectedIds.has(n.id));\n}\nfunction getOutgoers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"target\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const outgoers = elements.filter((el) => isEdge(el) && el.source === nodeId);\n  return outgoers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.target));\n}\nfunction getIncomers(...args) {\n  if (args.length === 3) {\n    const [nodeOrId2, nodes, edges] = args;\n    return getConnectedElements(nodeOrId2, nodes, edges, \"source\");\n  }\n  const [nodeOrId, elements] = args;\n  const nodeId = typeof nodeOrId === \"string\" ? nodeOrId : nodeOrId.id;\n  const incomers = elements.filter((el) => isEdge(el) && el.target === nodeId);\n  return incomers.map((edge) => elements.find((el) => isNode(el) && el.id === edge.source));\n}\nfunction getEdgeId({ source, sourceHandle, target, targetHandle }) {\n  return `vueflow__edge-${source}${sourceHandle ?? \"\"}-${target}${targetHandle ?? \"\"}`;\n}\nfunction connectionExists(edge, elements) {\n  return elements.some(\n    (el) => isEdge(el) && el.source === edge.source && el.target === edge.target && (el.sourceHandle === edge.sourceHandle || !el.sourceHandle && !edge.sourceHandle) && (el.targetHandle === edge.targetHandle || !el.targetHandle && !edge.targetHandle)\n  );\n}\nfunction addEdge(edgeParams, elements, defaults) {\n  if (!edgeParams.source || !edgeParams.target) {\n    warn(\"Can't create edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = { ...edgeParams };\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaults);\n  if (connectionExists(edge, elements)) {\n    return elements;\n  }\n  elements.push(edge);\n  return elements;\n}\nfunction updateEdge(oldEdge, newConnection, elements) {\n  if (!newConnection.source || !newConnection.target) {\n    warn(\"Can't create new edge. An edge needs a source and a target.\");\n    return elements;\n  }\n  const foundEdge = elements.find((e) => isEdge(e) && e.id === oldEdge.id);\n  if (!foundEdge) {\n    warn(`The old edge with id=${oldEdge.id} does not exist.`);\n    return elements;\n  }\n  const edge = {\n    ...oldEdge,\n    id: getEdgeId(newConnection),\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  elements.splice(elements.indexOf(foundEdge), 1, edge);\n  return elements.filter((e) => e.id !== oldEdge.id);\n}\nfunction rendererPointToPoint({ x, y }, { x: tx, y: ty, zoom: tScale }) {\n  return {\n    x: x * tScale + tx,\n    y: y * tScale + ty\n  };\n}\nfunction pointToRendererPoint({ x, y }, { x: tx, y: ty, zoom: tScale }, snapToGrid, [snapX, snapY]) {\n  const position = {\n    x: (x - tx) / tScale,\n    y: (y - ty) / tScale\n  };\n  if (snapToGrid) {\n    return {\n      x: snapX * Math.round(position.x / snapX),\n      y: snapY * Math.round(position.y / snapY)\n    };\n  }\n  return position;\n}\nfunction getBoundsOfBoxes(box1, box2) {\n  return {\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2)\n  };\n}\nfunction rectToBox({ x, y, width, height }) {\n  return {\n    x,\n    y,\n    x2: x + width,\n    y2: y + height\n  };\n}\nfunction boxToRect({ x, y, x2, y2 }) {\n  return {\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y\n  };\n}\nfunction getBoundsofRects(rect1, rect2) {\n  return boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\n}\nfunction getRectOfNodes(nodes) {\n  const box = nodes.reduce(\n    (currBox, { computedPosition = { x: 0, y: 0 }, dimensions = { width: 0, height: 0 } } = {}) => getBoundsOfBoxes(\n      currBox,\n      rectToBox({\n        ...computedPosition,\n        ...dimensions\n      })\n    ),\n    { x: Number.POSITIVE_INFINITY, y: Number.POSITIVE_INFINITY, x2: Number.NEGATIVE_INFINITY, y2: Number.NEGATIVE_INFINITY }\n  );\n  return boxToRect(box);\n}\nfunction getNodesInside(nodes, rect, { x: tx, y: ty, zoom: tScale } = { x: 0, y: 0, zoom: 1 }, partially = false, excludeNonSelectableNodes = false) {\n  const paneRect = {\n    x: (rect.x - tx) / tScale,\n    y: (rect.y - ty) / tScale,\n    width: rect.width / tScale,\n    height: rect.height / tScale\n  };\n  return nodes.filter((node) => {\n    const { computedPosition = { x: 0, y: 0 }, dimensions = { width: 0, height: 0 }, selectable } = node;\n    if (excludeNonSelectableNodes && !selectable) {\n      return false;\n    }\n    const nodeRect = { ...computedPosition, width: dimensions.width || 0, height: dimensions.height || 0 };\n    const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n    const notInitialized = typeof dimensions.width === \"undefined\" || typeof dimensions.height === \"undefined\" || dimensions.width === 0 || dimensions.height === 0;\n    const partiallyVisible = partially && overlappingArea > 0;\n    const area = dimensions.width * dimensions.height;\n    return notInitialized || partiallyVisible || overlappingArea >= area;\n  });\n}\nfunction getConnectedEdges(nodesOrId, edges) {\n  const nodeIds = /* @__PURE__ */ new Set();\n  if (typeof nodesOrId === \"string\") {\n    nodeIds.add(nodesOrId);\n  } else if (nodesOrId.length >= 1) {\n    for (const n of nodesOrId) {\n      nodeIds.add(n.id);\n    }\n  }\n  return edges.filter((edge) => nodeIds.has(edge.source) || nodeIds.has(edge.target));\n}\nfunction getTransformForBounds(bounds, width, height, minZoom, maxZoom, padding = 0.1, offset = { x: 0, y: 0 }) {\n  const xZoom = width / (bounds.width * (1 + padding));\n  const yZoom = height / (bounds.height * (1 + padding));\n  const zoom2 = Math.min(xZoom, yZoom);\n  const clampedZoom = clamp(zoom2, minZoom, maxZoom);\n  const boundsCenterX = bounds.x + bounds.width / 2;\n  const boundsCenterY = bounds.y + bounds.height / 2;\n  const x = width / 2 - boundsCenterX * clampedZoom + (offset.x ?? 0);\n  const y = height / 2 - boundsCenterY * clampedZoom + (offset.y ?? 0);\n  return { x, y, zoom: clampedZoom };\n}\nfunction getXYZPos(parentPos, computedPosition) {\n  return {\n    x: computedPosition.x + parentPos.x,\n    y: computedPosition.y + parentPos.y,\n    z: (parentPos.z > computedPosition.z ? parentPos.z : computedPosition.z) + 1\n  };\n}\nfunction isParentSelected(node, findNode) {\n  if (!node.parentNode) {\n    return false;\n  }\n  const parent = findNode(node.parentNode);\n  if (!parent) {\n    return false;\n  }\n  if (parent.selected) {\n    return true;\n  }\n  return isParentSelected(parent, findNode);\n}\nfunction getMarkerId(marker, vueFlowId) {\n  if (typeof marker === \"undefined\") {\n    return \"\";\n  }\n  if (typeof marker === \"string\") {\n    return marker;\n  }\n  const idPrefix = vueFlowId ? `${vueFlowId}__` : \"\";\n  return `${idPrefix}${Object.keys(marker).sort().map((key) => `${key}=${marker[key]}`).join(\"&\")}`;\n}\nfunction calcAutoPanVelocity(value, min, max) {\n  if (value < min) {\n    return clamp(Math.abs(value - min), 1, 50) / 50;\n  } else if (value > max) {\n    return -clamp(Math.abs(value - max), 1, 50) / 50;\n  }\n  return 0;\n}\nfunction calcAutoPan(pos, bounds) {\n  const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n  const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n  return [xMovement, yMovement];\n}\nfunction handleParentExpand(updateItem, parent) {\n  if (parent) {\n    const extendWidth = updateItem.position.x + updateItem.dimensions.width - parent.dimensions.width;\n    const extendHeight = updateItem.position.y + updateItem.dimensions.height - parent.dimensions.height;\n    if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n      let parentStyles = {};\n      if (typeof parent.style === \"function\") {\n        parentStyles = { ...parent.style(parent) };\n      } else if (parent.style) {\n        parentStyles = { ...parent.style };\n      }\n      parentStyles.width = parentStyles.width ?? `${parent.dimensions.width}px`;\n      parentStyles.height = parentStyles.height ?? `${parent.dimensions.height}px`;\n      if (extendWidth > 0) {\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + extendWidth}px`;\n        } else {\n          parentStyles.width += extendWidth;\n        }\n      }\n      if (extendHeight > 0) {\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + extendHeight}px`;\n        } else {\n          parentStyles.height += extendHeight;\n        }\n      }\n      if (updateItem.position.x < 0) {\n        const xDiff = Math.abs(updateItem.position.x);\n        parent.position.x = parent.position.x - xDiff;\n        if (typeof parentStyles.width === \"string\") {\n          const currWidth = Number(parentStyles.width.replace(\"px\", \"\"));\n          parentStyles.width = `${currWidth + xDiff}px`;\n        } else {\n          parentStyles.width += xDiff;\n        }\n        updateItem.position.x = 0;\n      }\n      if (updateItem.position.y < 0) {\n        const yDiff = Math.abs(updateItem.position.y);\n        parent.position.y = parent.position.y - yDiff;\n        if (typeof parentStyles.height === \"string\") {\n          const currWidth = Number(parentStyles.height.replace(\"px\", \"\"));\n          parentStyles.height = `${currWidth + yDiff}px`;\n        } else {\n          parentStyles.height += yDiff;\n        }\n        updateItem.position.y = 0;\n      }\n      parent.dimensions.width = Number(parentStyles.width.toString().replace(\"px\", \"\"));\n      parent.dimensions.height = Number(parentStyles.height.toString().replace(\"px\", \"\"));\n      if (typeof parent.style === \"function\") {\n        parent.style = (p) => {\n          const styleFunc = parent.style;\n          return {\n            ...styleFunc(p),\n            ...parentStyles\n          };\n        };\n      } else {\n        parent.style = {\n          ...parent.style,\n          ...parentStyles\n        };\n      }\n    }\n  }\n}\nfunction applyChanges(changes, elements) {\n  var _a, _b;\n  const addRemoveChanges = changes.filter((c) => c.type === \"add\" || c.type === \"remove\");\n  for (const change of addRemoveChanges) {\n    if (change.type === \"add\") {\n      const index = elements.findIndex((el) => el.id === change.item.id);\n      if (index === -1) {\n        elements.push(change.item);\n      }\n    } else if (change.type === \"remove\") {\n      const index = elements.findIndex((el) => el.id === change.id);\n      if (index !== -1) {\n        elements.splice(index, 1);\n      }\n    }\n  }\n  const elementIds = elements.map((el) => el.id);\n  for (const element of elements) {\n    const currentChanges = changes.filter((c) => c.id === element.id);\n    for (const currentChange of currentChanges) {\n      switch (currentChange.type) {\n        case \"select\":\n          element.selected = currentChange.selected;\n          break;\n        case \"position\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.position !== \"undefined\") {\n              element.position = currentChange.position;\n            }\n            if (typeof currentChange.dragging !== \"undefined\") {\n              element.dragging = currentChange.dragging;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                handleParentExpand(element, parent);\n              }\n            }\n          }\n          break;\n        case \"dimensions\":\n          if (isGraphNode(element)) {\n            if (typeof currentChange.dimensions !== \"undefined\") {\n              element.dimensions = currentChange.dimensions;\n            }\n            if (typeof currentChange.updateStyle !== \"undefined\") {\n              element.style = {\n                ...element.style || {},\n                width: `${(_a = currentChange.dimensions) == null ? void 0 : _a.width}px`,\n                height: `${(_b = currentChange.dimensions) == null ? void 0 : _b.height}px`\n              };\n            }\n            if (typeof currentChange.resizing !== \"undefined\") {\n              element.resizing = currentChange.resizing;\n            }\n            if (element.expandParent && element.parentNode) {\n              const parent = elements[elementIds.indexOf(element.parentNode)];\n              if (parent && isGraphNode(parent)) {\n                if (!parent.initialized) {\n                  nextTick(() => {\n                    handleParentExpand(element, parent);\n                  });\n                } else {\n                  handleParentExpand(element, parent);\n                }\n              }\n            }\n            if (!element.initialized) {\n              element.initialized = true;\n            }\n          }\n          break;\n      }\n    }\n  }\n  return elements;\n}\nfunction applyEdgeChanges(changes, edges) {\n  return applyChanges(changes, edges);\n}\nfunction applyNodeChanges(changes, nodes) {\n  return applyChanges(changes, nodes);\n}\nfunction createSelectionChange(id2, selected) {\n  return {\n    id: id2,\n    type: \"select\",\n    selected\n  };\n}\nfunction createAdditionChange(item) {\n  return {\n    item,\n    type: \"add\"\n  };\n}\nfunction createNodeRemoveChange(id2) {\n  return {\n    id: id2,\n    type: \"remove\"\n  };\n}\nfunction createEdgeRemoveChange(id2, source, target, sourceHandle, targetHandle) {\n  return {\n    id: id2,\n    source,\n    target,\n    sourceHandle: sourceHandle || null,\n    targetHandle: targetHandle || null,\n    type: \"remove\"\n  };\n}\nfunction getSelectionChanges(elements, selectedIds) {\n  return elements.reduce(\n    (res, item) => {\n      let willBeSelected = selectedIds.includes(item.id);\n      if (isDef(item.selectable) && !item.selectable) {\n        willBeSelected = false;\n      }\n      const key = isGraphNode(item) ? \"changedNodes\" : \"changedEdges\";\n      if (!item.selected && willBeSelected) {\n        res[key].push(createSelectionChange(item.id, true));\n      } else if (item.selected && !willBeSelected) {\n        res[key].push(createSelectionChange(item.id, false));\n      }\n      return res;\n    },\n    { changedNodes: [], changedEdges: [] }\n  );\n}\nfunction createExtendedEventHook(defaultHandler) {\n  const fns = /* @__PURE__ */ new Set();\n  let hasDefaultHandler = false;\n  const hasListeners = () => fns.size > 0;\n  if (defaultHandler) {\n    hasDefaultHandler = true;\n    fns.add(defaultHandler);\n  }\n  const off = (fn) => {\n    fns.delete(fn);\n  };\n  const on = (fn) => {\n    if (defaultHandler && hasDefaultHandler) {\n      fns.delete(defaultHandler);\n    }\n    fns.add(fn);\n    const offFn = () => {\n      off(fn);\n      if (defaultHandler && hasDefaultHandler) {\n        fns.add(defaultHandler);\n      }\n    };\n    tryOnScopeDispose(offFn);\n    return {\n      off: offFn\n    };\n  };\n  const trigger = (param) => {\n    return Promise.all(Array.from(fns).map((fn) => fn(param)));\n  };\n  return {\n    on,\n    off,\n    trigger,\n    hasListeners,\n    fns\n  };\n}\nfunction hasSelector(target, selector2, node) {\n  let current = target;\n  do {\n    if (current && current.matches(selector2)) {\n      return true;\n    } else if (current === node) {\n      return false;\n    }\n    current = current.parentElement;\n  } while (current);\n  return false;\n}\nfunction getDragItems(nodes, nodesDraggable, mousePos, findNode, nodeId) {\n  return nodes.filter(\n    (n) => (n.selected || n.id === nodeId) && (!n.parentNode || !isParentSelected(n, findNode)) && (n.draggable || nodesDraggable && typeof n.draggable === \"undefined\")\n  ).map(\n    (n) => {\n      var _a, _b;\n      return markRaw({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        distance: {\n          x: mousePos.x - ((_a = n.computedPosition) == null ? void 0 : _a.x) || 0,\n          y: mousePos.y - ((_b = n.computedPosition) == null ? void 0 : _b.y) || 0\n        },\n        from: n.computedPosition,\n        extent: n.extent,\n        parentNode: n.parentNode,\n        dimensions: n.dimensions,\n        expandParent: n.expandParent\n      });\n    }\n  );\n}\nfunction getEventHandlerParams({\n  id: id2,\n  dragItems,\n  findNode\n}) {\n  const extendedDragItems = dragItems.reduce((acc, dragItem) => {\n    const node = findNode(dragItem.id);\n    if (node) {\n      acc.push(node);\n    }\n    return acc;\n  }, []);\n  return [id2 ? extendedDragItems.find((n) => n.id === id2) : extendedDragItems[0], extendedDragItems];\n}\nfunction getExtentPadding(padding) {\n  if (Array.isArray(padding)) {\n    switch (padding.length) {\n      case 1:\n        return [padding[0], padding[0], padding[0], padding[0]];\n      case 2:\n        return [padding[0], padding[1], padding[0], padding[1]];\n      case 3:\n        return [padding[0], padding[1], padding[2], padding[1]];\n      case 4:\n        return padding;\n      default:\n        return [0, 0, 0, 0];\n    }\n  }\n  return [padding, padding, padding, padding];\n}\nfunction getParentExtent(currentExtent, node, parent) {\n  const [top, right, bottom, left] = typeof currentExtent !== \"string\" ? getExtentPadding(currentExtent.padding) : [0, 0, 0, 0];\n  if (parent && typeof parent.computedPosition.x !== \"undefined\" && typeof parent.computedPosition.y !== \"undefined\" && typeof parent.dimensions.width !== \"undefined\" && typeof parent.dimensions.height !== \"undefined\") {\n    return [\n      [parent.computedPosition.x + left, parent.computedPosition.y + top],\n      [\n        parent.computedPosition.x + parent.dimensions.width - right,\n        parent.computedPosition.y + parent.dimensions.height - bottom\n      ]\n    ];\n  }\n  return false;\n}\nfunction getExtent(item, triggerError, extent, parent) {\n  let currentExtent = item.extent || extent;\n  if ((currentExtent === \"parent\" || !Array.isArray(currentExtent) && (currentExtent == null ? void 0 : currentExtent.range) === \"parent\") && !item.expandParent) {\n    if (item.parentNode && parent && item.dimensions.width && item.dimensions.height) {\n      const parentExtent = getParentExtent(currentExtent, item, parent);\n      if (parentExtent) {\n        currentExtent = parentExtent;\n      }\n    } else {\n      triggerError(new VueFlowError(ErrorCode.NODE_EXTENT_INVALID, item.id));\n      currentExtent = extent;\n    }\n  } else if (Array.isArray(currentExtent)) {\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent[0][0] + parentX, currentExtent[0][1] + parentY],\n      [currentExtent[1][0] + parentX, currentExtent[1][1] + parentY]\n    ];\n  } else if (currentExtent !== \"parent\" && (currentExtent == null ? void 0 : currentExtent.range) && Array.isArray(currentExtent.range)) {\n    const [top, right, bottom, left] = getExtentPadding(currentExtent.padding);\n    const parentX = (parent == null ? void 0 : parent.computedPosition.x) || 0;\n    const parentY = (parent == null ? void 0 : parent.computedPosition.y) || 0;\n    currentExtent = [\n      [currentExtent.range[0][0] + parentX + left, currentExtent.range[0][1] + parentY + top],\n      [currentExtent.range[1][0] + parentX - right, currentExtent.range[1][1] + parentY - bottom]\n    ];\n  }\n  return currentExtent === \"parent\" ? [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n  ] : currentExtent;\n}\nfunction clampNodeExtent({ width, height }, extent) {\n  return [extent[0], [extent[1][0] - (width || 0), extent[1][1] - (height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, triggerError, nodeExtent, parentNode) {\n  const extent = clampNodeExtent(node.dimensions, getExtent(node, triggerError, nodeExtent, parentNode));\n  const clampedPos = clampPosition(nextPosition, extent);\n  return {\n    position: {\n      x: clampedPos.x - ((parentNode == null ? void 0 : parentNode.computedPosition.x) || 0),\n      y: clampedPos.y - ((parentNode == null ? void 0 : parentNode.computedPosition.y) || 0)\n    },\n    computedPosition: clampedPos\n  };\n}\nfunction getHandlePosition(position, rect, handle) {\n  const x = ((handle == null ? void 0 : handle.x) ?? 0) + rect.x;\n  const y = ((handle == null ? void 0 : handle.y) ?? 0) + rect.y;\n  const width = (handle == null ? void 0 : handle.width) ?? rect.width;\n  const height = (handle == null ? void 0 : handle.height) ?? rect.height;\n  switch (position) {\n    case Position.Top:\n      return {\n        x: x + width / 2,\n        y\n      };\n    case Position.Right:\n      return {\n        x: x + width,\n        y: y + height / 2\n      };\n    case Position.Bottom:\n      return {\n        x: x + width / 2,\n        y: y + height\n      };\n    case Position.Left:\n      return {\n        x,\n        y: y + height / 2\n      };\n  }\n}\nfunction getHandle(bounds = [], handleId) {\n  if (!bounds.length) {\n    return null;\n  }\n  return (!handleId ? bounds[0] : bounds.find((d) => d.id === handleId)) || null;\n}\nfunction getEdgePositions(sourceNode, sourceHandle, sourcePosition, targetNode, targetHandle, targetPosition) {\n  const sourceHandlePos = getHandlePosition(\n    sourcePosition,\n    {\n      ...sourceNode.dimensions,\n      ...sourceNode.computedPosition\n    },\n    sourceHandle\n  );\n  const targetHandlePos = getHandlePosition(\n    targetPosition,\n    {\n      ...targetNode.dimensions,\n      ...targetNode.computedPosition\n    },\n    targetHandle\n  );\n  return {\n    sourceX: sourceHandlePos.x,\n    sourceY: sourceHandlePos.y,\n    targetX: targetHandlePos.x,\n    targetY: targetHandlePos.y\n  };\n}\nfunction isEdgeVisible({\n  sourcePos,\n  targetPos,\n  sourceWidth,\n  sourceHeight,\n  targetWidth,\n  targetHeight,\n  width,\n  height,\n  viewport\n}) {\n  const edgeBox = {\n    x: Math.min(sourcePos.x, targetPos.x),\n    y: Math.min(sourcePos.y, targetPos.y),\n    x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n    y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight)\n  };\n  if (edgeBox.x === edgeBox.x2) {\n    edgeBox.x2 += 1;\n  }\n  if (edgeBox.y === edgeBox.y2) {\n    edgeBox.y2 += 1;\n  }\n  const viewBox = rectToBox({\n    x: (0 - viewport.x) / viewport.zoom,\n    y: (0 - viewport.y) / viewport.zoom,\n    width: width / viewport.zoom,\n    height: height / viewport.zoom\n  });\n  const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n  const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n  const overlappingArea = Math.ceil(xOverlap * yOverlap);\n  return overlappingArea > 0;\n}\nfunction getEdgeZIndex(edge, findNode, elevateEdgesOnSelect = false) {\n  const hasZIndex = typeof edge.zIndex === \"number\";\n  let z = hasZIndex ? edge.zIndex : 0;\n  const source = findNode(edge.source);\n  const target = findNode(edge.target);\n  if (!source || !target) {\n    return 0;\n  }\n  if (elevateEdgesOnSelect) {\n    z = hasZIndex ? edge.zIndex : Math.max(source.computedPosition.z || 0, target.computedPosition.z || 0);\n  }\n  return z;\n}\nvar ErrorCode = /* @__PURE__ */ ((ErrorCode2) => {\n  ErrorCode2[\"MISSING_VIEWPORT_DIMENSIONS\"] = \"MISSING_VIEWPORT_DIMENSIONS\";\n  ErrorCode2[\"NODE_INVALID\"] = \"NODE_INVALID\";\n  ErrorCode2[\"NODE_NOT_FOUND\"] = \"NODE_NOT_FOUND\";\n  ErrorCode2[\"NODE_MISSING_PARENT\"] = \"NODE_MISSING_PARENT\";\n  ErrorCode2[\"NODE_TYPE_MISSING\"] = \"NODE_TYPE_MISSING\";\n  ErrorCode2[\"NODE_EXTENT_INVALID\"] = \"NODE_EXTENT_INVALID\";\n  ErrorCode2[\"EDGE_INVALID\"] = \"EDGE_INVALID\";\n  ErrorCode2[\"EDGE_NOT_FOUND\"] = \"EDGE_NOT_FOUND\";\n  ErrorCode2[\"EDGE_SOURCE_MISSING\"] = \"EDGE_SOURCE_MISSING\";\n  ErrorCode2[\"EDGE_TARGET_MISSING\"] = \"EDGE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_TYPE_MISSING\"] = \"EDGE_TYPE_MISSING\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_SAME\"] = \"EDGE_SOURCE_TARGET_SAME\";\n  ErrorCode2[\"EDGE_SOURCE_TARGET_MISSING\"] = \"EDGE_SOURCE_TARGET_MISSING\";\n  ErrorCode2[\"EDGE_ORPHANED\"] = \"EDGE_ORPHANED\";\n  return ErrorCode2;\n})(ErrorCode || {});\nconst messages = {\n  [\n    \"MISSING_VIEWPORT_DIMENSIONS\"\n    /* MISSING_VIEWPORT_DIMENSIONS */\n  ]: () => \"The Vue Flow parent container needs a width and a height to render the graph\",\n  [\n    \"NODE_INVALID\"\n    /* NODE_INVALID */\n  ]: (id2) => `Node is invalid\nNode: ${id2}`,\n  [\n    \"NODE_NOT_FOUND\"\n    /* NODE_NOT_FOUND */\n  ]: (id2) => `Node not found\nNode: ${id2}`,\n  [\n    \"NODE_MISSING_PARENT\"\n    /* NODE_MISSING_PARENT */\n  ]: (id2, parentId) => `Node is missing a parent\nNode: ${id2}\nParent: ${parentId}`,\n  [\n    \"NODE_TYPE_MISSING\"\n    /* NODE_TYPE_MISSING */\n  ]: (type) => `Node type is missing\nType: ${type}`,\n  [\n    \"NODE_EXTENT_INVALID\"\n    /* NODE_EXTENT_INVALID */\n  ]: (id2) => `Only child nodes can use a parent extent\nNode: ${id2}`,\n  [\n    \"EDGE_INVALID\"\n    /* EDGE_INVALID */\n  ]: (id2) => `An edge needs a source and a target\nEdge: ${id2}`,\n  [\n    \"EDGE_SOURCE_MISSING\"\n    /* EDGE_SOURCE_MISSING */\n  ]: (id2, source) => `Edge source is missing\nEdge: ${id2} \nSource: ${source}`,\n  [\n    \"EDGE_TARGET_MISSING\"\n    /* EDGE_TARGET_MISSING */\n  ]: (id2, target) => `Edge target is missing\nEdge: ${id2} \nTarget: ${target}`,\n  [\n    \"EDGE_TYPE_MISSING\"\n    /* EDGE_TYPE_MISSING */\n  ]: (type) => `Edge type is missing\nType: ${type}`,\n  [\n    \"EDGE_SOURCE_TARGET_SAME\"\n    /* EDGE_SOURCE_TARGET_SAME */\n  ]: (id2, source, target) => `Edge source and target are the same\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_SOURCE_TARGET_MISSING\"\n    /* EDGE_SOURCE_TARGET_MISSING */\n  ]: (id2, source, target) => `Edge source or target is missing\nEdge: ${id2} \nSource: ${source} \nTarget: ${target}`,\n  [\n    \"EDGE_ORPHANED\"\n    /* EDGE_ORPHANED */\n  ]: (id2) => `Edge was orphaned (suddenly missing source or target) and has been removed\nEdge: ${id2}`,\n  [\n    \"EDGE_NOT_FOUND\"\n    /* EDGE_NOT_FOUND */\n  ]: (id2) => `Edge not found\nEdge: ${id2}`\n};\nclass VueFlowError extends Error {\n  constructor(code, ...args) {\n    var _a;\n    super((_a = messages[code]) == null ? void 0 : _a.call(messages, ...args));\n    this.name = \"VueFlowError\";\n    this.code = code;\n    this.args = args;\n  }\n}\nfunction isErrorOfType(error, code) {\n  return error.code === code;\n}\nfunction isMouseEvent(event) {\n  return \"clientX\" in event;\n}\nfunction getEventPosition(event, bounds) {\n  var _a, _b;\n  const isMouseTriggered = isMouseEvent(event);\n  const evtX = isMouseTriggered ? event.clientX : (_a = event.touches) == null ? void 0 : _a[0].clientX;\n  const evtY = isMouseTriggered ? event.clientY : (_b = event.touches) == null ? void 0 : _b[0].clientY;\n  return {\n    x: evtX - ((bounds == null ? void 0 : bounds.left) ?? 0),\n    y: evtY - ((bounds == null ? void 0 : bounds.top) ?? 0)\n  };\n}\nconst isMacOs = () => {\n  var _a;\n  return typeof navigator !== \"undefined\" && ((_a = navigator == null ? void 0 : navigator.userAgent) == null ? void 0 : _a.indexOf(\"Mac\")) >= 0;\n};\nfunction defaultValidHandleResult() {\n  return {\n    handleDomNode: null,\n    isValid: false,\n    connection: { source: \"\", target: \"\", sourceHandle: null, targetHandle: null },\n    endHandle: null\n  };\n}\nfunction resetRecentHandle(handleDomNode) {\n  handleDomNode == null ? void 0 : handleDomNode.classList.remove(\"valid\", \"connecting\", \"vue-flow__handle-valid\", \"vue-flow__handle-connecting\");\n}\nfunction getHandles(node, handleBounds, type, currentHandle) {\n  return (handleBounds[type] || []).reduce((res, h2) => {\n    var _a, _b;\n    if (`${node.id}-${h2.id}-${type}` !== currentHandle) {\n      res.push({\n        id: h2.id || null,\n        type,\n        nodeId: node.id,\n        x: (((_a = node.computedPosition) == null ? void 0 : _a.x) ?? 0) + h2.x + h2.width / 2,\n        y: (((_b = node.computedPosition) == null ? void 0 : _b.y) ?? 0) + h2.y + h2.height / 2,\n        width: h2.width,\n        height: h2.height\n      });\n    }\n    return res;\n  }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n  const { x, y } = getEventPosition(event);\n  const domNodes = doc.elementsFromPoint(x, y);\n  const handleBelow = domNodes.find((el) => el.classList.contains(\"vue-flow__handle\"));\n  if (handleBelow) {\n    const handleNodeId = handleBelow.getAttribute(\"data-nodeid\");\n    if (handleNodeId) {\n      const handleType = getHandleType(void 0, handleBelow);\n      const handleId = handleBelow.getAttribute(\"data-handleid\");\n      const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n      if (validHandleResult) {\n        const handle = handles.find((h2) => h2.nodeId === handleNodeId && h2.type === handleType && h2.id === handleId);\n        return {\n          handle: {\n            id: handleId,\n            type: handleType,\n            nodeId: handleNodeId,\n            x: (handle == null ? void 0 : handle.x) || pos.x,\n            y: (handle == null ? void 0 : handle.y) || pos.y\n          },\n          validHandleResult\n        };\n      }\n    }\n  }\n  let closestHandles = [];\n  let minDistance = Number.POSITIVE_INFINITY;\n  for (const handle of handles) {\n    const distance2 = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n    if (distance2 <= connectionRadius) {\n      const validHandleResult = validator(handle);\n      if (distance2 <= minDistance) {\n        if (distance2 < minDistance) {\n          closestHandles = [{ handle, validHandleResult }];\n        } else if (distance2 === minDistance) {\n          closestHandles.push({\n            handle,\n            validHandleResult\n          });\n        }\n        minDistance = distance2;\n      }\n    }\n  }\n  if (!closestHandles.length) {\n    return { handle: null, validHandleResult: defaultValidHandleResult() };\n  }\n  if (closestHandles.length === 1) {\n    return closestHandles[0];\n  }\n  const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n  const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === \"target\");\n  return closestHandles.find(\n    ({ handle, validHandleResult }) => hasTargetHandle ? handle.type === \"target\" : hasValidHandle ? validHandleResult.isValid : true\n  ) || closestHandles[0];\n}\nfunction isValidHandle(event, handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc, edges, nodes, findNode) {\n  const isTarget = fromType === \"target\";\n  const handleDomNode = doc.querySelector(`.vue-flow__handle[data-id=\"${handle == null ? void 0 : handle.nodeId}-${handle == null ? void 0 : handle.id}-${handle == null ? void 0 : handle.type}\"]`);\n  const { x, y } = getEventPosition(event);\n  const elementBelow = doc.elementFromPoint(x, y);\n  const handleToCheck = (elementBelow == null ? void 0 : elementBelow.classList.contains(\"vue-flow__handle\")) ? elementBelow : handleDomNode;\n  const result = defaultValidHandleResult();\n  if (handleToCheck) {\n    result.handleDomNode = handleToCheck;\n    const handleType = getHandleType(void 0, handleToCheck);\n    const handleNodeId = handleToCheck.getAttribute(\"data-nodeid\");\n    const handleId = handleToCheck.getAttribute(\"data-handleid\");\n    const connectable = handleToCheck.classList.contains(\"connectable\");\n    const connectableEnd = handleToCheck.classList.contains(\"connectableend\");\n    const connection = {\n      source: isTarget ? handleNodeId : fromNodeId,\n      sourceHandle: isTarget ? handleId : fromHandleId,\n      target: isTarget ? fromNodeId : handleNodeId,\n      targetHandle: isTarget ? fromHandleId : handleId\n    };\n    result.connection = connection;\n    const isConnectable = connectable && connectableEnd;\n    const isValid = isConnectable && (connectionMode === ConnectionMode.Strict ? isTarget && handleType === \"source\" || !isTarget && handleType === \"target\" : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n    result.endHandle = {\n      nodeId: handleNodeId,\n      handleId,\n      type: handleType\n    };\n    if (isValid) {\n      result.isValid = isValidConnection(connection, {\n        edges,\n        nodes,\n        sourceNode: findNode(connection.source),\n        targetNode: findNode(connection.target)\n      });\n    }\n  }\n  return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n  return nodes.reduce((res, node) => {\n    const { handleBounds } = node;\n    let sourceHandles = [];\n    let targetHandles = [];\n    if (handleBounds) {\n      sourceHandles = getHandles(node, handleBounds, \"source\", `${nodeId}-${handleId}-${handleType}`);\n      targetHandles = getHandles(node, handleBounds, \"target\", `${nodeId}-${handleId}-${handleType}`);\n    }\n    res.push(...sourceHandles, ...targetHandles);\n    return res;\n  }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n  if (edgeUpdaterType) {\n    return edgeUpdaterType;\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"target\")) {\n    return \"target\";\n  } else if (handleDomNode == null ? void 0 : handleDomNode.classList.contains(\"source\")) {\n    return \"source\";\n  }\n  return null;\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n  let connectionStatus = null;\n  if (isHandleValid) {\n    connectionStatus = \"valid\";\n  } else if (isInsideConnectionRadius && !isHandleValid) {\n    connectionStatus = \"invalid\";\n  }\n  return connectionStatus;\n}\nconst productionEnvs = [\"production\", \"prod\"];\nfunction warn(message, ...args) {\n  if (!productionEnvs.includes(process.env.NODE_ENV || \"\")) {\n    console.warn(`[Vue Flow]: ${message}`, ...args);\n  }\n}\nfunction getHandleBounds(selector2, nodeElement, zoom2) {\n  const handles = nodeElement.querySelectorAll(`.vue-flow__handle${selector2}`);\n  if (!handles || !handles.length) {\n    return void 0;\n  }\n  const handlesArray = Array.from(handles);\n  const nodeBounds = nodeElement.getBoundingClientRect();\n  return handlesArray.map((handle) => {\n    const handleBounds = handle.getBoundingClientRect();\n    return {\n      id: handle.getAttribute(\"data-handleid\"),\n      position: handle.getAttribute(\"data-handlepos\"),\n      x: (handleBounds.left - nodeBounds.left) / zoom2,\n      y: (handleBounds.top - nodeBounds.top) / zoom2,\n      ...getDimensions(handle)\n    };\n  });\n}\nfunction handleNodeClick(node, multiSelectionActive, addSelectedNodes, removeSelectedNodes, nodesSelectionActive, unselect = false, nodeEl) {\n  nodesSelectionActive.value = false;\n  if (!node.selected) {\n    addSelectedNodes([node]);\n  } else if (unselect || node.selected && multiSelectionActive) {\n    removeSelectedNodes([node]);\n    nextTick(() => {\n      nodeEl.blur();\n    });\n  }\n}\nfunction isDef(val) {\n  const unrefVal = unref(val);\n  return typeof unrefVal !== \"undefined\";\n}\nfunction addEdgeToStore(edgeParams, edges, triggerError, defaultEdgeOptions) {\n  if (!edgeParams || !edgeParams.source || !edgeParams.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, (edgeParams == null ? void 0 : edgeParams.id) ?? `[ID UNKNOWN]`));\n    return false;\n  }\n  let edge;\n  if (isEdge(edgeParams)) {\n    edge = edgeParams;\n  } else {\n    edge = {\n      ...edgeParams,\n      id: getEdgeId(edgeParams)\n    };\n  }\n  edge = parseEdge(edge, void 0, defaultEdgeOptions);\n  if (connectionExists(edge, edges)) {\n    return false;\n  }\n  return edge;\n}\nfunction updateEdgeAction(edge, newConnection, edges, findEdge, shouldReplaceId, triggerError) {\n  if (!newConnection.source || !newConnection.target) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_INVALID, edge.id));\n    return false;\n  }\n  const foundEdge = findEdge(edge.id);\n  if (!foundEdge) {\n    triggerError(new VueFlowError(ErrorCode.EDGE_NOT_FOUND, edge.id));\n    return false;\n  }\n  const { id: id2, ...rest } = edge;\n  const newEdge = {\n    ...rest,\n    id: shouldReplaceId ? getEdgeId(newConnection) : id2,\n    source: newConnection.source,\n    target: newConnection.target,\n    sourceHandle: newConnection.sourceHandle,\n    targetHandle: newConnection.targetHandle\n  };\n  edges.splice(edges.indexOf(foundEdge), 1, newEdge);\n  return newEdge;\n}\nfunction createGraphNodes(nodes, currGraphNodes, findNode, triggerError) {\n  const parentNodes = {};\n  const nextNodes = nodes.reduce((nextNodes2, node, currentIndex) => {\n    if (!isNode(node)) {\n      triggerError(\n        new VueFlowError(ErrorCode.NODE_INVALID, node == null ? void 0 : node.id) || `[ID UNKNOWN|INDEX ${currentIndex}]`\n      );\n      return nextNodes2;\n    }\n    const parsed = parseNode(node, findNode(node.id), node.parentNode);\n    if (node.parentNode) {\n      parentNodes[node.parentNode] = true;\n    }\n    return nextNodes2.concat(parsed);\n  }, []);\n  const allNodes = [...nextNodes, ...currGraphNodes];\n  for (const node of nextNodes) {\n    const parentNode = allNodes.find((n) => n.id === node.parentNode);\n    if (node.parentNode && !parentNode) {\n      triggerError(new VueFlowError(ErrorCode.NODE_MISSING_PARENT, node.id, node.parentNode));\n    }\n    if (node.parentNode || parentNodes[node.id]) {\n      if (parentNodes[node.id]) {\n        node.isParent = true;\n      }\n      if (parentNode) {\n        parentNode.isParent = true;\n      }\n    }\n  }\n  return nextNodes;\n}\nfunction updateConnectionLookup(connectionLookup, edges) {\n  connectionLookup.clear();\n  for (const edge of edges) {\n    const { id: edgeId, source, target, sourceHandle = null, targetHandle = null } = edge;\n    const sourceKey = `${source}-source-${sourceHandle}`;\n    const targetKey = `${target}-target-${targetHandle}`;\n    const prevSource = connectionLookup.get(sourceKey) || /* @__PURE__ */ new Map();\n    const prevTarget = connectionLookup.get(targetKey) || /* @__PURE__ */ new Map();\n    const connection = markRaw({ edgeId, source, target, sourceHandle, targetHandle });\n    connectionLookup.set(sourceKey, prevSource.set(`${target}-${targetHandle}`, connection));\n    connectionLookup.set(targetKey, prevTarget.set(`${source}-${sourceHandle}`, connection));\n  }\n}\nfunction handleConnectionChange(a, b, cb) {\n  if (!cb) {\n    return;\n  }\n  const diff = [];\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      diff.push(a.get(key));\n    }\n  }\n  if (diff.length) {\n    cb(diff);\n  }\n}\nfunction areConnectionMapsEqual(a, b) {\n  if (!a && !b) {\n    return true;\n  }\n  if (!a || !b || a.size !== b.size) {\n    return false;\n  }\n  if (!a.size && !b.size) {\n    return true;\n  }\n  for (const key of a.keys()) {\n    if (!b.has(key)) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction createHooks() {\n  return {\n    edgesChange: createExtendedEventHook(),\n    nodesChange: createExtendedEventHook(),\n    nodeDoubleClick: createExtendedEventHook(),\n    nodeClick: createExtendedEventHook(),\n    nodeMouseEnter: createExtendedEventHook(),\n    nodeMouseMove: createExtendedEventHook(),\n    nodeMouseLeave: createExtendedEventHook(),\n    nodeContextMenu: createExtendedEventHook(),\n    nodeDragStart: createExtendedEventHook(),\n    nodeDrag: createExtendedEventHook(),\n    nodeDragStop: createExtendedEventHook(),\n    nodesInitialized: createExtendedEventHook(),\n    miniMapNodeClick: createExtendedEventHook(),\n    miniMapNodeDoubleClick: createExtendedEventHook(),\n    miniMapNodeMouseEnter: createExtendedEventHook(),\n    miniMapNodeMouseMove: createExtendedEventHook(),\n    miniMapNodeMouseLeave: createExtendedEventHook(),\n    connect: createExtendedEventHook(),\n    connectStart: createExtendedEventHook(),\n    connectEnd: createExtendedEventHook(),\n    clickConnectStart: createExtendedEventHook(),\n    clickConnectEnd: createExtendedEventHook(),\n    paneReady: createExtendedEventHook(),\n    init: createExtendedEventHook(),\n    move: createExtendedEventHook(),\n    moveStart: createExtendedEventHook(),\n    moveEnd: createExtendedEventHook(),\n    selectionDragStart: createExtendedEventHook(),\n    selectionDrag: createExtendedEventHook(),\n    selectionDragStop: createExtendedEventHook(),\n    selectionContextMenu: createExtendedEventHook(),\n    selectionStart: createExtendedEventHook(),\n    selectionEnd: createExtendedEventHook(),\n    viewportChangeStart: createExtendedEventHook(),\n    viewportChange: createExtendedEventHook(),\n    viewportChangeEnd: createExtendedEventHook(),\n    paneScroll: createExtendedEventHook(),\n    paneClick: createExtendedEventHook(),\n    paneContextMenu: createExtendedEventHook(),\n    paneMouseEnter: createExtendedEventHook(),\n    paneMouseMove: createExtendedEventHook(),\n    paneMouseLeave: createExtendedEventHook(),\n    edgeContextMenu: createExtendedEventHook(),\n    edgeMouseEnter: createExtendedEventHook(),\n    edgeMouseMove: createExtendedEventHook(),\n    edgeMouseLeave: createExtendedEventHook(),\n    edgeDoubleClick: createExtendedEventHook(),\n    edgeClick: createExtendedEventHook(),\n    edgeUpdateStart: createExtendedEventHook(),\n    edgeUpdate: createExtendedEventHook(),\n    edgeUpdateEnd: createExtendedEventHook(),\n    updateNodeInternals: createExtendedEventHook(),\n    error: createExtendedEventHook((err) => warn(err.message))\n  };\n}\nfunction useHooks(emit, hooks) {\n  onBeforeMount(() => {\n    for (const [key, value] of Object.entries(hooks.value)) {\n      const listener = (data) => {\n        emit(key, data);\n      };\n      value.fns.add(listener);\n      tryOnScopeDispose(() => {\n        value.off(listener);\n      });\n    }\n  });\n}\nfunction useState() {\n  return {\n    vueFlowRef: null,\n    viewportRef: null,\n    // todo: change this to a Set\n    nodes: [],\n    // todo: change this to a Set\n    edges: [],\n    connectionLookup: /* @__PURE__ */ new Map(),\n    nodeTypes: {},\n    edgeTypes: {},\n    initialized: false,\n    dimensions: {\n      width: 0,\n      height: 0\n    },\n    viewport: { x: 0, y: 0, zoom: 1 },\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: null,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    nodeExtent: [\n      [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n      [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY]\n    ],\n    selectionMode: SelectionMode.Full,\n    paneDragging: false,\n    preventScrolling: true,\n    zoomOnScroll: true,\n    zoomOnPinch: true,\n    zoomOnDoubleClick: true,\n    panOnScroll: false,\n    panOnScrollSpeed: 0.5,\n    panOnScrollMode: PanOnScrollMode.Free,\n    panOnDrag: true,\n    edgeUpdaterRadius: 10,\n    onlyRenderVisibleElements: false,\n    defaultViewport: { x: 0, y: 0, zoom: 1 },\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    defaultMarkerColor: \"#b1b1b7\",\n    connectionLineStyle: {},\n    connectionLineType: null,\n    connectionLineOptions: {\n      type: ConnectionLineType.Bezier,\n      style: {}\n    },\n    connectionMode: ConnectionMode.Loose,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectionPosition: { x: Number.NaN, y: Number.NaN },\n    connectionRadius: 20,\n    connectOnClick: true,\n    connectionStatus: null,\n    isValidConnection: null,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    edgesUpdatable: false,\n    edgesFocusable: true,\n    nodesFocusable: true,\n    nodesConnectable: true,\n    nodesDraggable: true,\n    nodeDragThreshold: 1,\n    elementsSelectable: true,\n    selectNodesOnDrag: true,\n    multiSelectionActive: false,\n    selectionKeyCode: \"Shift\",\n    multiSelectionKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    zoomActivationKeyCode: isMacOs() ? \"Meta\" : \"Control\",\n    deleteKeyCode: \"Backspace\",\n    panActivationKeyCode: \"Space\",\n    hooks: createHooks(),\n    applyDefault: true,\n    autoConnect: false,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    noDragClassName: \"nodrag\",\n    noWheelClassName: \"nowheel\",\n    noPanClassName: \"nopan\",\n    defaultEdgeOptions: void 0,\n    elevateEdgesOnSelect: false,\n    elevateNodesOnSelect: true,\n    autoPanOnNodeDrag: true,\n    autoPanOnConnect: true,\n    disableKeyboardA11y: false,\n    ariaLiveMessage: \"\"\n  };\n}\nconst storeOptionsToSkip = [\n  \"id\",\n  \"vueFlowRef\",\n  \"viewportRef\",\n  \"initialized\",\n  \"modelValue\",\n  \"nodes\",\n  \"edges\",\n  \"maxZoom\",\n  \"minZoom\",\n  \"translateExtent\",\n  \"hooks\",\n  \"defaultEdgeOptions\"\n];\nfunction useActions(id2, state, nodeIds, edgeIds) {\n  const viewportHelper = useViewportHelper(state);\n  const updateNodeInternals = (ids) => {\n    const updateIds = ids ?? nodeIds.value ?? [];\n    state.hooks.updateNodeInternals.trigger(updateIds);\n  };\n  const getIncomers$1 = (nodeOrId) => {\n    return getIncomers(nodeOrId, state.nodes, state.edges);\n  };\n  const getOutgoers$1 = (nodeOrId) => {\n    return getOutgoers(nodeOrId, state.nodes, state.edges);\n  };\n  const getConnectedEdges$1 = (nodesOrId) => {\n    return getConnectedEdges(nodesOrId, state.edges);\n  };\n  const findNode = (id22) => {\n    if (!id22) {\n      return;\n    }\n    if (state.nodes && !nodeIds.value.length) {\n      return state.nodes.find((node) => node.id === id22);\n    }\n    return state.nodes[nodeIds.value.indexOf(id22)];\n  };\n  const findEdge = (id22) => {\n    if (!id22) {\n      return;\n    }\n    if (state.edges && !edgeIds.value.length) {\n      return state.edges.find((edge) => edge.id === id22);\n    }\n    return state.edges[edgeIds.value.indexOf(id22)];\n  };\n  const updateNodePositions = (dragItems, changed, dragging) => {\n    var _a, _b;\n    const changes = [];\n    for (const node of dragItems) {\n      const change = {\n        id: node.id,\n        type: \"position\",\n        dragging,\n        from: node.from\n      };\n      if (changed) {\n        change.position = node.position;\n        if (node.parentNode) {\n          const parentNode = findNode(node.parentNode);\n          change.position = {\n            x: change.position.x - (((_a = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _a.x) ?? 0),\n            y: change.position.y - (((_b = parentNode == null ? void 0 : parentNode.computedPosition) == null ? void 0 : _b.y) ?? 0)\n          };\n        }\n      }\n      changes.push(change);\n    }\n    if (changes == null ? void 0 : changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const updateNodeDimensions = (updates) => {\n    if (!state.vueFlowRef) {\n      return;\n    }\n    const viewportNode = state.vueFlowRef.querySelector(\".vue-flow__transformationpane\");\n    if (!viewportNode) {\n      return;\n    }\n    const style = window.getComputedStyle(viewportNode);\n    const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n    const changes = updates.reduce((res, update) => {\n      const node = findNode(update.id);\n      if (node) {\n        const dimensions = getDimensions(update.nodeElement);\n        const doUpdate = !!(dimensions.width && dimensions.height && (node.dimensions.width !== dimensions.width || node.dimensions.height !== dimensions.height || update.forceUpdate));\n        if (doUpdate) {\n          node.handleBounds.source = getHandleBounds(\".source\", update.nodeElement, zoom2);\n          node.handleBounds.target = getHandleBounds(\".target\", update.nodeElement, zoom2);\n          node.dimensions = dimensions;\n          node.initialized = true;\n          res.push({\n            id: node.id,\n            type: \"dimensions\",\n            dimensions\n          });\n        }\n      }\n      return res;\n    }, []);\n    if (!state.fitViewOnInitDone && state.fitViewOnInit) {\n      nextTick(() => {\n        viewportHelper.value.fitView();\n        state.fitViewOnInitDone = true;\n      });\n    }\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const nodeSelectionHandler = (nodes, selected) => {\n    const nodeIds2 = nodes.map((n) => n.id);\n    let changedNodes;\n    let changedEdges = [];\n    if (state.multiSelectionActive) {\n      changedNodes = nodeIds2.map((nodeId) => createSelectionChange(nodeId, selected));\n    } else {\n      const selectionChanges = getSelectionChanges([...state.nodes, ...state.edges], nodeIds2);\n      changedNodes = selectionChanges.changedNodes;\n      changedEdges = selectionChanges.changedEdges;\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const edgeSelectionHandler = (edges, selected) => {\n    const edgeIds2 = edges.map((e) => e.id);\n    let changedNodes = [];\n    let changedEdges;\n    if (state.multiSelectionActive) {\n      changedEdges = edgeIds2.map((edgeId) => createSelectionChange(edgeId, selected));\n    } else {\n      const selectionChanges = getSelectionChanges([...state.nodes, ...state.edges], edgeIds2);\n      changedNodes = selectionChanges.changedNodes;\n      changedEdges = selectionChanges.changedEdges;\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const elementSelectionHandler = (elements, selected) => {\n    const nodeIds2 = elements.filter(isNode).map((n) => n.id);\n    const edgeIds2 = elements.filter(isEdge).map((e) => e.id);\n    let { changedNodes, changedEdges } = getSelectionChanges([...state.nodes, ...state.edges], [...nodeIds2, ...edgeIds2]);\n    if (state.multiSelectionActive) {\n      changedNodes = nodeIds2.map((nodeId) => createSelectionChange(nodeId, selected));\n      changedEdges = edgeIds2.map((edgeId) => createSelectionChange(edgeId, selected));\n    }\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const addSelectedNodes = (nodes) => {\n    nodeSelectionHandler(nodes, true);\n  };\n  const addSelectedEdges = (edges) => {\n    edgeSelectionHandler(edges, true);\n  };\n  const addSelectedElements = (elements) => {\n    elementSelectionHandler(elements, true);\n  };\n  const removeSelectedNodes = (nodes) => {\n    if (!nodes.length) {\n      return nodeSelectionHandler(nodes, false);\n    }\n    const nodeIds2 = nodes.map((n) => n.id);\n    const changedNodes = nodeIds2.map((nodeId) => createSelectionChange(nodeId, false));\n    if (changedNodes.length) {\n      state.hooks.nodesChange.trigger(changedNodes);\n    }\n  };\n  const removeSelectedEdges = (edges) => {\n    if (!edges.length) {\n      return edgeSelectionHandler(edges, false);\n    }\n    const edgeIds2 = edges.map((e) => e.id);\n    const changedEdges = edgeIds2.map((edgeId) => createSelectionChange(edgeId, false));\n    if (changedEdges.length) {\n      state.hooks.edgesChange.trigger(changedEdges);\n    }\n  };\n  const removeSelectedElements = (elements) => {\n    if (!elements || !elements.length) {\n      return elementSelectionHandler([], false);\n    }\n    const changes = elements.reduce(\n      (changes2, curr) => {\n        const selectionChange = createSelectionChange(curr.id, false);\n        if (isNode(curr)) {\n          changes2.nodes.push(selectionChange);\n        } else {\n          changes2.edges.push(selectionChange);\n        }\n        return changes2;\n      },\n      { nodes: [], edges: [] }\n    );\n    if (changes.nodes.length) {\n      state.hooks.nodesChange.trigger(changes.nodes);\n    }\n    if (changes.edges.length) {\n      state.hooks.edgesChange.trigger(changes.edges);\n    }\n  };\n  const setMinZoom = (minZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([minZoom, state.maxZoom]);\n    state.minZoom = minZoom;\n  };\n  const setMaxZoom = (maxZoom) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.scaleExtent([state.minZoom, maxZoom]);\n    state.maxZoom = maxZoom;\n  };\n  const setTranslateExtent = (translateExtent) => {\n    var _a;\n    (_a = state.d3Zoom) == null ? void 0 : _a.translateExtent(translateExtent);\n    state.translateExtent = translateExtent;\n  };\n  const setNodeExtent = (nodeExtent) => {\n    state.nodeExtent = nodeExtent;\n    updateNodeInternals(nodeIds.value);\n  };\n  const setInteractive = (isInteractive) => {\n    state.nodesDraggable = isInteractive;\n    state.nodesConnectable = isInteractive;\n    state.elementsSelectable = isInteractive;\n  };\n  const setNodes = (nodes) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    if (!state.initialized && !nextNodes.length) {\n      return;\n    }\n    state.nodes = createGraphNodes(nextNodes, state.nodes, findNode, state.hooks.error.trigger);\n  };\n  const setEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    if (!state.initialized && !nextEdges.length) {\n      return;\n    }\n    const validEdges = state.isValidConnection ? nextEdges.filter(\n      (edge) => state.isValidConnection(edge, {\n        edges: state.edges,\n        nodes: state.nodes,\n        sourceNode: findNode(edge.source),\n        targetNode: findNode(edge.target)\n      })\n    ) : nextEdges;\n    updateConnectionLookup(state.connectionLookup, validEdges);\n    state.edges = validEdges.reduce((res, edge) => {\n      const sourceNode = findNode(edge.source);\n      const targetNode = findNode(edge.target);\n      const missingSource = !sourceNode || typeof sourceNode === \"undefined\";\n      const missingTarget = !targetNode || typeof targetNode === \"undefined\";\n      if (missingSource && missingTarget) {\n        state.hooks.error.trigger(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.id, edge.source, edge.target));\n      } else {\n        if (missingSource) {\n          state.hooks.error.trigger(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.id, edge.source));\n        }\n        if (missingTarget) {\n          state.hooks.error.trigger(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.id, edge.target));\n        }\n      }\n      if (missingSource || missingTarget) {\n        return res;\n      }\n      const existingEdge = findEdge(edge.id);\n      res.push({\n        ...parseEdge(edge, existingEdge, state.defaultEdgeOptions),\n        sourceNode,\n        targetNode\n      });\n      return res;\n    }, []);\n  };\n  const setElements = (elements) => {\n    const nextElements = elements instanceof Function ? elements([...state.nodes, ...state.edges]) : elements;\n    if (!state.initialized && !nextElements.length) {\n      return;\n    }\n    setNodes(nextElements.filter(isNode));\n    setEdges(nextElements.filter(isEdge));\n  };\n  const addNodes = (nodes) => {\n    let nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    nextNodes = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const graphNodes = createGraphNodes(nextNodes, state.nodes, findNode, state.hooks.error.trigger);\n    const changes = graphNodes.map(createAdditionChange);\n    if (changes.length) {\n      state.hooks.nodesChange.trigger(changes);\n    }\n  };\n  const addEdges = (params) => {\n    let nextEdges = params instanceof Function ? params(state.edges) : params;\n    nextEdges = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const validEdges = state.isValidConnection ? nextEdges.filter((edge) => {\n      var _a;\n      return (_a = state.isValidConnection) == null ? void 0 : _a.call(state, edge, {\n        edges: state.edges,\n        nodes: state.nodes,\n        sourceNode: findNode(edge.source),\n        targetNode: findNode(edge.target)\n      });\n    }) : nextEdges;\n    const changes = validEdges.reduce((edgeChanges, connection) => {\n      const edge = addEdgeToStore(connection, state.edges, state.hooks.error.trigger, state.defaultEdgeOptions);\n      if (edge) {\n        const sourceNode = findNode(edge.source);\n        const targetNode = findNode(edge.target);\n        edgeChanges.push(\n          createAdditionChange({\n            ...edge,\n            sourceNode,\n            targetNode\n          })\n        );\n      }\n      return edgeChanges;\n    }, []);\n    if (changes.length) {\n      state.hooks.edgesChange.trigger(changes);\n    }\n  };\n  const removeNodes = (nodes, removeConnectedEdges = true, removeChildren = false) => {\n    const nextNodes = nodes instanceof Function ? nodes(state.nodes) : nodes;\n    const nodesToRemove = Array.isArray(nextNodes) ? nextNodes : [nextNodes];\n    const nodeChanges = [];\n    const edgeChanges = [];\n    function createEdgeRemovalChanges(nodes2) {\n      const connections = getConnectedEdges$1(nodes2).filter((edge) => isDef(edge.deletable) ? edge.deletable : true);\n      edgeChanges.push(\n        ...connections.map(\n          (connection) => createEdgeRemoveChange(\n            connection.id,\n            connection.source,\n            connection.target,\n            connection.sourceHandle,\n            connection.targetHandle\n          )\n        )\n      );\n    }\n    function createChildrenRemovalChanges(id22) {\n      const children2 = state.nodes.filter((n) => n.parentNode === id22);\n      if (children2.length) {\n        const childIds = children2.map((n) => n.id);\n        nodeChanges.push(...childIds.map((id3) => createNodeRemoveChange(id3)));\n        if (removeConnectedEdges) {\n          createEdgeRemovalChanges(children2);\n        }\n        for (const child of children2) {\n          createChildrenRemovalChanges(child.id);\n        }\n      }\n    }\n    for (const item of nodesToRemove) {\n      const currNode = typeof item === \"string\" ? findNode(item) : item;\n      if (!currNode) {\n        continue;\n      }\n      if (isDef(currNode.deletable) && !currNode.deletable) {\n        continue;\n      }\n      nodeChanges.push(createNodeRemoveChange(currNode.id));\n      if (removeConnectedEdges) {\n        createEdgeRemovalChanges([currNode]);\n      }\n      if (removeChildren) {\n        createChildrenRemovalChanges(currNode.id);\n      }\n    }\n    if (edgeChanges.length) {\n      state.hooks.edgesChange.trigger(edgeChanges);\n    }\n    if (nodeChanges.length) {\n      state.hooks.nodesChange.trigger(nodeChanges);\n    }\n  };\n  const removeEdges = (edges) => {\n    const nextEdges = edges instanceof Function ? edges(state.edges) : edges;\n    const edgesToRemove = Array.isArray(nextEdges) ? nextEdges : [nextEdges];\n    const changes = [];\n    for (const item of edgesToRemove) {\n      const currEdge = typeof item === \"string\" ? findEdge(item) : item;\n      if (!currEdge) {\n        continue;\n      }\n      if (isDef(currEdge.deletable) && !currEdge.deletable) {\n        continue;\n      }\n      changes.push(\n        createEdgeRemoveChange(\n          typeof item === \"string\" ? item : item.id,\n          currEdge.source,\n          currEdge.target,\n          currEdge.sourceHandle,\n          currEdge.targetHandle\n        )\n      );\n    }\n    state.hooks.edgesChange.trigger(changes);\n  };\n  const updateEdge2 = (oldEdge, newConnection, shouldReplaceId = true) => updateEdgeAction(oldEdge, newConnection, state.edges, findEdge, shouldReplaceId, state.hooks.error.trigger);\n  const applyNodeChanges2 = (changes) => {\n    return applyChanges(changes, state.nodes);\n  };\n  const applyEdgeChanges2 = (changes) => {\n    const changedEdges = applyChanges(changes, state.edges);\n    updateConnectionLookup(state.connectionLookup, changedEdges);\n    return changedEdges;\n  };\n  const updateNode = (id22, nodeUpdate, options = { replace: false }) => {\n    const node = findNode(id22);\n    if (!node) {\n      return;\n    }\n    const nextNode = typeof nodeUpdate === \"function\" ? nodeUpdate(node) : nodeUpdate;\n    if (options.replace) {\n      state.nodes.splice(state.nodes.indexOf(node), 1, nextNode);\n    } else {\n      Object.assign(node, nextNode);\n    }\n  };\n  const updateNodeData = (id22, dataUpdate, options = { replace: false }) => {\n    updateNode(\n      id22,\n      (node) => {\n        const nextData = typeof dataUpdate === \"function\" ? dataUpdate(node) : dataUpdate;\n        return options.replace ? { ...node, data: nextData } : { ...node, data: { ...node.data, ...nextData } };\n      },\n      options\n    );\n  };\n  const startConnection = (startHandle, position, event, isClick = false) => {\n    if (isClick) {\n      state.connectionClickStartHandle = startHandle;\n    } else {\n      state.connectionStartHandle = startHandle;\n    }\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (position) {\n      state.connectionPosition = position;\n    }\n  };\n  const updateConnection = (position, result = null, status = null) => {\n    if (state.connectionStartHandle) {\n      state.connectionPosition = position;\n      state.connectionEndHandle = result;\n      state.connectionStatus = status;\n    }\n  };\n  const endConnection = (event, isClick) => {\n    state.connectionPosition = { x: Number.NaN, y: Number.NaN };\n    state.connectionEndHandle = null;\n    state.connectionStatus = null;\n    if (isClick) {\n      state.connectionClickStartHandle = null;\n    } else {\n      state.connectionStartHandle = null;\n    }\n  };\n  const getNodeRect = (nodeOrRect) => {\n    const isRectObj = isRect(nodeOrRect);\n    const node = isRectObj ? null : isGraphNode(nodeOrRect) ? nodeOrRect : findNode(nodeOrRect.id);\n    if (!isRectObj && !node) {\n      return [null, null, isRectObj];\n    }\n    const nodeRect = isRectObj ? nodeOrRect : nodeToRect(node);\n    return [nodeRect, node, isRectObj];\n  };\n  const getIntersectingNodes = (nodeOrRect, partially = true, nodes = state.nodes) => {\n    const [nodeRect, node, isRect2] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return [];\n    }\n    return (nodes || state.nodes).filter((n) => {\n      if (!isRect2 && (n.id === node.id || !n.computedPosition)) {\n        return false;\n      }\n      const currNodeRect = nodeToRect(n);\n      const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n      const partiallyVisible = partially && overlappingArea > 0;\n      return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n    });\n  };\n  const isNodeIntersecting = (nodeOrRect, area, partially = true) => {\n    const [nodeRect] = getNodeRect(nodeOrRect);\n    if (!nodeRect) {\n      return false;\n    }\n    const overlappingArea = getOverlappingArea(nodeRect, area);\n    const partiallyVisible = partially && overlappingArea > 0;\n    return partiallyVisible || overlappingArea >= Number(nodeRect.width) * Number(nodeRect.height);\n  };\n  const panBy = (delta) => {\n    const { viewport, dimensions, d3Zoom, d3Selection, translateExtent } = state;\n    if (!d3Zoom || !d3Selection || !delta.x && !delta.y) {\n      return false;\n    }\n    const nextTransform = identity.translate(viewport.x + delta.x, viewport.y + delta.y).scale(viewport.zoom);\n    const extent = [\n      [0, 0],\n      [dimensions.width, dimensions.height]\n    ];\n    const constrainedTransform = d3Zoom.constrain()(nextTransform, extent, translateExtent);\n    const transformChanged = state.viewport.x !== constrainedTransform.x || state.viewport.y !== constrainedTransform.y || state.viewport.zoom !== constrainedTransform.k;\n    d3Zoom.transform(d3Selection, constrainedTransform);\n    return transformChanged;\n  };\n  const setState = (options) => {\n    const opts = options instanceof Function ? options(state) : options;\n    const exclude = [\n      \"d3Zoom\",\n      \"d3Selection\",\n      \"d3ZoomHandler\",\n      \"viewportRef\",\n      \"vueFlowRef\",\n      \"dimensions\",\n      \"hooks\"\n    ];\n    if (isDef(opts.defaultEdgeOptions)) {\n      state.defaultEdgeOptions = opts.defaultEdgeOptions;\n    }\n    const elements = opts.modelValue || opts.nodes || opts.edges ? [] : void 0;\n    if (elements) {\n      if (opts.modelValue) {\n        elements.push(...opts.modelValue);\n      }\n      if (opts.nodes) {\n        elements.push(...opts.nodes);\n      }\n      if (opts.edges) {\n        elements.push(...opts.edges);\n      }\n      setElements(elements);\n    }\n    const setSkippedOptions = () => {\n      if (isDef(opts.maxZoom)) {\n        setMaxZoom(opts.maxZoom);\n      }\n      if (isDef(opts.minZoom)) {\n        setMinZoom(opts.minZoom);\n      }\n      if (isDef(opts.translateExtent)) {\n        setTranslateExtent(opts.translateExtent);\n      }\n    };\n    for (const o of Object.keys(opts)) {\n      const key = o;\n      const option = opts[key];\n      if (![...storeOptionsToSkip, ...exclude].includes(key) && isDef(option)) {\n        state[key] = option;\n      }\n    }\n    until(() => state.d3Zoom).not.toBeNull().then(setSkippedOptions);\n    if (!state.initialized) {\n      state.initialized = true;\n    }\n  };\n  const toObject = () => {\n    return JSON.parse(\n      JSON.stringify({\n        nodes: state.nodes.map((n) => {\n          const {\n            computedPosition: _,\n            handleBounds: __,\n            selected: ___,\n            dimensions: ____,\n            isParent: _____,\n            resizing: ______,\n            dragging: _______,\n            initialized: ________,\n            events: _________,\n            ...rest\n          } = n;\n          return rest;\n        }),\n        edges: state.edges.map((e) => {\n          const { selected: _, sourceNode: __, targetNode: ___, events: ____, ...rest } = e;\n          return rest;\n        }),\n        position: [state.viewport.x, state.viewport.y],\n        zoom: state.viewport.zoom,\n        viewport: state.viewport\n      })\n    );\n  };\n  const fromObject = (obj) => {\n    return new Promise((resolve) => {\n      const { nodes, edges, position, zoom: zoom2, viewport } = obj;\n      if (nodes) {\n        setNodes(nodes);\n      }\n      if (edges) {\n        setEdges(edges);\n      }\n      if ((viewport == null ? void 0 : viewport.x) && (viewport == null ? void 0 : viewport.y) || position) {\n        const x = (viewport == null ? void 0 : viewport.x) || position[0];\n        const y = (viewport == null ? void 0 : viewport.y) || position[1];\n        const nextZoom = (viewport == null ? void 0 : viewport.zoom) || zoom2 || state.viewport.zoom;\n        return until(() => viewportHelper.value.viewportInitialized).toBe(true).then(() => {\n          viewportHelper.value.setViewport({\n            x,\n            y,\n            zoom: nextZoom\n          }).then(() => {\n            resolve(true);\n          });\n        });\n      } else {\n        resolve(true);\n      }\n    });\n  };\n  const $reset = () => {\n    const resetState = useState();\n    state.edges = [];\n    state.nodes = [];\n    if (state.d3Zoom && state.d3Selection) {\n      const updatedTransform = identity.translate(resetState.defaultViewport.x ?? 0, resetState.defaultViewport.y ?? 0).scale(clamp(resetState.defaultViewport.zoom ?? 1, resetState.minZoom, resetState.maxZoom));\n      const bbox = state.viewportRef.getBoundingClientRect();\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = state.d3Zoom.constrain()(updatedTransform, extent, resetState.translateExtent);\n      state.d3Zoom.transform(state.d3Selection, constrainedTransform);\n    }\n    setState(resetState);\n  };\n  return {\n    updateNodePositions,\n    updateNodeDimensions,\n    setElements,\n    setNodes,\n    setEdges,\n    addNodes,\n    addEdges,\n    removeNodes,\n    removeEdges,\n    findNode,\n    findEdge,\n    updateEdge: updateEdge2,\n    updateNode,\n    updateNodeData,\n    applyEdgeChanges: applyEdgeChanges2,\n    applyNodeChanges: applyNodeChanges2,\n    addSelectedElements,\n    addSelectedNodes,\n    addSelectedEdges,\n    setMinZoom,\n    setMaxZoom,\n    setTranslateExtent,\n    setNodeExtent,\n    removeSelectedElements,\n    removeSelectedNodes,\n    removeSelectedEdges,\n    startConnection,\n    updateConnection,\n    endConnection,\n    setInteractive,\n    setState,\n    getIntersectingNodes,\n    getIncomers: getIncomers$1,\n    getOutgoers: getOutgoers$1,\n    getConnectedEdges: getConnectedEdges$1,\n    isNodeIntersecting,\n    panBy,\n    fitView: (params) => viewportHelper.value.fitView(params),\n    zoomIn: (transitionOpts) => viewportHelper.value.zoomIn(transitionOpts),\n    zoomOut: (transitionOpts) => viewportHelper.value.zoomOut(transitionOpts),\n    zoomTo: (zoomLevel, transitionOpts) => viewportHelper.value.zoomTo(zoomLevel, transitionOpts),\n    setViewport: (params, transitionOpts) => viewportHelper.value.setViewport(params, transitionOpts),\n    setTransform: (params, transitionOpts) => viewportHelper.value.setTransform(params, transitionOpts),\n    getViewport: () => viewportHelper.value.getViewport(),\n    getTransform: () => viewportHelper.value.getTransform(),\n    setCenter: (x, y, opts) => viewportHelper.value.setCenter(x, y, opts),\n    fitBounds: (params, opts) => viewportHelper.value.fitBounds(params, opts),\n    project: (params) => viewportHelper.value.project(params),\n    screenToFlowCoordinate: (params) => viewportHelper.value.screenToFlowCoordinate(params),\n    flowToScreenCoordinate: (params) => viewportHelper.value.flowToScreenCoordinate(params),\n    toObject,\n    fromObject,\n    updateNodeInternals,\n    viewportHelper,\n    $reset,\n    $destroy: () => {\n    }\n  };\n}\nconst _hoisted_1$9 = [\"data-id\", \"data-handleid\", \"data-nodeid\", \"data-handlepos\"];\nconst __default__$f = {\n  name: \"Handle\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$f = /* @__PURE__ */ defineComponent({\n  ...__default__$f,\n  props: {\n    id: {},\n    type: {},\n    position: { default: () => Position.Top },\n    isValidConnection: { type: Function },\n    connectable: { type: [Boolean, Number, String, Function], default: void 0 },\n    connectableStart: { type: Boolean, default: true },\n    connectableEnd: { type: Boolean, default: true }\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"position\", \"connectable\", \"connectableStart\", \"connectableEnd\", \"id\"]);\n    const type = toRef(() => props.type ?? \"source\");\n    const isValidConnection = toRef(() => props.isValidConnection ?? null);\n    const {\n      connectionStartHandle,\n      connectionClickStartHandle,\n      connectionEndHandle,\n      vueFlowRef,\n      nodesConnectable,\n      noDragClassName,\n      noPanClassName\n    } = useVueFlow();\n    const { id: nodeId, node, nodeEl, connectedEdges } = useNode();\n    const handle = ref();\n    const handleId = toRef(() => __props.id ?? `${nodeId}__handle-${__props.position}`);\n    const isConnectableStart = toRef(() => typeof __props.connectableStart !== \"undefined\" ? __props.connectableStart : true);\n    const isConnectableEnd = toRef(() => typeof __props.connectableEnd !== \"undefined\" ? __props.connectableEnd : true);\n    const isConnecting = toRef(\n      () => {\n        var _a, _b, _c, _d, _e, _f;\n        return ((_a = connectionStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionStartHandle.value) == null ? void 0 : _b.handleId) === handleId.value && ((_c = connectionStartHandle.value) == null ? void 0 : _c.type) === type.value || ((_d = connectionEndHandle.value) == null ? void 0 : _d.nodeId) === nodeId && ((_e = connectionEndHandle.value) == null ? void 0 : _e.handleId) === handleId.value && ((_f = connectionEndHandle.value) == null ? void 0 : _f.type) === type.value;\n      }\n    );\n    const isClickConnecting = toRef(\n      () => {\n        var _a, _b, _c;\n        return ((_a = connectionClickStartHandle.value) == null ? void 0 : _a.nodeId) === nodeId && ((_b = connectionClickStartHandle.value) == null ? void 0 : _b.handleId) === handleId.value && ((_c = connectionClickStartHandle.value) == null ? void 0 : _c.type) === type.value;\n      }\n    );\n    const { handlePointerDown, handleClick } = useHandle({\n      nodeId,\n      handleId,\n      isValidConnection,\n      type\n    });\n    const isConnectable = computed(() => {\n      if (typeof __props.connectable === \"string\" && __props.connectable === \"single\") {\n        return !connectedEdges.value.some((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === handleId.value : true;\n        });\n      }\n      if (typeof __props.connectable === \"number\") {\n        return connectedEdges.value.filter((edge) => {\n          const id2 = edge[`${type.value}Handle`];\n          if (edge[type.value] !== nodeId) {\n            return false;\n          }\n          return id2 ? id2 === handleId.value : true;\n        }).length < __props.connectable;\n      }\n      if (typeof __props.connectable === \"function\") {\n        return __props.connectable(node, connectedEdges.value);\n      }\n      return isDef(__props.connectable) ? __props.connectable : nodesConnectable.value;\n    });\n    until(() => node.initialized).toBe(true, { flush: \"post\" }).then(() => {\n      var _a;\n      const existingBounds = (_a = node.handleBounds[type.value]) == null ? void 0 : _a.find((b) => b.id === handleId.value);\n      if (!vueFlowRef.value || existingBounds) {\n        return;\n      }\n      const viewportNode = vueFlowRef.value.querySelector(\".vue-flow__transformationpane\");\n      if (!nodeEl.value || !handle.value || !viewportNode || !handleId.value) {\n        return;\n      }\n      const nodeBounds = nodeEl.value.getBoundingClientRect();\n      const handleBounds = handle.value.getBoundingClientRect();\n      const style = window.getComputedStyle(viewportNode);\n      const { m22: zoom2 } = new window.DOMMatrixReadOnly(style.transform);\n      const nextBounds = {\n        id: handleId.value,\n        position: __props.position,\n        x: (handleBounds.left - nodeBounds.left) / zoom2,\n        y: (handleBounds.top - nodeBounds.top) / zoom2,\n        ...getDimensions(handle.value)\n      };\n      node.handleBounds[type.value] = [...node.handleBounds[type.value] ?? [], nextBounds];\n    });\n    onUnmounted(() => {\n      const handleBounds = node.handleBounds[type.value];\n      if (handleBounds) {\n        node.handleBounds[type.value] = handleBounds.filter((b) => b.id !== handleId.value);\n      }\n    });\n    function onPointerDown(event) {\n      const isMouseTriggered = isMouseEvent(event);\n      if (isConnectable.value && isConnectableStart.value && (isMouseTriggered && event.button === 0 || !isMouseTriggered)) {\n        handlePointerDown(event);\n      }\n    }\n    function onClick(event) {\n      if (!nodeId || !connectionClickStartHandle.value && !isConnectableStart.value) {\n        return;\n      }\n      if (isConnectable.value) {\n        handleClick(event);\n      }\n    }\n    __expose({\n      handleClick,\n      handlePointerDown,\n      onClick,\n      onPointerDown\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"handle\",\n        ref: handle,\n        \"data-id\": `${unref(nodeId)}-${handleId.value}-${type.value}`,\n        \"data-handleid\": handleId.value,\n        \"data-nodeid\": unref(nodeId),\n        \"data-handlepos\": _ctx.position,\n        class: normalizeClass([\"vue-flow__handle\", [\n          `vue-flow__handle-${_ctx.position}`,\n          `vue-flow__handle-${handleId.value}`,\n          unref(noDragClassName),\n          unref(noPanClassName),\n          type.value,\n          {\n            connectable: isConnectable.value,\n            connecting: isClickConnecting.value,\n            connectablestart: isConnectableStart.value,\n            connectableend: isConnectableEnd.value,\n            connectionindicator: isConnectable.value && (isConnectableStart.value && !isConnecting.value || isConnectableEnd.value && isConnecting.value)\n          }\n        ]]),\n        onMousedown: onPointerDown,\n        onTouchstartPassive: onPointerDown,\n        onClick\n      }, [\n        renderSlot(_ctx.$slots, \"default\", { id: _ctx.id })\n      ], 42, _hoisted_1$9);\n    };\n  }\n});\nconst DefaultNode = function({\n  sourcePosition = Position.Bottom,\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label }),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nDefaultNode.props = [\"sourcePosition\", \"targetPosition\", \"label\", \"isValidTargetPos\", \"isValidSourcePos\", \"connectable\", \"data\"];\nDefaultNode.inheritAttrs = false;\nDefaultNode.compatConfig = { MODE: 3 };\nconst DefaultNode$1 = DefaultNode;\nconst OutputNode = function({\n  targetPosition = Position.Top,\n  label: _label,\n  connectable = true,\n  isValidTargetPos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    h(_sfc_main$f, { type: \"target\", position: targetPosition, connectable, isValidConnection: isValidTargetPos }),\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label })\n  ];\n};\nOutputNode.props = [\"targetPosition\", \"label\", \"isValidTargetPos\", \"connectable\", \"data\"];\nOutputNode.inheritAttrs = false;\nOutputNode.compatConfig = { MODE: 3 };\nconst OutputNode$1 = OutputNode;\nconst InputNode = function({\n  sourcePosition = Position.Bottom,\n  label: _label,\n  connectable = true,\n  isValidSourcePos,\n  data\n}) {\n  const label = data.label || _label;\n  return [\n    typeof label !== \"string\" && label ? h(label) : h(\"div\", { innerHTML: label }),\n    h(_sfc_main$f, { type: \"source\", position: sourcePosition, connectable, isValidConnection: isValidSourcePos })\n  ];\n};\nInputNode.props = [\"sourcePosition\", \"label\", \"isValidSourcePos\", \"connectable\", \"data\"];\nInputNode.inheritAttrs = false;\nInputNode.compatConfig = { MODE: 3 };\nconst InputNode$1 = InputNode;\nconst _hoisted_1$8 = [\"transform\"];\nconst _hoisted_2$2 = [\"width\", \"height\", \"x\", \"y\", \"rx\", \"ry\"];\nconst _hoisted_3$1 = [\"y\"];\nconst __default__$e = {\n  name: \"EdgeText\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$e = /* @__PURE__ */ defineComponent({\n  ...__default__$e,\n  props: {\n    x: {},\n    y: {},\n    label: {},\n    labelStyle: { default: () => ({}) },\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: { default: () => ({}) },\n    labelBgPadding: { default: () => [2, 4] },\n    labelBgBorderRadius: { default: 2 }\n  },\n  setup(__props) {\n    const box = ref({ x: 0, y: 0, width: 0, height: 0 });\n    const el = ref(null);\n    const transform = computed(() => `translate(${__props.x - box.value.width / 2} ${__props.y - box.value.height / 2})`);\n    onMounted(getBox);\n    watch([() => __props.x, () => __props.y, el, () => __props.label], getBox);\n    function getBox() {\n      if (!el.value) {\n        return;\n      }\n      const nextBox = el.value.getBBox();\n      if (nextBox.width !== box.value.width || nextBox.height !== box.value.height) {\n        box.value = nextBox;\n      }\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"g\", {\n        transform: transform.value,\n        class: \"vue-flow__edge-textwrapper\"\n      }, [\n        _ctx.labelShowBg ? (openBlock(), createElementBlock(\"rect\", {\n          key: 0,\n          class: \"vue-flow__edge-textbg\",\n          width: `${box.value.width + 2 * _ctx.labelBgPadding[0]}px`,\n          height: `${box.value.height + 2 * _ctx.labelBgPadding[1]}px`,\n          x: -_ctx.labelBgPadding[0],\n          y: -_ctx.labelBgPadding[1],\n          style: normalizeStyle(_ctx.labelBgStyle),\n          rx: _ctx.labelBgBorderRadius,\n          ry: _ctx.labelBgBorderRadius\n        }, null, 12, _hoisted_2$2)) : createCommentVNode(\"\", true),\n        createElementVNode(\"text\", mergeProps(_ctx.$attrs, {\n          ref_key: \"el\",\n          ref: el,\n          class: \"vue-flow__edge-text\",\n          y: box.value.height / 2,\n          dy: \"0.3em\",\n          style: _ctx.labelStyle\n        }), [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            typeof _ctx.label !== \"string\" ? (openBlock(), createBlock(resolveDynamicComponent(_ctx.label), { key: 0 })) : (openBlock(), createElementBlock(Fragment, { key: 1 }, [\n              createTextVNode(toDisplayString(_ctx.label), 1)\n            ], 64))\n          ])\n        ], 16, _hoisted_3$1)\n      ], 8, _hoisted_1$8);\n    };\n  }\n});\nconst _hoisted_1$7 = [\"id\", \"d\", \"marker-end\", \"marker-start\"];\nconst _hoisted_2$1 = [\"d\", \"stroke-width\"];\nconst __default__$d = {\n  name: \"BaseEdge\",\n  inheritAttrs: false,\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$d = /* @__PURE__ */ defineComponent({\n  ...__default__$d,\n  props: {\n    id: {},\n    labelX: {},\n    labelY: {},\n    path: {},\n    label: {},\n    markerStart: {},\n    markerEnd: {},\n    interactionWidth: { default: 20 },\n    style: {},\n    labelStyle: {},\n    labelShowBg: { type: Boolean, default: true },\n    labelBgStyle: {},\n    labelBgPadding: {},\n    labelBgBorderRadius: {}\n  },\n  setup(__props, { expose: __expose }) {\n    const props = createPropsRestProxy(__props, [\"interactionWidth\", \"labelShowBg\"]);\n    const pathEl = ref(null);\n    const interactionEl = ref(null);\n    const labelEl = ref(null);\n    const attrs = useAttrs();\n    __expose({\n      pathEl,\n      interactionEl,\n      labelEl\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"path\", {\n          id: _ctx.id,\n          ref_key: \"pathEl\",\n          ref: pathEl,\n          d: _ctx.path,\n          style: normalizeStyle(props.style),\n          class: normalizeClass([\"vue-flow__edge-path\", unref(attrs).class]),\n          \"marker-end\": _ctx.markerEnd,\n          \"marker-start\": _ctx.markerStart\n        }, null, 14, _hoisted_1$7),\n        _ctx.interactionWidth ? (openBlock(), createElementBlock(\"path\", {\n          key: 0,\n          ref_key: \"interactionEl\",\n          ref: interactionEl,\n          fill: \"none\",\n          d: _ctx.path,\n          \"stroke-width\": _ctx.interactionWidth,\n          \"stroke-opacity\": 0,\n          class: \"vue-flow__edge-interaction\"\n        }, null, 8, _hoisted_2$1)) : createCommentVNode(\"\", true),\n        _ctx.label && _ctx.labelX && _ctx.labelY ? (openBlock(), createBlock(_sfc_main$e, {\n          key: 1,\n          ref_key: \"labelEl\",\n          ref: labelEl,\n          x: _ctx.labelX,\n          y: _ctx.labelY,\n          label: _ctx.label,\n          \"label-show-bg\": _ctx.labelShowBg,\n          \"label-bg-style\": _ctx.labelBgStyle,\n          \"label-bg-padding\": _ctx.labelBgPadding,\n          \"label-bg-border-radius\": _ctx.labelBgBorderRadius,\n          \"label-style\": _ctx.labelStyle\n        }, null, 8, [\"x\", \"y\", \"label\", \"label-show-bg\", \"label-bg-style\", \"label-bg-padding\", \"label-bg-border-radius\", \"label-style\"])) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction getSimpleEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const xOffset = Math.abs(targetX - sourceX) / 2;\n  const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n  const yOffset = Math.abs(targetY - sourceY) / 2;\n  const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n  return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY,\n  sourceControlX,\n  sourceControlY,\n  targetControlX,\n  targetControlY\n}) {\n  const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n  const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n  const offsetX = Math.abs(centerX - sourceX);\n  const offsetY = Math.abs(centerY - sourceY);\n  return [centerX, centerY, offsetX, offsetY];\n}\nfunction calculateControlOffset(distance2, curvature) {\n  if (distance2 >= 0) {\n    return 0.5 * distance2;\n  } else {\n    return curvature * 25 * Math.sqrt(-distance2);\n  }\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n      ctX = x1 - calculateControlOffset(x1 - x2, c);\n      ctY = y1;\n      break;\n    case Position.Right:\n      ctX = x1 + calculateControlOffset(x2 - x1, c);\n      ctY = y1;\n      break;\n    case Position.Top:\n      ctX = x1;\n      ctY = y1 - calculateControlOffset(y1 - y2, c);\n      break;\n    case Position.Bottom:\n      ctX = x1;\n      ctY = y1 + calculateControlOffset(y2 - y1, c);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getBezierPath({\n  sourceX,\n  sourceY,\n  sourcePosition = Position.Bottom,\n  targetX,\n  targetY,\n  targetPosition = Position.Top,\n  curvature = 0.25\n}) {\n  const [sourceControlX, sourceControlY] = getControlWithCurvature({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY,\n    c: curvature\n  });\n  const [targetControlX, targetControlY] = getControlWithCurvature({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY,\n    c: curvature\n  });\n  const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    labelX,\n    labelY,\n    offsetX,\n    offsetY\n  ];\n}\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n  let ctX, ctY;\n  switch (pos) {\n    case Position.Left:\n    case Position.Right:\n      ctX = 0.5 * (x1 + x2);\n      ctY = y1;\n      break;\n    case Position.Top:\n    case Position.Bottom:\n      ctX = x1;\n      ctY = 0.5 * (y1 + y2);\n      break;\n  }\n  return [ctX, ctY];\n}\nfunction getSimpleBezierPath({\n  sourceX,\n  sourceY,\n  sourcePosition = Position.Bottom,\n  targetX,\n  targetY,\n  targetPosition = Position.Top\n}) {\n  const [sourceControlX, sourceControlY] = getControl({\n    pos: sourcePosition,\n    x1: sourceX,\n    y1: sourceY,\n    x2: targetX,\n    y2: targetY\n  });\n  const [targetControlX, targetControlY] = getControl({\n    pos: targetPosition,\n    x1: targetX,\n    y1: targetY,\n    x2: sourceX,\n    y2: sourceY\n  });\n  const [centerX, centerY, offsetX, offsetY] = getBezierEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY,\n    sourceControlX,\n    sourceControlY,\n    targetControlX,\n    targetControlY\n  });\n  return [\n    `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n    centerX,\n    centerY,\n    offsetX,\n    offsetY\n  ];\n}\nconst handleDirections = {\n  [Position.Left]: { x: -1, y: 0 },\n  [Position.Right]: { x: 1, y: 0 },\n  [Position.Top]: { x: 0, y: -1 },\n  [Position.Bottom]: { x: 0, y: 1 }\n};\nfunction getDirection({\n  source,\n  sourcePosition = Position.Bottom,\n  target\n}) {\n  if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n    return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n  }\n  return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n}\nfunction distance(a, b) {\n  return Math.sqrt((b.x - a.x) ** 2 + (b.y - a.y) ** 2);\n}\nfunction getPoints({\n  source,\n  sourcePosition = Position.Bottom,\n  target,\n  targetPosition = Position.Top,\n  center,\n  offset\n}) {\n  const sourceDir = handleDirections[sourcePosition];\n  const targetDir = handleDirections[targetPosition];\n  const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n  const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n  const dir = getDirection({\n    source: sourceGapped,\n    sourcePosition,\n    target: targetGapped\n  });\n  const dirAccessor = dir.x !== 0 ? \"x\" : \"y\";\n  const currDir = dir[dirAccessor];\n  let points;\n  let centerX, centerY;\n  const sourceGapOffset = { x: 0, y: 0 };\n  const targetGapOffset = { x: 0, y: 0 };\n  const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getSimpleEdgeCenter({\n    sourceX: source.x,\n    sourceY: source.y,\n    targetX: target.x,\n    targetY: target.y\n  });\n  if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n    centerX = center.x ?? defaultCenterX;\n    centerY = center.y ?? defaultCenterY;\n    const verticalSplit = [\n      { x: centerX, y: sourceGapped.y },\n      { x: centerX, y: targetGapped.y }\n    ];\n    const horizontalSplit = [\n      { x: sourceGapped.x, y: centerY },\n      { x: targetGapped.x, y: centerY }\n    ];\n    if (sourceDir[dirAccessor] === currDir) {\n      points = dirAccessor === \"x\" ? verticalSplit : horizontalSplit;\n    } else {\n      points = dirAccessor === \"x\" ? horizontalSplit : verticalSplit;\n    }\n  } else {\n    const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n    const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n    if (dirAccessor === \"x\") {\n      points = sourceDir.x === currDir ? targetSource : sourceTarget;\n    } else {\n      points = sourceDir.y === currDir ? sourceTarget : targetSource;\n    }\n    if (sourcePosition === targetPosition) {\n      const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n      if (diff <= offset) {\n        const gapOffset = Math.min(offset - 1, offset - diff);\n        if (sourceDir[dirAccessor] === currDir) {\n          sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n        } else {\n          targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n        }\n      }\n    }\n    if (sourcePosition !== targetPosition) {\n      const dirAccessorOpposite = dirAccessor === \"x\" ? \"y\" : \"x\";\n      const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n      const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n      const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n      const flipSourceTarget = sourceDir[dirAccessor] === 1 && (!isSameDir && sourceGtTargetOppo || isSameDir && sourceLtTargetOppo) || sourceDir[dirAccessor] !== 1 && (!isSameDir && sourceLtTargetOppo || isSameDir && sourceGtTargetOppo);\n      if (flipSourceTarget) {\n        points = dirAccessor === \"x\" ? sourceTarget : targetSource;\n      }\n    }\n    const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n    const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n    const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n    const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n    if (maxXDistance >= maxYDistance) {\n      centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n      centerY = points[0].y;\n    } else {\n      centerX = points[0].x;\n      centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n    }\n  }\n  const pathPoints = [\n    source,\n    { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n    ...points,\n    { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n    target\n  ];\n  return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n  const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n  const { x, y } = b;\n  if (a.x === x && x === c.x || a.y === y && y === c.y) {\n    return `L${x} ${y}`;\n  }\n  if (a.y === y) {\n    const xDir2 = a.x < c.x ? -1 : 1;\n    const yDir2 = a.y < c.y ? 1 : -1;\n    return `L ${x + bendSize * xDir2},${y}Q ${x},${y} ${x},${y + bendSize * yDir2}`;\n  }\n  const xDir = a.x < c.x ? 1 : -1;\n  const yDir = a.y < c.y ? -1 : 1;\n  return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({\n  sourceX,\n  sourceY,\n  sourcePosition = Position.Bottom,\n  targetX,\n  targetY,\n  targetPosition = Position.Top,\n  borderRadius = 5,\n  centerX,\n  centerY,\n  offset = 20\n}) {\n  const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n    source: { x: sourceX, y: sourceY },\n    sourcePosition,\n    target: { x: targetX, y: targetY },\n    targetPosition,\n    center: { x: centerX, y: centerY },\n    offset\n  });\n  const path = points.reduce((res, p, i) => {\n    let segment;\n    if (i > 0 && i < points.length - 1) {\n      segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n    } else {\n      segment = `${i === 0 ? \"M\" : \"L\"}${p.x} ${p.y}`;\n    }\n    res += segment;\n    return res;\n  }, \"\");\n  return [path, labelX, labelY, offsetX, offsetY];\n}\nfunction getStraightPath({\n  sourceX,\n  sourceY,\n  targetX,\n  targetY\n}) {\n  const [centerX, centerY, offsetX, offsetY] = getSimpleEdgeCenter({\n    sourceX,\n    sourceY,\n    targetX,\n    targetY\n  });\n  return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, centerX, centerY, offsetX, offsetY];\n}\nconst StraightEdge = defineComponent({\n  name: \"StraightEdge\",\n  props: [\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getStraightPath(props);\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst StraightEdge$1 = StraightEdge;\nconst SmoothStepEdge = defineComponent({\n  name: \"SmoothStepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"borderRadius\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\",\n    \"offset\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSmoothStepPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SmoothStepEdge$1 = SmoothStepEdge;\nconst StepEdge = defineComponent({\n  name: \"StepEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  setup(props, { attrs }) {\n    return () => h(SmoothStepEdge$1, { ...props, ...attrs, borderRadius: 0 });\n  }\n});\nconst StepEdge$1 = StepEdge;\nconst BezierEdge = defineComponent({\n  name: \"BezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"curvature\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst BezierEdge$1 = BezierEdge;\nconst SimpleBezierEdge = defineComponent({\n  name: \"SimpleBezierEdge\",\n  props: [\n    \"sourcePosition\",\n    \"targetPosition\",\n    \"label\",\n    \"labelStyle\",\n    \"labelShowBg\",\n    \"labelBgStyle\",\n    \"labelBgPadding\",\n    \"labelBgBorderRadius\",\n    \"sourceY\",\n    \"sourceX\",\n    \"targetX\",\n    \"targetY\",\n    \"markerEnd\",\n    \"markerStart\",\n    \"interactionWidth\"\n  ],\n  compatConfig: { MODE: 3 },\n  setup(props, { attrs }) {\n    return () => {\n      const [path, labelX, labelY] = getSimpleBezierPath({\n        ...props,\n        sourcePosition: props.sourcePosition ?? Position.Bottom,\n        targetPosition: props.targetPosition ?? Position.Top\n      });\n      return h(_sfc_main$d, {\n        path,\n        labelX,\n        labelY,\n        ...attrs,\n        ...props\n      });\n    };\n  }\n});\nconst SimpleBezierEdge$1 = SimpleBezierEdge;\nconst defaultNodeTypes = {\n  input: InputNode$1,\n  default: DefaultNode$1,\n  output: OutputNode$1\n};\nconst defaultEdgeTypes = {\n  default: BezierEdge$1,\n  straight: StraightEdge$1,\n  step: StepEdge$1,\n  smoothstep: SmoothStepEdge$1,\n  simplebezier: SimpleBezierEdge$1\n};\nfunction useGetters(state, nodeIds, edgeIds) {\n  const getNode = computed(() => (id2) => {\n    if (state.nodes && !nodeIds.value.length) {\n      return state.nodes.find((node) => node.id === id2);\n    }\n    return state.nodes[nodeIds.value.indexOf(id2)];\n  });\n  const getEdge = computed(() => (id2) => {\n    if (state.edges && !edgeIds.value.length) {\n      return state.edges.find((edge) => edge.id === id2);\n    }\n    return state.edges[edgeIds.value.indexOf(id2)];\n  });\n  const getEdgeTypes = computed(() => {\n    const edgeTypes = {\n      ...defaultEdgeTypes,\n      ...state.edgeTypes\n    };\n    const keys = Object.keys(edgeTypes);\n    for (const e of state.edges) {\n      e.type && !keys.includes(e.type) && (edgeTypes[e.type] = e.type);\n    }\n    return edgeTypes;\n  });\n  const getNodeTypes = computed(() => {\n    const nodeTypes = {\n      ...defaultNodeTypes,\n      ...state.nodeTypes\n    };\n    const keys = Object.keys(nodeTypes);\n    for (const n of state.nodes) {\n      n.type && !keys.includes(n.type) && (nodeTypes[n.type] = n.type);\n    }\n    return nodeTypes;\n  });\n  const getNodes = computed(() => {\n    const nodes = state.nodes.filter((n) => !n.hidden);\n    return state.onlyRenderVisibleElements ? nodes && getNodesInside(\n      nodes,\n      {\n        x: 0,\n        y: 0,\n        width: state.dimensions.width,\n        height: state.dimensions.height\n      },\n      state.viewport,\n      true\n    ) : nodes ?? [];\n  });\n  const edgeHidden = (e, source, target) => {\n    source = source ?? getNode.value(e.source);\n    target = target ?? getNode.value(e.target);\n    if (!source || !target) {\n      state.hooks.error.trigger(new VueFlowError(ErrorCode.EDGE_ORPHANED, e.id));\n      return;\n    }\n    return !e.hidden && !target.hidden && !source.hidden;\n  };\n  const getEdges = computed(() => {\n    if (!state.onlyRenderVisibleElements) {\n      return state.edges.filter((edge) => edgeHidden(edge));\n    }\n    return state.edges.filter((e) => {\n      const source = getNode.value(e.source);\n      const target = getNode.value(e.target);\n      return edgeHidden(e, source, target) && isEdgeVisible({\n        sourcePos: source.computedPosition || { x: 0, y: 0 },\n        targetPos: target.computedPosition || { x: 0, y: 0 },\n        sourceWidth: source.dimensions.width,\n        sourceHeight: source.dimensions.height,\n        targetWidth: target.dimensions.width,\n        targetHeight: target.dimensions.height,\n        width: state.dimensions.width,\n        height: state.dimensions.height,\n        viewport: state.viewport\n      });\n    });\n  });\n  const getElements = computed(() => [...getNodes.value, ...getEdges.value]);\n  const getSelectedNodes = computed(() => state.nodes.filter((n) => n.selected));\n  const getSelectedEdges = computed(() => state.edges.filter((e) => e.selected));\n  const getSelectedElements = computed(() => [\n    ...getSelectedNodes.value ?? [],\n    ...getSelectedEdges.value ?? []\n  ]);\n  const getNodesInitialized = computed(\n    () => getNodes.value.filter((n) => n.initialized && n.handleBounds !== void 0)\n  );\n  const areNodesInitialized = computed(\n    () => getNodes.value.length > 0 && getNodesInitialized.value.length === getNodes.value.length\n  );\n  return {\n    getNode,\n    getEdge,\n    getElements,\n    getEdgeTypes,\n    getNodeTypes,\n    getEdges,\n    getNodes,\n    getSelectedElements,\n    getSelectedNodes,\n    getSelectedEdges,\n    getNodesInitialized,\n    areNodesInitialized\n  };\n}\nclass Storage {\n  constructor() {\n    this.currentId = 0;\n    this.flows = /* @__PURE__ */ new Map();\n  }\n  static getInstance() {\n    var _a;\n    const vueApp = (_a = getCurrentInstance()) == null ? void 0 : _a.appContext.app;\n    const existingInstance = (vueApp == null ? void 0 : vueApp.config.globalProperties.$vueFlowStorage) ?? Storage.instance;\n    Storage.instance = existingInstance ?? new Storage();\n    if (vueApp) {\n      vueApp.config.globalProperties.$vueFlowStorage = Storage.instance;\n    }\n    return Storage.instance;\n  }\n  set(id2, flow) {\n    return this.flows.set(id2, flow);\n  }\n  get(id2) {\n    return this.flows.get(id2);\n  }\n  remove(id2) {\n    return this.flows.delete(id2);\n  }\n  create(id2, preloadedState) {\n    const state = useState();\n    const reactiveState = reactive(state);\n    const hooksOn = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      const name = `on${n.charAt(0).toUpperCase() + n.slice(1)}`;\n      hooksOn[name] = h2.on;\n    }\n    const emits = {};\n    for (const [n, h2] of Object.entries(reactiveState.hooks)) {\n      emits[n] = h2.trigger;\n    }\n    const nodeIds = computed(() => reactiveState.nodes.map((n) => n.id));\n    const edgeIds = computed(() => reactiveState.edges.map((e) => e.id));\n    const getters = useGetters(reactiveState, nodeIds, edgeIds);\n    const actions = useActions(id2, reactiveState, nodeIds, edgeIds);\n    actions.setState({ ...reactiveState, ...preloadedState });\n    const flow = {\n      ...hooksOn,\n      ...getters,\n      ...actions,\n      ...toRefs(reactiveState),\n      emits,\n      id: id2,\n      vueFlowVersion: \"1.33.6\",\n      $destroy: () => {\n        this.remove(id2);\n      }\n    };\n    this.set(id2, flow);\n    return flow;\n  }\n  getId() {\n    return `vue-flow-${this.currentId++}`;\n  }\n}\nfunction useVueFlow(options) {\n  const storage = Storage.getInstance();\n  const scope = getCurrentScope();\n  const id2 = options == null ? void 0 : options.id;\n  const vueFlowId = (scope == null ? void 0 : scope.vueFlowId) || id2;\n  let vueFlow;\n  if (scope) {\n    const injection = inject(VueFlow, null);\n    if (typeof injection !== \"undefined\" && injection !== null) {\n      vueFlow = injection;\n    }\n  }\n  if (!vueFlow) {\n    if (vueFlowId) {\n      vueFlow = storage.get(vueFlowId);\n    }\n  }\n  if (!vueFlow || vueFlow && id2 && id2 !== vueFlow.id) {\n    const name = id2 ?? storage.getId();\n    const state = storage.create(name, options);\n    vueFlow = state;\n    const vfScope = scope ?? effectScope(true);\n    vfScope.run(() => {\n      watch(\n        state.applyDefault,\n        (shouldApplyDefault, __, onCleanup) => {\n          const nodesChangeHandler = (changes) => {\n            state.applyNodeChanges(changes);\n          };\n          const edgesChangeHandler = (changes) => {\n            state.applyEdgeChanges(changes);\n          };\n          if (shouldApplyDefault) {\n            state.onNodesChange(nodesChangeHandler);\n            state.onEdgesChange(edgesChangeHandler);\n          } else {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          }\n          onCleanup(() => {\n            state.hooks.value.nodesChange.off(nodesChangeHandler);\n            state.hooks.value.edgesChange.off(edgesChangeHandler);\n          });\n        },\n        { immediate: true }\n      );\n      tryOnScopeDispose(() => {\n        if (vueFlow) {\n          const storedInstance = storage.get(vueFlow.id);\n          if (storedInstance) {\n            storedInstance.$destroy();\n          } else {\n            warn(`No store instance found for id ${vueFlow.id} in storage.`);\n          }\n        }\n      });\n    });\n  } else {\n    if (options) {\n      vueFlow.setState(options);\n    }\n  }\n  if (scope) {\n    provide(VueFlow, vueFlow);\n    scope.vueFlowId = vueFlow.id;\n  }\n  return vueFlow;\n}\nfunction useResizeHandler(viewportEl) {\n  const window2 = useWindow();\n  const { emits, dimensions } = useVueFlow();\n  let resizeObserver;\n  onMounted(() => {\n    const rendererNode = viewportEl.value;\n    const updateDimensions = () => {\n      if (!rendererNode) {\n        return;\n      }\n      const size = getDimensions(rendererNode);\n      if (size.width === 0 || size.height === 0) {\n        emits.error(new VueFlowError(ErrorCode.MISSING_VIEWPORT_DIMENSIONS));\n      }\n      dimensions.value = { width: size.width || 500, height: size.height || 500 };\n    };\n    updateDimensions();\n    window2.addEventListener(\"resize\", updateDimensions);\n    if (rendererNode) {\n      resizeObserver = new ResizeObserver(() => updateDimensions());\n      resizeObserver.observe(rendererNode);\n    }\n    onBeforeUnmount(() => {\n      window2.removeEventListener(\"resize\", updateDimensions);\n      if (resizeObserver && rendererNode) {\n        resizeObserver.unobserve(rendererNode);\n      }\n    });\n  });\n}\nconst __default__$c = {\n  name: \"UserSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$c = /* @__PURE__ */ defineComponent({\n  ...__default__$c,\n  props: {\n    userSelectionRect: {}\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__selection vue-flow__container\",\n        style: normalizeStyle({\n          width: `${_ctx.userSelectionRect.width}px`,\n          height: `${_ctx.userSelectionRect.height}px`,\n          transform: `translate(${_ctx.userSelectionRect.x}px, ${_ctx.userSelectionRect.y}px)`\n        })\n      }, null, 4);\n    };\n  }\n});\nconst _hoisted_1$6 = [\"tabIndex\"];\nconst __default__$b = {\n  name: \"NodesSelection\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$b = /* @__PURE__ */ defineComponent({\n  ...__default__$b,\n  setup(__props) {\n    const { emits, viewport, getSelectedNodes, noPanClassName, disableKeyboardA11y, userSelectionActive } = useVueFlow();\n    const updatePositions = useUpdateNodePositions();\n    const el = ref(null);\n    const dragging = useDrag({\n      el,\n      onStart(args) {\n        emits.selectionDragStart(args);\n      },\n      onDrag(args) {\n        emits.selectionDrag(args);\n      },\n      onStop(args) {\n        emits.selectionDragStop(args);\n      }\n    });\n    onMounted(() => {\n      var _a;\n      if (!disableKeyboardA11y.value) {\n        (_a = el.value) == null ? void 0 : _a.focus({ preventScroll: true });\n      }\n    });\n    const selectedNodesBBox = computed(() => getRectOfNodes(getSelectedNodes.value));\n    const innerStyle = computed(() => ({\n      width: `${selectedNodesBBox.value.width}px`,\n      height: `${selectedNodesBBox.value.height}px`,\n      top: `${selectedNodesBBox.value.y}px`,\n      left: `${selectedNodesBBox.value.x}px`\n    }));\n    function onContextMenu(event) {\n      emits.selectionContextMenu({ event, nodes: getSelectedNodes.value });\n    }\n    function onKeyDown(event) {\n      if (disableKeyboardA11y) {\n        return;\n      }\n      if (arrowKeyDiffs[event.key]) {\n        updatePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n    return (_ctx, _cache) => {\n      return !unref(userSelectionActive) && selectedNodesBBox.value.width && selectedNodesBBox.value.height ? (openBlock(), createElementBlock(\"div\", {\n        key: 0,\n        class: normalizeClass([\"vue-flow__nodesselection vue-flow__container\", unref(noPanClassName)]),\n        style: normalizeStyle({ transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})` })\n      }, [\n        createElementVNode(\"div\", {\n          ref_key: \"el\",\n          ref: el,\n          class: normalizeClass([{ dragging: unref(dragging) }, \"vue-flow__nodesselection-rect\"]),\n          style: normalizeStyle(innerStyle.value),\n          tabIndex: unref(disableKeyboardA11y) ? void 0 : -1,\n          onContextmenu: onContextMenu,\n          onKeydown: onKeyDown\n        }, null, 46, _hoisted_1$6)\n      ], 6)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nfunction getMousePosition(event, containerBounds) {\n  return {\n    x: event.clientX - containerBounds.left,\n    y: event.clientY - containerBounds.top\n  };\n}\nconst __default__$a = {\n  name: \"Pane\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$a = /* @__PURE__ */ defineComponent({\n  ...__default__$a,\n  props: {\n    isSelecting: { type: Boolean }\n  },\n  setup(__props) {\n    const {\n      vueFlowRef,\n      getNodes,\n      getEdges,\n      viewport,\n      emits,\n      userSelectionActive,\n      removeSelectedElements,\n      panOnDrag,\n      userSelectionRect,\n      elementsSelectable,\n      nodesSelectionActive,\n      addSelectedElements,\n      getSelectedEdges,\n      getSelectedNodes,\n      removeNodes,\n      removeEdges,\n      selectionMode,\n      deleteKeyCode,\n      multiSelectionKeyCode,\n      multiSelectionActive\n    } = useVueFlow();\n    const container = ref(null);\n    const prevSelectedNodesCount = ref(0);\n    const prevSelectedEdgesCount = ref(0);\n    const containerBounds = ref();\n    const hasActiveSelection = toRef(() => elementsSelectable.value && (__props.isSelecting || userSelectionActive.value));\n    useKeyPress(\n      deleteKeyCode,\n      (keyPressed) => {\n        if (!keyPressed) {\n          return;\n        }\n        const nodesToRemove = getNodes.value.reduce((res, node) => {\n          if (!node.selected && node.parentNode && res.find((n) => n.id === node.parentNode)) {\n            res.push(node);\n          } else if (node.selected) {\n            res.push(node);\n          }\n          return res;\n        }, []);\n        if (nodesToRemove || getSelectedEdges.value) {\n          if (getSelectedEdges.value.length > 0) {\n            removeEdges(getSelectedEdges.value);\n          }\n          if (nodesToRemove.length > 0) {\n            removeNodes(nodesToRemove);\n          }\n          nodesSelectionActive.value = false;\n          removeSelectedElements();\n        }\n      },\n      { actInsideInputWithModifier: false }\n    );\n    useKeyPress(multiSelectionKeyCode, (keyPressed) => {\n      multiSelectionActive.value = keyPressed;\n    });\n    function resetUserSelection() {\n      userSelectionActive.value = false;\n      userSelectionRect.value = null;\n      prevSelectedNodesCount.value = 0;\n      prevSelectedEdgesCount.value = 0;\n    }\n    function onClick(event) {\n      if (event.target !== container.value || hasActiveSelection.value) {\n        return;\n      }\n      emits.paneClick(event);\n      removeSelectedElements();\n      nodesSelectionActive.value = false;\n    }\n    function onContextMenu(event) {\n      var _a;\n      if (event.target !== container.value) {\n        return;\n      }\n      if (Array.isArray(panOnDrag.value) && ((_a = panOnDrag.value) == null ? void 0 : _a.includes(2))) {\n        event.preventDefault();\n        return;\n      }\n      emits.paneContextMenu(event);\n    }\n    function onWheel(event) {\n      if (event.target !== container.value) {\n        return;\n      }\n      emits.paneScroll(event);\n    }\n    function onMouseDown(event) {\n      containerBounds.value = vueFlowRef.value.getBoundingClientRect();\n      if (!hasActiveSelection.value || !elementsSelectable || !__props.isSelecting || event.button !== 0 || event.target !== container.value || !containerBounds.value) {\n        return;\n      }\n      const { x, y } = getMousePosition(event, containerBounds.value);\n      removeSelectedElements();\n      userSelectionRect.value = {\n        width: 0,\n        height: 0,\n        startX: x,\n        startY: y,\n        x,\n        y\n      };\n      userSelectionActive.value = true;\n      emits.selectionStart(event);\n    }\n    function onMouseMove(event) {\n      if (!hasActiveSelection.value) {\n        return emits.paneMouseMove(event);\n      }\n      if (!__props.isSelecting || !containerBounds.value || !userSelectionRect.value) {\n        return;\n      }\n      if (!userSelectionActive.value) {\n        userSelectionActive.value = true;\n      }\n      if (nodesSelectionActive.value) {\n        nodesSelectionActive.value = false;\n      }\n      const mousePos = getMousePosition(event, containerBounds.value);\n      const startX = userSelectionRect.value.startX ?? 0;\n      const startY = userSelectionRect.value.startY ?? 0;\n      const nextUserSelectRect = {\n        ...userSelectionRect.value,\n        x: mousePos.x < startX ? mousePos.x : startX,\n        y: mousePos.y < startY ? mousePos.y : startY,\n        width: Math.abs(mousePos.x - startX),\n        height: Math.abs(mousePos.y - startY)\n      };\n      const selectedNodes = getNodesInside(\n        getNodes.value,\n        userSelectionRect.value,\n        viewport.value,\n        selectionMode.value === SelectionMode.Partial\n      );\n      const selectedEdges = getConnectedEdges(selectedNodes, getEdges.value);\n      prevSelectedNodesCount.value = selectedNodes.length;\n      prevSelectedEdgesCount.value = selectedEdges.length;\n      userSelectionRect.value = nextUserSelectRect;\n      addSelectedElements([...selectedNodes, ...selectedEdges]);\n    }\n    function onMouseUp(event) {\n      if (!hasActiveSelection.value) {\n        return;\n      }\n      if (event.button !== 0) {\n        return;\n      }\n      if (!userSelectionActive.value && userSelectionRect.value && event.target === container.value) {\n        onClick(event);\n      }\n      nodesSelectionActive.value = prevSelectedNodesCount.value > 0;\n      resetUserSelection();\n      emits.selectionEnd(event);\n    }\n    function onMouseLeave(event) {\n      var _a;\n      if (!hasActiveSelection.value) {\n        return emits.paneMouseLeave(event);\n      }\n      if (userSelectionActive.value) {\n        nodesSelectionActive.value = prevSelectedNodesCount.value > 0;\n        (_a = emits.selectionEnd) == null ? void 0 : _a.call(emits, event);\n      }\n      resetUserSelection();\n    }\n    function onMouseEnter(event) {\n      if (hasActiveSelection.value) {\n        return;\n      }\n      emits.paneMouseEnter(event);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"container\",\n        ref: container,\n        class: normalizeClass([\"vue-flow__pane vue-flow__container\", { selection: _ctx.isSelecting }]),\n        onClick,\n        onContextmenu: onContextMenu,\n        onWheelPassive: onWheel,\n        onMouseenter: onMouseEnter,\n        onMousedown: onMouseDown,\n        onMousemove: onMouseMove,\n        onMouseup: onMouseUp,\n        onMouseleave: onMouseLeave\n      }, [\n        renderSlot(_ctx.$slots, \"default\"),\n        unref(userSelectionActive) && unref(userSelectionRect) ? (openBlock(), createBlock(_sfc_main$c, {\n          key: 0,\n          \"user-selection-rect\": unref(userSelectionRect)\n        }, null, 8, [\"user-selection-rect\"])) : createCommentVNode(\"\", true),\n        unref(nodesSelectionActive) && unref(getSelectedNodes).length ? (openBlock(), createBlock(_sfc_main$b, { key: 1 })) : createCommentVNode(\"\", true)\n      ], 34);\n    };\n  }\n});\nconst __default__$9 = {\n  name: \"Transform\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$9 = /* @__PURE__ */ defineComponent({\n  ...__default__$9,\n  setup(__props) {\n    const { viewport } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: \"vue-flow__transformationpane vue-flow__container\",\n        style: normalizeStyle({ transform: `translate(${unref(viewport).x}px,${unref(viewport).y}px) scale(${unref(viewport).zoom})` })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 4);\n    };\n  }\n});\nconst __default__$8 = {\n  name: \"Viewport\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$8 = /* @__PURE__ */ defineComponent({\n  ...__default__$8,\n  setup(__props) {\n    const {\n      minZoom,\n      maxZoom,\n      defaultViewport,\n      translateExtent,\n      zoomActivationKeyCode,\n      selectionKeyCode,\n      panActivationKeyCode,\n      panOnScroll,\n      panOnScrollMode,\n      panOnScrollSpeed,\n      panOnDrag,\n      zoomOnDoubleClick,\n      zoomOnPinch,\n      zoomOnScroll,\n      preventScrolling,\n      noWheelClassName,\n      noPanClassName,\n      emits,\n      connectionStartHandle,\n      userSelectionActive,\n      paneDragging,\n      d3Zoom: storeD3Zoom,\n      d3Selection: storeD3Selection,\n      d3ZoomHandler: storeD3ZoomHandler,\n      viewport,\n      viewportRef\n    } = useVueFlow();\n    useResizeHandler(viewportRef);\n    const isZoomingOrPanning = ref(false);\n    const isPanScrolling = ref(false);\n    let panScrollTimeout = null;\n    let zoomedWithRightMouseButton = false;\n    let mouseButton = 0;\n    let prevTransform = {\n      x: 0,\n      y: 0,\n      zoom: 0\n    };\n    const panKeyPressed = useKeyPress(panActivationKeyCode);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const zoomKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const shouldPanOnDrag = toRef(() => panKeyPressed.value || panOnDrag.value);\n    const shouldPanOnScroll = toRef(() => panKeyPressed.value || panOnScroll.value);\n    const isSelecting = toRef(() => selectionKeyPressed.value || selectionKeyCode.value === true && shouldPanOnDrag.value !== true);\n    onMounted(() => {\n      if (!viewportRef.value) {\n        warn(\"Viewport element is missing\");\n        return;\n      }\n      const viewportElement = viewportRef.value;\n      const bbox = viewportElement.getBoundingClientRect();\n      const d3Zoom = zoom().scaleExtent([minZoom.value, maxZoom.value]).translateExtent(translateExtent.value);\n      const d3Selection = select(viewportElement).call(d3Zoom);\n      const d3ZoomHandler = d3Selection.on(\"wheel.zoom\");\n      const updatedTransform = identity.translate(defaultViewport.value.x ?? 0, defaultViewport.value.y ?? 0).scale(clamp(defaultViewport.value.zoom ?? 1, minZoom.value, maxZoom.value));\n      const extent = [\n        [0, 0],\n        [bbox.width, bbox.height]\n      ];\n      const constrainedTransform = d3Zoom.constrain()(updatedTransform, extent, translateExtent.value);\n      d3Zoom.transform(d3Selection, constrainedTransform);\n      d3Zoom.wheelDelta(wheelDelta);\n      storeD3Zoom.value = d3Zoom;\n      storeD3Selection.value = d3Selection;\n      storeD3ZoomHandler.value = d3ZoomHandler;\n      viewport.value = { x: constrainedTransform.x, y: constrainedTransform.y, zoom: constrainedTransform.k };\n      d3Zoom.on(\"start\", (event) => {\n        var _a;\n        if (!event.sourceEvent) {\n          return null;\n        }\n        mouseButton = event.sourceEvent.button;\n        isZoomingOrPanning.value = true;\n        const flowTransform = eventToFlowTransform(event.transform);\n        if (((_a = event.sourceEvent) == null ? void 0 : _a.type) === \"mousedown\") {\n          paneDragging.value = true;\n        }\n        prevTransform = flowTransform;\n        emits.viewportChangeStart(flowTransform);\n        emits.moveStart({ event, flowTransform });\n      });\n      d3Zoom.on(\"end\", (event) => {\n        if (!event.sourceEvent) {\n          return null;\n        }\n        isZoomingOrPanning.value = false;\n        paneDragging.value = false;\n        if (isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0) && !zoomedWithRightMouseButton) {\n          emits.paneContextMenu(event.sourceEvent);\n        }\n        zoomedWithRightMouseButton = false;\n        if (viewChanged(prevTransform, event.transform)) {\n          const flowTransform = eventToFlowTransform(event.transform);\n          prevTransform = flowTransform;\n          emits.viewportChangeEnd(flowTransform);\n          emits.moveEnd({ event, flowTransform });\n        }\n      });\n      d3Zoom.filter((event) => {\n        var _a, _b;\n        const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n        const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n        if ((shouldPanOnDrag.value === true || Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(1)) && event.button === 1 && event.type === \"mousedown\" && (((_a = event.target) == null ? void 0 : _a.closest(\".vue-flow__node\")) || ((_b = event.target) == null ? void 0 : _b.closest(\".vue-flow__edge\")))) {\n          return true;\n        }\n        if (!shouldPanOnDrag.value && !zoomScroll && !shouldPanOnScroll.value && !zoomOnDoubleClick.value && !zoomOnPinch.value) {\n          return false;\n        }\n        if (userSelectionActive.value) {\n          return false;\n        }\n        if (!zoomOnDoubleClick.value && event.type === \"dblclick\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noWheelClassName.value) && event.type === \"wheel\") {\n          return false;\n        }\n        if (isWrappedWithClass(event, noPanClassName.value) && (event.type !== \"wheel\" || shouldPanOnScroll.value && event.type === \"wheel\" && !zoomKeyPressed.value)) {\n          return false;\n        }\n        if (!zoomOnPinch.value && event.ctrlKey && event.type === \"wheel\") {\n          return false;\n        }\n        if (!zoomScroll && !shouldPanOnScroll.value && !pinchZoom && event.type === \"wheel\") {\n          return false;\n        }\n        if (!shouldPanOnDrag.value && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        if (Array.isArray(shouldPanOnDrag.value) && !shouldPanOnDrag.value.includes(event.button) && (event.type === \"mousedown\" || event.type === \"touchstart\")) {\n          return false;\n        }\n        const buttonAllowed = Array.isArray(shouldPanOnDrag.value) && shouldPanOnDrag.value.includes(event.button) || !event.button || event.button <= 1;\n        return (!event.ctrlKey || event.type === \"wheel\") && buttonAllowed;\n      });\n      watch(\n        [userSelectionActive, shouldPanOnDrag],\n        () => {\n          if (userSelectionActive.value && !isZoomingOrPanning.value) {\n            d3Zoom.on(\"zoom\", null);\n          } else if (!userSelectionActive.value) {\n            d3Zoom.on(\"zoom\", (event) => {\n              viewport.value = { x: event.transform.x, y: event.transform.y, zoom: event.transform.k };\n              const flowTransform = eventToFlowTransform(event.transform);\n              zoomedWithRightMouseButton = isRightClickPan(shouldPanOnDrag.value, mouseButton ?? 0);\n              emits.viewportChange(flowTransform);\n              emits.move({ event, flowTransform });\n            });\n          }\n        },\n        { immediate: true }\n      );\n      watch(\n        [userSelectionActive, shouldPanOnScroll, panOnScrollMode, zoomKeyPressed, zoomOnPinch, preventScrolling, noWheelClassName],\n        () => {\n          if (shouldPanOnScroll.value && !zoomKeyPressed.value && !userSelectionActive.value) {\n            d3Selection.on(\n              \"wheel.zoom\",\n              (event) => {\n                if (isWrappedWithClass(event, noWheelClassName.value)) {\n                  return false;\n                }\n                const zoomScroll = zoomKeyPressed.value || zoomOnScroll.value;\n                const pinchZoom = zoomOnPinch.value && event.ctrlKey;\n                const scrollEventEnabled = !preventScrolling.value || shouldPanOnScroll.value || zoomScroll || pinchZoom;\n                if (!scrollEventEnabled) {\n                  return false;\n                }\n                event.preventDefault();\n                event.stopImmediatePropagation();\n                const currentZoom = d3Selection.property(\"__zoom\").k || 1;\n                const _isMacOs = isMacOs();\n                if (event.ctrlKey && zoomOnPinch.value && _isMacOs) {\n                  const point = pointer(event);\n                  const pinchDelta = wheelDelta(event);\n                  const zoom2 = currentZoom * 2 ** pinchDelta;\n                  d3Zoom.scaleTo(d3Selection, zoom2, point, event);\n                  return;\n                }\n                const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                let deltaX = panOnScrollMode.value === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                let deltaY = panOnScrollMode.value === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                if (!_isMacOs && event.shiftKey && panOnScrollMode.value !== PanOnScrollMode.Vertical && !deltaX && deltaY) {\n                  deltaX = deltaY;\n                  deltaY = 0;\n                }\n                d3Zoom.translateBy(\n                  d3Selection,\n                  -(deltaX / currentZoom) * panOnScrollSpeed.value,\n                  -(deltaY / currentZoom) * panOnScrollSpeed.value\n                );\n                const nextViewport = eventToFlowTransform(d3Selection.property(\"__zoom\"));\n                if (panScrollTimeout) {\n                  clearTimeout(panScrollTimeout);\n                }\n                if (!isPanScrolling.value) {\n                  isPanScrolling.value = true;\n                  emits.moveStart({ event, flowTransform: nextViewport });\n                  emits.viewportChangeStart(nextViewport);\n                } else {\n                  emits.move({ event, flowTransform: nextViewport });\n                  emits.viewportChange(nextViewport);\n                  panScrollTimeout = setTimeout(() => {\n                    emits.moveEnd({ event, flowTransform: nextViewport });\n                    emits.viewportChangeEnd(nextViewport);\n                    isPanScrolling.value = false;\n                  }, 150);\n                }\n              },\n              { passive: false }\n            );\n          } else if (typeof d3ZoomHandler !== \"undefined\") {\n            d3Selection.on(\n              \"wheel.zoom\",\n              function(event, d) {\n                const invalidEvent = !preventScrolling.value && event.type === \"wheel\" && !event.ctrlKey;\n                if (invalidEvent || isWrappedWithClass(event, noWheelClassName.value)) {\n                  return null;\n                }\n                event.preventDefault();\n                d3ZoomHandler.call(this, event, d);\n              },\n              { passive: false }\n            );\n          }\n        },\n        { immediate: true }\n      );\n    });\n    function isRightClickPan(pan, usedButton) {\n      return usedButton === 2 && Array.isArray(pan) && pan.includes(2);\n    }\n    function wheelDelta(event) {\n      const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n      return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 2e-3) * factor;\n    }\n    function viewChanged(prevViewport, eventTransform) {\n      return prevViewport.x !== eventTransform.x && !Number.isNaN(eventTransform.x) || prevViewport.y !== eventTransform.y && !Number.isNaN(eventTransform.y) || prevViewport.zoom !== eventTransform.k && !Number.isNaN(eventTransform.k);\n    }\n    function eventToFlowTransform(eventTransform) {\n      return {\n        x: eventTransform.x,\n        y: eventTransform.y,\n        zoom: eventTransform.k\n      };\n    }\n    function isWrappedWithClass(event, className) {\n      return event.target.closest(`.${className}`);\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"viewportRef\",\n        ref: viewportRef,\n        class: \"vue-flow__viewport vue-flow__container\"\n      }, [\n        createVNode(_sfc_main$a, {\n          \"is-selecting\": isSelecting.value,\n          class: normalizeClass({ connecting: !!unref(connectionStartHandle), dragging: unref(paneDragging), draggable: shouldPanOnDrag.value })\n        }, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$9, null, {\n              default: withCtx(() => [\n                renderSlot(_ctx.$slots, \"default\")\n              ]),\n              _: 3\n            })\n          ]),\n          _: 3\n        }, 8, [\"is-selecting\", \"class\"])\n      ], 512);\n    };\n  }\n});\nconst _hoisted_1$5 = [\"id\"];\nconst _hoisted_2 = [\"id\"];\nconst _hoisted_3 = [\"id\"];\nconst __default__$7 = {\n  name: \"A11yDescriptions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$7 = /* @__PURE__ */ defineComponent({\n  ...__default__$7,\n  setup(__props) {\n    const { id: id2, disableKeyboardA11y, ariaLiveMessage } = useVueFlow();\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(Fragment, null, [\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_NODE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select a node. \" + toDisplayString(!unref(disableKeyboardA11y) ? \"You can then use the arrow keys to move the node around.\" : \"\") + \" You can then use the arrow keys to move the node around, press delete to remove it and press escape to cancel. \", 9, _hoisted_1$5),\n        createElementVNode(\"div\", {\n          id: `${unref(ARIA_EDGE_DESC_KEY)}-${unref(id2)}`,\n          style: { \"display\": \"none\" }\n        }, \" Press enter or space to select an edge. You can then press delete to remove it or press escape to cancel. \", 8, _hoisted_2),\n        !unref(disableKeyboardA11y) ? (openBlock(), createElementBlock(\"div\", {\n          key: 0,\n          id: `${unref(ARIA_LIVE_MESSAGE)}-${unref(id2)}`,\n          \"aria-live\": \"assertive\",\n          \"aria-atomic\": \"true\",\n          style: { \"position\": \"absolute\", \"width\": \"1px\", \"height\": \"1px\", \"margin\": \"-1px\", \"border\": \"0\", \"padding\": \"0\", \"overflow\": \"hidden\", \"clip\": \"rect(0px, 0px, 0px, 0px)\", \"clip-path\": \"inset(100%)\" }\n        }, toDisplayString(unref(ariaLiveMessage)), 9, _hoisted_3)) : createCommentVNode(\"\", true)\n      ], 64);\n    };\n  }\n});\nfunction useOnInitHandler() {\n  const vfInstance = useVueFlow();\n  watch(\n    () => vfInstance.viewportHelper.value.viewportInitialized,\n    (isInitialized) => {\n      if (isInitialized) {\n        setTimeout(() => {\n          vfInstance.emits.init(vfInstance);\n          vfInstance.emits.paneReady(vfInstance);\n        }, 1);\n      }\n    }\n  );\n}\nfunction shiftX(x, shift, position) {\n  if (position === Position.Left) {\n    return x - shift;\n  }\n  if (position === Position.Right) {\n    return x + shift;\n  }\n  return x;\n}\nfunction shiftY(y, shift, position) {\n  if (position === Position.Top) {\n    return y - shift;\n  }\n  if (position === Position.Bottom) {\n    return y + shift;\n  }\n  return y;\n}\nconst EdgeAnchor = function({\n  radius = 10,\n  centerX = 0,\n  centerY = 0,\n  position = Position.Top,\n  type\n}) {\n  return h(\"circle\", {\n    class: `vue-flow__edgeupdater vue-flow__edgeupdater-${type}`,\n    cx: shiftX(centerX, radius, position),\n    cy: shiftY(centerY, radius, position),\n    r: radius,\n    stroke: \"transparent\",\n    fill: \"transparent\"\n  });\n};\nEdgeAnchor.props = [\"radius\", \"centerX\", \"centerY\", \"position\", \"type\"];\nEdgeAnchor.compatConfig = { MODE: 3 };\nconst EdgeAnchor$1 = EdgeAnchor;\nconst EdgeWrapper = defineComponent({\n  name: \"Edge\",\n  compatConfig: { MODE: 3 },\n  props: [\"name\", \"type\", \"id\", \"updatable\", \"selectable\", \"focusable\", \"edge\"],\n  setup(props) {\n    const {\n      id: vueFlowId,\n      addSelectedEdges,\n      connectionMode,\n      edgeUpdaterRadius,\n      emits,\n      nodesSelectionActive,\n      noPanClassName,\n      getEdgeTypes,\n      removeSelectedEdges,\n      findEdge,\n      findNode,\n      isValidConnection,\n      multiSelectionActive,\n      disableKeyboardA11y\n    } = useVueFlow();\n    const hooks = useEdgeHooks(props.edge, emits);\n    const edge = useVModel(props, \"edge\");\n    const mouseOver = ref(false);\n    const updating = ref(false);\n    const nodeId = ref(\"\");\n    const handleId = ref(null);\n    const edgeUpdaterType = ref(\"source\");\n    const edgeEl = ref(null);\n    provide(EdgeId, props.id);\n    provide(EdgeRef, edgeEl);\n    const edgeClass = computed(() => edge.value.class instanceof Function ? edge.value.class(edge.value) : edge.value.class);\n    const edgeStyle = computed(() => edge.value.style instanceof Function ? edge.value.style(edge.value) : edge.value.style);\n    const { handlePointerDown } = useHandle({\n      nodeId,\n      handleId,\n      type: edgeUpdaterType,\n      isValidConnection,\n      edgeUpdaterType,\n      onEdgeUpdate,\n      onEdgeUpdateEnd\n    });\n    return () => {\n      const sourceNode = findNode(edge.value.source);\n      const targetNode = findNode(edge.value.target);\n      const pathOptions = \"pathOptions\" in edge.value ? edge.value.pathOptions : {};\n      if (!sourceNode && !targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_TARGET_MISSING, edge.value.id, edge.value.source, edge.value.target));\n        return null;\n      }\n      if (!sourceNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_SOURCE_MISSING, edge.value.id, edge.value.source));\n        return null;\n      }\n      if (!targetNode) {\n        emits.error(new VueFlowError(ErrorCode.EDGE_TARGET_MISSING, edge.value.id, edge.value.target));\n        return null;\n      }\n      if (!edge || sourceNode.hidden || targetNode.hidden) {\n        return null;\n      }\n      let sourceNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        sourceNodeHandles = sourceNode.handleBounds.source;\n      } else {\n        sourceNodeHandles = [...sourceNode.handleBounds.source || [], ...sourceNode.handleBounds.target || []];\n      }\n      const sourceHandle = getHandle(sourceNodeHandles, edge.value.sourceHandle);\n      let targetNodeHandles;\n      if (connectionMode.value === ConnectionMode.Strict) {\n        targetNodeHandles = targetNode.handleBounds.target;\n      } else {\n        targetNodeHandles = [...targetNode.handleBounds.target || [], ...targetNode.handleBounds.source || []];\n      }\n      const targetHandle = getHandle(targetNodeHandles, edge.value.targetHandle);\n      const sourcePosition = sourceHandle ? sourceHandle.position : Position.Bottom;\n      const targetPosition = targetHandle ? targetHandle.position : Position.Top;\n      const { sourceX, sourceY, targetY, targetX } = getEdgePositions(\n        sourceNode,\n        sourceHandle,\n        sourcePosition,\n        targetNode,\n        targetHandle,\n        targetPosition\n      );\n      edge.value.sourceX = sourceX;\n      edge.value.sourceY = sourceY;\n      edge.value.targetX = targetX;\n      edge.value.targetY = targetY;\n      return h(\n        \"g\",\n        {\n          \"ref\": edgeEl,\n          \"key\": props.id,\n          \"data-id\": props.id,\n          \"class\": [\n            \"vue-flow__edge\",\n            `vue-flow__edge-${props.type === false ? \"default\" : props.name}`,\n            noPanClassName.value,\n            edgeClass.value,\n            {\n              updating: mouseOver.value,\n              selected: edge.value.selected,\n              animated: edge.value.animated,\n              inactive: !props.selectable\n            }\n          ],\n          \"onClick\": onEdgeClick,\n          \"onContextmenu\": onEdgeContextMenu,\n          \"onDblclick\": onDoubleClick,\n          \"onMouseenter\": onEdgeMouseEnter,\n          \"onMousemove\": onEdgeMouseMove,\n          \"onMouseleave\": onEdgeMouseLeave,\n          \"onKeyDown\": props.focusable ? onKeyDown : void 0,\n          \"tabIndex\": props.focusable ? 0 : void 0,\n          \"aria-label\": edge.value.ariaLabel === null ? void 0 : edge.value.ariaLabel || `Edge from ${edge.value.source} to ${edge.value.target}`,\n          \"aria-describedby\": props.focusable ? `${ARIA_EDGE_DESC_KEY}-${vueFlowId}` : void 0,\n          \"role\": props.focusable ? \"button\" : \"img\"\n        },\n        [\n          updating.value ? null : h(props.type === false ? getEdgeTypes.value.default : props.type, {\n            id: props.id,\n            sourceNode,\n            targetNode,\n            source: edge.value.source,\n            target: edge.value.target,\n            type: edge.value.type,\n            updatable: props.updatable,\n            selected: edge.value.selected,\n            animated: edge.value.animated,\n            label: edge.value.label,\n            labelStyle: edge.value.labelStyle,\n            labelShowBg: edge.value.labelShowBg,\n            labelBgStyle: edge.value.labelBgStyle,\n            labelBgPadding: edge.value.labelBgPadding,\n            labelBgBorderRadius: edge.value.labelBgBorderRadius,\n            data: edge.value.data,\n            events: { ...edge.value.events, ...hooks.on },\n            style: edgeStyle.value,\n            markerStart: `url('#${getMarkerId(edge.value.markerStart, vueFlowId)}')`,\n            markerEnd: `url('#${getMarkerId(edge.value.markerEnd, vueFlowId)}')`,\n            sourcePosition,\n            targetPosition,\n            sourceX,\n            sourceY,\n            targetX,\n            targetY,\n            sourceHandleId: edge.value.sourceHandle,\n            targetHandleId: edge.value.targetHandle,\n            interactionWidth: edge.value.interactionWidth,\n            ...pathOptions\n          }),\n          [\n            props.updatable === \"source\" || props.updatable === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterSourceMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": sourcePosition,\n                  \"centerX\": sourceX,\n                  \"centerY\": sourceY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"source\",\n                  \"data-type\": \"source\"\n                })\n              )\n            ] : null,\n            props.updatable === \"target\" || props.updatable === true ? [\n              h(\n                \"g\",\n                {\n                  onMousedown: onEdgeUpdaterTargetMouseDown,\n                  onMouseenter: onEdgeUpdaterMouseEnter,\n                  onMouseout: onEdgeUpdaterMouseOut\n                },\n                h(EdgeAnchor$1, {\n                  \"position\": targetPosition,\n                  \"centerX\": targetX,\n                  \"centerY\": targetY,\n                  \"radius\": edgeUpdaterRadius.value,\n                  \"type\": \"target\",\n                  \"data-type\": \"target\"\n                })\n              )\n            ] : null\n          ]\n        ]\n      );\n    };\n    function onEdgeUpdaterMouseEnter() {\n      mouseOver.value = true;\n    }\n    function onEdgeUpdaterMouseOut() {\n      mouseOver.value = false;\n    }\n    function onEdgeUpdate(event, connection) {\n      hooks.emit.update({ event, edge: edge.value, connection });\n    }\n    function onEdgeUpdateEnd(event) {\n      hooks.emit.updateEnd({ event, edge: edge.value });\n      updating.value = false;\n    }\n    function handleEdgeUpdater(event, isSourceHandle) {\n      if (event.button !== 0) {\n        return;\n      }\n      updating.value = true;\n      nodeId.value = isSourceHandle ? edge.value.target : edge.value.source;\n      handleId.value = (isSourceHandle ? edge.value.targetHandle : edge.value.sourceHandle) ?? \"\";\n      edgeUpdaterType.value = isSourceHandle ? \"target\" : \"source\";\n      hooks.emit.updateStart({ event, edge: edge.value });\n      handlePointerDown(event);\n    }\n    function onEdgeClick(event) {\n      var _a;\n      const data = { event, edge: edge.value };\n      if (props.selectable) {\n        nodesSelectionActive.value = false;\n        if (edge.value.selected && multiSelectionActive.value) {\n          removeSelectedEdges([edge.value]);\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n        } else {\n          addSelectedEdges([edge.value]);\n        }\n      }\n      hooks.emit.click(data);\n    }\n    function onEdgeContextMenu(event) {\n      hooks.emit.contextMenu({ event, edge: edge.value });\n    }\n    function onDoubleClick(event) {\n      hooks.emit.doubleClick({ event, edge: edge.value });\n    }\n    function onEdgeMouseEnter(event) {\n      hooks.emit.mouseEnter({ event, edge: edge.value });\n    }\n    function onEdgeMouseMove(event) {\n      hooks.emit.mouseMove({ event, edge: edge.value });\n    }\n    function onEdgeMouseLeave(event) {\n      hooks.emit.mouseLeave({ event, edge: edge.value });\n    }\n    function onEdgeUpdaterSourceMouseDown(event) {\n      handleEdgeUpdater(event, true);\n    }\n    function onEdgeUpdaterTargetMouseDown(event) {\n      handleEdgeUpdater(event, false);\n    }\n    function onKeyDown(event) {\n      var _a;\n      if (!disableKeyboardA11y.value && elementSelectionKeys.includes(event.key) && props.selectable) {\n        const unselect = event.key === \"Escape\";\n        if (unselect) {\n          (_a = edgeEl.value) == null ? void 0 : _a.blur();\n          removeSelectedEdges([findEdge(props.id)]);\n        } else {\n          addSelectedEdges([findEdge(props.id)]);\n        }\n      }\n    }\n  }\n});\nconst EdgeWrapper$1 = EdgeWrapper;\nconst oppositePosition = {\n  [Position.Left]: Position.Right,\n  [Position.Right]: Position.Left,\n  [Position.Top]: Position.Bottom,\n  [Position.Bottom]: Position.Top\n};\nconst ConnectionLine = defineComponent({\n  name: \"ConnectionLine\",\n  compatConfig: { MODE: 3 },\n  setup() {\n    var _a;\n    const {\n      id: id2,\n      connectionMode,\n      connectionStartHandle,\n      connectionEndHandle,\n      connectionPosition,\n      connectionLineType,\n      connectionLineStyle,\n      connectionLineOptions,\n      connectionStatus,\n      viewport,\n      findNode\n    } = useVueFlow();\n    const connectionLineComponent = (_a = inject(Slots)) == null ? void 0 : _a[\"connection-line\"];\n    return () => {\n      var _a2, _b, _c, _d, _e;\n      if (!connectionStartHandle.value) {\n        return null;\n      }\n      const fromNode = findNode(connectionStartHandle.value.nodeId);\n      if (!fromNode) {\n        return null;\n      }\n      const handleId = connectionStartHandle.value.handleId;\n      const handleType = connectionStartHandle.value.type;\n      const targetNode = ((_a2 = connectionEndHandle.value) == null ? void 0 : _a2.handleId) && findNode(connectionEndHandle.value.nodeId) || null;\n      const toX = (connectionPosition.value.x - viewport.value.x) / viewport.value.zoom;\n      const toY = (connectionPosition.value.y - viewport.value.y) / viewport.value.zoom;\n      const fromHandleBounds = fromNode.handleBounds;\n      let handleBounds = fromHandleBounds == null ? void 0 : fromHandleBounds[handleType];\n      if (connectionMode.value === ConnectionMode.Loose) {\n        handleBounds = handleBounds || (fromHandleBounds == null ? void 0 : fromHandleBounds[handleType === \"source\" ? \"target\" : \"source\"]);\n      }\n      if (!handleBounds) {\n        return null;\n      }\n      const fromHandle = (handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0]) ?? null;\n      const fromPosition = (fromHandle == null ? void 0 : fromHandle.position) || Position.Top;\n      const { x: fromX, y: fromY } = getHandlePosition(\n        fromPosition,\n        { ...fromNode.dimensions, ...fromNode.computedPosition },\n        fromHandle\n      );\n      const toHandle = targetNode && ((_b = connectionEndHandle.value) == null ? void 0 : _b.handleId) && ((connectionMode.value === ConnectionMode.Strict ? (_c = targetNode.handleBounds[handleType === \"source\" ? \"target\" : \"source\"]) == null ? void 0 : _c.find(\n        (d) => {\n          var _a3;\n          return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n        }\n      ) : (_d = [...targetNode.handleBounds.source || [], ...targetNode.handleBounds.target || []]) == null ? void 0 : _d.find(\n        (d) => {\n          var _a3;\n          return d.id === ((_a3 = connectionEndHandle.value) == null ? void 0 : _a3.handleId);\n        }\n      )) || ((_e = targetNode.handleBounds[handleType ?? \"target\"]) == null ? void 0 : _e[0])) || null;\n      const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n      if (!fromPosition || !toPosition) {\n        return null;\n      }\n      const type = connectionLineType.value ?? connectionLineOptions.value.type ?? ConnectionLineType.Bezier;\n      let dAttr = \"\";\n      const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition\n      };\n      if (type === ConnectionLineType.Bezier) {\n        [dAttr] = getBezierPath(pathParams);\n      } else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n          ...pathParams,\n          borderRadius: 0\n        });\n      } else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n      } else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n      } else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n      }\n      return h(\n        \"svg\",\n        { class: \"vue-flow__edges vue-flow__connectionline vue-flow__container\" },\n        h(\n          \"g\",\n          { class: \"vue-flow__connection\" },\n          connectionLineComponent ? h(connectionLineComponent, {\n            sourceX: fromX,\n            sourceY: fromY,\n            sourcePosition: fromPosition,\n            targetX: toX,\n            targetY: toY,\n            targetPosition: toPosition,\n            sourceNode: fromNode,\n            sourceHandle: fromHandle,\n            targetNode,\n            targetHandle: toHandle,\n            markerEnd: `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})`,\n            markerStart: `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})`,\n            connectionStatus: connectionStatus.value\n          }) : h(\"path\", {\n            \"d\": dAttr,\n            \"class\": [connectionLineOptions.value.class, connectionStatus, \"vue-flow__connection-path\"],\n            \"style\": {\n              ...connectionLineStyle.value,\n              ...connectionLineOptions.value.style\n            },\n            \"marker-end\": `url(#${getMarkerId(connectionLineOptions.value.markerEnd, id2)})`,\n            \"marker-start\": `url(#${getMarkerId(connectionLineOptions.value.markerStart, id2)})`\n          })\n        )\n      );\n    };\n  }\n});\nconst ConnectionLine$1 = ConnectionLine;\nconst _hoisted_1$4 = [\"id\", \"markerWidth\", \"markerHeight\", \"markerUnits\", \"orient\"];\nconst __default__$6 = {\n  name: \"MarkerType\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$6 = /* @__PURE__ */ defineComponent({\n  ...__default__$6,\n  props: {\n    id: {},\n    type: {},\n    color: { default: \"none\" },\n    width: { default: 12.5 },\n    height: { default: 12.5 },\n    markerUnits: { default: \"strokeWidth\" },\n    orient: { default: \"auto-start-reverse\" },\n    strokeWidth: { default: 1 }\n  },\n  setup(__props) {\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"marker\", {\n        id: _ctx.id,\n        class: \"vue-flow__arrowhead\",\n        viewBox: \"-10 -10 20 20\",\n        refX: \"0\",\n        refY: \"0\",\n        markerWidth: `${_ctx.width}`,\n        markerHeight: `${_ctx.height}`,\n        markerUnits: _ctx.markerUnits,\n        orient: _ctx.orient\n      }, [\n        _ctx.type === unref(MarkerType).ArrowClosed ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 0,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            fill: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          points: \"-5,-4 0,0 -5,4 -5,-4\"\n        }, null, 4)) : createCommentVNode(\"\", true),\n        _ctx.type === unref(MarkerType).Arrow ? (openBlock(), createElementBlock(\"polyline\", {\n          key: 1,\n          style: normalizeStyle({\n            stroke: _ctx.color,\n            strokeWidth: _ctx.strokeWidth\n          }),\n          \"stroke-linecap\": \"round\",\n          \"stroke-linejoin\": \"round\",\n          fill: \"none\",\n          points: \"-5,-4 0,0 -5,4\"\n        }, null, 4)) : createCommentVNode(\"\", true)\n      ], 8, _hoisted_1$4);\n    };\n  }\n});\nconst __default__$5 = {\n  name: \"MarkerDefinitions\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$5 = /* @__PURE__ */ defineComponent({\n  ...__default__$5,\n  setup(__props) {\n    const { id: vueFlowId, edges, connectionLineOptions, defaultMarkerColor: defaultColor } = useVueFlow();\n    const markers = computed(() => {\n      const ids = [];\n      const markers2 = [];\n      const createMarkers = (marker) => {\n        if (marker) {\n          const markerId = getMarkerId(marker, vueFlowId);\n          if (!ids.includes(markerId)) {\n            if (typeof marker === \"object\") {\n              markers2.push({ ...marker, id: markerId, color: marker.color || defaultColor.value });\n            } else {\n              markers2.push({ id: markerId, color: defaultColor.value, type: marker });\n            }\n            ids.push(markerId);\n          }\n        }\n      };\n      for (const marker of [connectionLineOptions.value.markerEnd, connectionLineOptions.value.markerStart]) {\n        createMarkers(marker);\n      }\n      edges.value.reduce((markers3, edge) => {\n        for (const marker of [edge.markerStart, edge.markerEnd]) {\n          createMarkers(marker);\n        }\n        return markers3.sort((a, b) => a.id.localeCompare(b.id));\n      }, markers2);\n      return markers2;\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"defs\", null, [\n        (openBlock(true), createElementBlock(Fragment, null, renderList(markers.value, (marker) => {\n          return openBlock(), createBlock(_sfc_main$6, {\n            id: marker.id,\n            key: marker.id,\n            type: marker.type,\n            color: marker.color,\n            width: marker.width,\n            height: marker.height,\n            markerUnits: marker.markerUnits,\n            \"stroke-width\": marker.strokeWidth,\n            orient: marker.orient\n          }, null, 8, [\"id\", \"type\", \"color\", \"width\", \"height\", \"markerUnits\", \"stroke-width\", \"orient\"]);\n        }), 128))\n      ]);\n    };\n  }\n});\nconst _hoisted_1$3 = { class: \"vue-flow__edges vue-flow__container\" };\nconst __default__$4 = {\n  name: \"Edges\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$4 = /* @__PURE__ */ defineComponent({\n  ...__default__$4,\n  setup(__props) {\n    const slots = inject(Slots);\n    const {\n      edgesUpdatable,\n      edgesFocusable,\n      elementsSelectable,\n      findNode,\n      getEdges,\n      getEdgeTypes,\n      elevateEdgesOnSelect,\n      dimensions,\n      emits\n    } = useVueFlow();\n    const instance = getCurrentInstance();\n    function selectable(edgeSelectable) {\n      return typeof edgeSelectable === \"undefined\" ? elementsSelectable.value : edgeSelectable;\n    }\n    function updatable(edgeUpdatable) {\n      return typeof edgeUpdatable === \"undefined\" ? edgesUpdatable.value : edgeUpdatable;\n    }\n    function focusable(edgeFocusable) {\n      return typeof edgeFocusable === \"undefined\" ? edgesFocusable.value : edgeFocusable;\n    }\n    function getType(type, template) {\n      const name = type || \"default\";\n      const slot = slots == null ? void 0 : slots[`edge-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let edgeType = template ?? getEdgeTypes.value[name];\n      if (typeof edgeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            edgeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (edgeType && typeof edgeType !== \"string\") {\n        return edgeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.EDGE_TYPE_MISSING, edgeType));\n      return false;\n    }\n    return (_ctx, _cache) => {\n      return unref(dimensions).width && unref(dimensions).height ? (openBlock(), createElementBlock(Fragment, { key: 0 }, [\n        (openBlock(), createElementBlock(\"svg\", _hoisted_1$3, [\n          createVNode(_sfc_main$5)\n        ])),\n        (openBlock(true), createElementBlock(Fragment, null, renderList(unref(getEdges), (edge) => {\n          return openBlock(), createElementBlock(\"svg\", {\n            key: edge.id,\n            class: \"vue-flow__edges vue-flow__container\",\n            style: normalizeStyle({ zIndex: unref(getEdgeZIndex)(edge, unref(findNode), unref(elevateEdgesOnSelect)) })\n          }, [\n            createVNode(unref(EdgeWrapper$1), {\n              id: edge.id,\n              edge,\n              type: getType(edge.type, edge.template),\n              name: edge.type || \"default\",\n              selectable: selectable(edge.selectable),\n              updatable: updatable(edge.updatable),\n              focusable: focusable(edge.focusable)\n            }, null, 8, [\"id\", \"edge\", \"type\", \"name\", \"selectable\", \"updatable\", \"focusable\"])\n          ], 4);\n        }), 128)),\n        createVNode(unref(ConnectionLine$1))\n      ], 64)) : createCommentVNode(\"\", true);\n    };\n  }\n});\nconst NodeWrapper = defineComponent({\n  name: \"Node\",\n  compatConfig: { MODE: 3 },\n  props: [\"name\", \"type\", \"id\", \"draggable\", \"selectable\", \"focusable\", \"connectable\", \"node\", \"resizeObserver\"],\n  setup(props) {\n    provide(NodeId, props.id);\n    const {\n      id: vueFlowId,\n      noPanClassName,\n      selectNodesOnDrag,\n      nodesSelectionActive,\n      multiSelectionActive,\n      emits,\n      findNode,\n      removeSelectedNodes,\n      addSelectedNodes,\n      updateNodeDimensions,\n      onUpdateNodeInternals,\n      getIntersectingNodes,\n      getNodeTypes,\n      nodeExtent,\n      elevateNodesOnSelect,\n      disableKeyboardA11y,\n      ariaLiveMessage,\n      snapToGrid,\n      snapGrid,\n      nodeDragThreshold,\n      getConnectedEdges: getConnectedEdges2\n    } = useVueFlow();\n    const updateNodePositions = useUpdateNodePositions();\n    const node = useVModel(props, \"node\");\n    const parentNode = computed(() => {\n      var _a;\n      return findNode((_a = node.value) == null ? void 0 : _a.parentNode);\n    });\n    const connectedEdges = computed(() => getConnectedEdges2(node.value ? [node.value] : []));\n    const nodeElement = ref(null);\n    provide(NodeRef, nodeElement);\n    const { emit, on } = useNodeHooks(node.value, emits);\n    const dragging = useDrag({\n      id: props.id,\n      el: nodeElement,\n      disabled: () => !props.draggable,\n      selectable: () => props.selectable,\n      dragHandle: () => node.value.dragHandle,\n      onStart(args) {\n        emit.dragStart({ ...args, intersections: getIntersectingNodes(node.value) });\n      },\n      onDrag(args) {\n        emit.drag({ ...args, intersections: getIntersectingNodes(node.value) });\n      },\n      onStop(args) {\n        emit.dragStop({ ...args, intersections: getIntersectingNodes(node.value) });\n      }\n    });\n    const getClass = computed(() => node.value.class instanceof Function ? node.value.class(node.value) : node.value.class);\n    const getStyle = computed(() => {\n      const styles = (node.value.style instanceof Function ? node.value.style(node.value) : node.value.style) || {};\n      const width = node.value.width instanceof Function ? node.value.width(node.value) : node.value.width;\n      const height = node.value.height instanceof Function ? node.value.height(node.value) : node.value.height;\n      if (width) {\n        styles.width = typeof width === \"string\" ? width : `${width}px`;\n      }\n      if (height) {\n        styles.height = typeof height === \"string\" ? height : `${height}px`;\n      }\n      return styles;\n    });\n    const zIndex = toRef(() => Number(node.value.zIndex ?? getStyle.value.zIndex ?? 0));\n    onUpdateNodeInternals((updateIds) => {\n      if (updateIds.includes(props.id)) {\n        updateInternals();\n      }\n    });\n    onMounted(() => {\n      props.resizeObserver.observe(nodeElement.value);\n    });\n    onBeforeUnmount(() => {\n      props.resizeObserver.unobserve(nodeElement.value);\n    });\n    watch([() => node.value.type, () => node.value.sourcePosition, () => node.value.targetPosition], () => {\n      nextTick(() => {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      });\n    });\n    watch(\n      [\n        () => node.value.position.x,\n        () => node.value.position.y,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.x;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.y;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.computedPosition.z;\n        },\n        zIndex,\n        () => node.value.selected,\n        () => node.value.dimensions.height,\n        () => node.value.dimensions.width,\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.height;\n        },\n        () => {\n          var _a;\n          return (_a = parentNode.value) == null ? void 0 : _a.dimensions.width;\n        }\n      ],\n      ([newX, newY, parentX, parentY, parentZ, nodeZIndex]) => {\n        const xyzPos = {\n          x: newX,\n          y: newY,\n          z: nodeZIndex + (elevateNodesOnSelect.value ? node.value.selected ? 1e3 : 0 : 0)\n        };\n        if (typeof parentX !== \"undefined\" && typeof parentY !== \"undefined\") {\n          node.value.computedPosition = getXYZPos({ x: parentX, y: parentY, z: parentZ }, xyzPos);\n        } else {\n          node.value.computedPosition = xyzPos;\n        }\n      },\n      { flush: \"post\", immediate: true }\n    );\n    watch([() => node.value.extent, nodeExtent], ([nodeExtent2, globalExtent], [oldNodeExtent, oldGlobalExtent]) => {\n      if (nodeExtent2 !== oldNodeExtent || globalExtent !== oldGlobalExtent) {\n        clampPosition2();\n      }\n    });\n    if (node.value.extent === \"parent\" || typeof node.value.extent === \"object\" && \"range\" in node.value.extent && node.value.extent.range === \"parent\") {\n      until(() => node.value.initialized).toBe(true).then(clampPosition2);\n    } else {\n      clampPosition2();\n    }\n    return () => h(\n      \"div\",\n      {\n        \"ref\": nodeElement,\n        \"data-id\": node.value.id,\n        \"class\": [\n          \"vue-flow__node\",\n          `vue-flow__node-${props.type === false ? \"default\" : props.name}`,\n          {\n            [noPanClassName.value]: props.draggable,\n            dragging: dragging == null ? void 0 : dragging.value,\n            draggable: props.draggable,\n            selected: node.value.selected,\n            selectable: props.selectable,\n            parent: node.value.isParent\n          },\n          getClass.value\n        ],\n        \"style\": {\n          visibility: node.value.initialized ? \"visible\" : \"hidden\",\n          zIndex: node.value.computedPosition.z ?? zIndex.value,\n          transform: `translate(${node.value.computedPosition.x}px,${node.value.computedPosition.y}px)`,\n          pointerEvents: props.selectable || props.draggable ? \"all\" : \"none\",\n          ...getStyle.value\n        },\n        \"tabIndex\": props.focusable ? 0 : void 0,\n        \"role\": props.focusable ? \"button\" : void 0,\n        \"aria-describedby\": disableKeyboardA11y.value ? void 0 : `${ARIA_NODE_DESC_KEY}-${vueFlowId}`,\n        \"aria-label\": node.value.ariaLabel,\n        \"onMouseenter\": onMouseEnter,\n        \"onMousemove\": onMouseMove,\n        \"onMouseleave\": onMouseLeave,\n        \"onContextmenu\": onContextMenu,\n        \"onClick\": onSelectNode,\n        \"onDblclick\": onDoubleClick,\n        \"onKeydown\": onKeyDown\n      },\n      [\n        h(props.type === false ? getNodeTypes.value.default : props.type, {\n          id: node.value.id,\n          type: node.value.type,\n          data: node.value.data,\n          events: { ...node.value.events, ...on },\n          selected: node.value.selected,\n          resizing: node.value.resizing,\n          dragging: dragging.value,\n          connectable: props.connectable,\n          position: node.value.computedPosition,\n          dimensions: node.value.dimensions,\n          isValidTargetPos: node.value.isValidTargetPos,\n          isValidSourcePos: node.value.isValidSourcePos,\n          parent: node.value.parentNode,\n          parentNodeId: node.value.parentNode,\n          zIndex: node.value.computedPosition.z ?? zIndex.value,\n          targetPosition: node.value.targetPosition,\n          sourcePosition: node.value.sourcePosition,\n          label: node.value.label,\n          dragHandle: node.value.dragHandle,\n          onUpdateNodeInternals: updateInternals\n        })\n      ]\n    );\n    function clampPosition2() {\n      const nextPos = node.value.computedPosition;\n      if (snapToGrid.value) {\n        nextPos.x = snapGrid.value[0] * Math.round(nextPos.x / snapGrid.value[0]);\n        nextPos.y = snapGrid.value[1] * Math.round(nextPos.y / snapGrid.value[1]);\n      }\n      const { computedPosition, position } = calcNextPosition(\n        node.value,\n        nextPos,\n        emits.error,\n        nodeExtent.value,\n        parentNode.value\n      );\n      if (node.value.computedPosition.x !== computedPosition.x || node.value.computedPosition.y !== computedPosition.y) {\n        node.value.computedPosition = { ...node.value.computedPosition, ...computedPosition };\n      }\n      if (node.value.position.x !== position.x || node.value.position.y !== position.y) {\n        node.value.position = position;\n      }\n    }\n    function updateInternals() {\n      if (nodeElement.value) {\n        updateNodeDimensions([{ id: props.id, nodeElement: nodeElement.value, forceUpdate: true }]);\n      }\n    }\n    function onMouseEnter(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseEnter({ event, node: node.value, connectedEdges: connectedEdges.value });\n      }\n    }\n    function onMouseMove(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseMove({ event, node: node.value, connectedEdges: connectedEdges.value });\n      }\n    }\n    function onMouseLeave(event) {\n      if (!(dragging == null ? void 0 : dragging.value)) {\n        emit.mouseLeave({ event, node: node.value, connectedEdges: connectedEdges.value });\n      }\n    }\n    function onContextMenu(event) {\n      return emit.contextMenu({ event, node: node.value, connectedEdges: connectedEdges.value });\n    }\n    function onDoubleClick(event) {\n      return emit.doubleClick({ event, node: node.value, connectedEdges: connectedEdges.value });\n    }\n    function onSelectNode(event) {\n      if (props.selectable && (!selectNodesOnDrag.value || !props.draggable || nodeDragThreshold.value > 0)) {\n        handleNodeClick(\n          node.value,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          false,\n          nodeElement.value\n        );\n      }\n      emit.click({ event, node: node.value, connectedEdges: connectedEdges.value });\n    }\n    function onKeyDown(event) {\n      if (isInputDOMNode(event) || disableKeyboardA11y.value) {\n        return;\n      }\n      if (elementSelectionKeys.includes(event.key) && props.selectable) {\n        const unselect = event.key === \"Escape\";\n        handleNodeClick(\n          node.value,\n          multiSelectionActive.value,\n          addSelectedNodes,\n          removeSelectedNodes,\n          nodesSelectionActive,\n          unselect,\n          nodeElement.value\n        );\n      } else if (props.draggable && node.value.selected && arrowKeyDiffs[event.key]) {\n        ariaLiveMessage.value = `Moved selected node ${event.key.replace(\"Arrow\", \"\").toLowerCase()}. New position, x: ${~~node.value.position.x}, y: ${~~node.value.position.y}`;\n        updateNodePositions(\n          {\n            x: arrowKeyDiffs[event.key].x,\n            y: arrowKeyDiffs[event.key].y\n          },\n          event.shiftKey\n        );\n      }\n    }\n  }\n});\nconst NodeWrapper$1 = NodeWrapper;\nconst _hoisted_1$2 = {\n  height: \"0\",\n  width: \"0\"\n};\nconst __default__$3 = {\n  name: \"EdgeLabelRenderer\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$3 = /* @__PURE__ */ defineComponent({\n  ...__default__$3,\n  setup(__props) {\n    const { viewportRef } = useVueFlow();\n    const teleportTarget = toRef(() => {\n      var _a;\n      return (_a = viewportRef.value) == null ? void 0 : _a.getElementsByClassName(\"vue-flow__edge-labels\")[0];\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"svg\", null, [\n        (openBlock(), createElementBlock(\"foreignObject\", _hoisted_1$2, [\n          (openBlock(), createBlock(Teleport, {\n            to: teleportTarget.value,\n            disabled: !teleportTarget.value\n          }, [\n            renderSlot(_ctx.$slots, \"default\")\n          ], 8, [\"to\", \"disabled\"]))\n        ]))\n      ]);\n    };\n  }\n});\nfunction useNodesInitialized(options = { includeHiddenNodes: false }) {\n  const { nodes } = useVueFlow();\n  return computed(() => {\n    if (nodes.value.length === 0) {\n      return false;\n    }\n    for (const node of nodes.value) {\n      if (options.includeHiddenNodes || !node.hidden) {\n        if ((node == null ? void 0 : node.handleBounds) === void 0 || node.dimensions.width === 0 || node.dimensions.height === 0) {\n          return false;\n        }\n      }\n    }\n    return true;\n  });\n}\nconst _hoisted_1$1 = { class: \"vue-flow__nodes vue-flow__container\" };\nconst __default__$2 = {\n  name: \"Nodes\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$2 = /* @__PURE__ */ defineComponent({\n  ...__default__$2,\n  setup(__props) {\n    const {\n      nodes,\n      nodesDraggable,\n      nodesFocusable,\n      elementsSelectable,\n      nodesConnectable,\n      getNodes,\n      getNodeTypes,\n      updateNodeDimensions,\n      emits\n    } = useVueFlow();\n    const nodesInitialized = useNodesInitialized();\n    const slots = inject(Slots);\n    const resizeObserver = ref();\n    const instance = getCurrentInstance();\n    watch(\n      nodesInitialized,\n      (initialized) => {\n        if (initialized) {\n          nextTick(() => {\n            emits.nodesInitialized(nodes.value);\n          });\n        }\n      },\n      { immediate: true }\n    );\n    onMounted(() => {\n      resizeObserver.value = new ResizeObserver((entries) => {\n        const updates = entries.map((entry) => {\n          const id2 = entry.target.getAttribute(\"data-id\");\n          return {\n            id: id2,\n            nodeElement: entry.target,\n            forceUpdate: true\n          };\n        });\n        nextTick(() => updateNodeDimensions(updates));\n      });\n    });\n    onBeforeUnmount(() => {\n      var _a;\n      return (_a = resizeObserver.value) == null ? void 0 : _a.disconnect();\n    });\n    function draggable(nodeDraggable) {\n      return typeof nodeDraggable === \"undefined\" ? nodesDraggable.value : nodeDraggable;\n    }\n    function selectable(nodeSelectable) {\n      return typeof nodeSelectable === \"undefined\" ? elementsSelectable.value : nodeSelectable;\n    }\n    function connectable(nodeConnectable) {\n      return typeof nodeConnectable === \"undefined\" ? nodesConnectable.value : nodeConnectable;\n    }\n    function focusable(nodeFocusable) {\n      return typeof nodeFocusable === \"undefined\" ? nodesFocusable.value : nodeFocusable;\n    }\n    function getType(type, template) {\n      const name = type || \"default\";\n      const slot = slots == null ? void 0 : slots[`node-${name}`];\n      if (slot) {\n        return slot;\n      }\n      let nodeType = template ?? getNodeTypes.value[name];\n      if (typeof nodeType === \"string\") {\n        if (instance) {\n          const components = Object.keys(instance.appContext.components);\n          if (components && components.includes(name)) {\n            nodeType = resolveComponent(name, false);\n          }\n        }\n      }\n      if (nodeType && typeof nodeType !== \"string\") {\n        return nodeType;\n      }\n      emits.error(new VueFlowError(ErrorCode.NODE_TYPE_MISSING, nodeType));\n      return false;\n    }\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [\n        resizeObserver.value ? (openBlock(true), createElementBlock(Fragment, { key: 0 }, renderList(unref(getNodes), (node) => {\n          return openBlock(), createBlock(unref(NodeWrapper$1), {\n            id: node.id,\n            key: node.id,\n            \"resize-observer\": resizeObserver.value,\n            type: getType(node.type, node.template),\n            name: node.type || \"default\",\n            draggable: draggable(node.draggable),\n            selectable: selectable(node.selectable),\n            connectable: connectable(node.connectable),\n            focusable: focusable(node.focusable),\n            node\n          }, null, 8, [\"id\", \"resize-observer\", \"type\", \"name\", \"draggable\", \"selectable\", \"connectable\", \"focusable\", \"node\"]);\n        }), 128)) : createCommentVNode(\"\", true)\n      ]);\n    };\n  }\n});\nconst _hoisted_1 = /* @__PURE__ */ createElementVNode(\"div\", { class: \"vue-flow__edge-labels\" }, null, -1);\nconst __default__$1 = {\n  name: \"VueFlow\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  ...__default__$1,\n  props: {\n    id: {},\n    modelValue: {},\n    nodes: {},\n    edges: {},\n    edgeTypes: {},\n    nodeTypes: {},\n    connectionMode: {},\n    connectionLineType: {},\n    connectionLineStyle: { default: void 0 },\n    connectionLineOptions: { default: void 0 },\n    connectionRadius: {},\n    isValidConnection: { type: [Function, null], default: void 0 },\n    deleteKeyCode: { default: void 0 },\n    selectionKeyCode: { default: void 0 },\n    multiSelectionKeyCode: { default: void 0 },\n    zoomActivationKeyCode: { default: void 0 },\n    panActivationKeyCode: { default: void 0 },\n    snapToGrid: { type: Boolean, default: void 0 },\n    snapGrid: {},\n    onlyRenderVisibleElements: { type: Boolean, default: void 0 },\n    edgesUpdatable: { type: [Boolean, String], default: void 0 },\n    nodesDraggable: { type: Boolean, default: void 0 },\n    nodesConnectable: { type: Boolean, default: void 0 },\n    nodeDragThreshold: {},\n    elementsSelectable: { type: Boolean, default: void 0 },\n    selectNodesOnDrag: { type: Boolean, default: void 0 },\n    panOnDrag: { type: [Boolean, Array], default: void 0 },\n    minZoom: {},\n    maxZoom: {},\n    defaultViewport: {},\n    translateExtent: {},\n    nodeExtent: {},\n    defaultMarkerColor: {},\n    zoomOnScroll: { type: Boolean, default: void 0 },\n    zoomOnPinch: { type: Boolean, default: void 0 },\n    panOnScroll: { type: Boolean, default: void 0 },\n    panOnScrollSpeed: {},\n    panOnScrollMode: {},\n    zoomOnDoubleClick: { type: Boolean, default: void 0 },\n    preventScrolling: { type: Boolean, default: void 0 },\n    selectionMode: {},\n    edgeUpdaterRadius: {},\n    fitViewOnInit: { type: Boolean, default: void 0 },\n    connectOnClick: { type: Boolean, default: void 0 },\n    applyDefault: { type: Boolean, default: void 0 },\n    autoConnect: { type: [Boolean, Function], default: void 0 },\n    noDragClassName: {},\n    noWheelClassName: {},\n    noPanClassName: {},\n    defaultEdgeOptions: {},\n    elevateEdgesOnSelect: { type: Boolean, default: void 0 },\n    elevateNodesOnSelect: { type: Boolean, default: void 0 },\n    disableKeyboardA11y: { type: Boolean, default: void 0 },\n    edgesFocusable: { type: Boolean, default: void 0 },\n    nodesFocusable: { type: Boolean, default: void 0 },\n    autoPanOnConnect: { type: Boolean, default: void 0 },\n    autoPanOnNodeDrag: { type: Boolean, default: void 0 }\n  },\n  emits: [\"nodesChange\", \"edgesChange\", \"nodesInitialized\", \"miniMapNodeClick\", \"miniMapNodeDoubleClick\", \"miniMapNodeMouseEnter\", \"miniMapNodeMouseMove\", \"miniMapNodeMouseLeave\", \"connect\", \"connectStart\", \"connectEnd\", \"clickConnectStart\", \"clickConnectEnd\", \"moveStart\", \"move\", \"moveEnd\", \"selectionDragStart\", \"selectionDrag\", \"selectionDragStop\", \"selectionContextMenu\", \"selectionStart\", \"selectionEnd\", \"viewportChangeStart\", \"viewportChange\", \"viewportChangeEnd\", \"paneReady\", \"init\", \"paneScroll\", \"paneClick\", \"paneContextMenu\", \"paneMouseEnter\", \"paneMouseMove\", \"paneMouseLeave\", \"updateNodeInternals\", \"error\", \"edgeContextMenu\", \"edgeMouseEnter\", \"edgeMouseMove\", \"edgeMouseLeave\", \"edgeDoubleClick\", \"edgeClick\", \"edgeUpdateStart\", \"edgeUpdate\", \"edgeUpdateEnd\", \"nodeDoubleClick\", \"nodeClick\", \"nodeMouseEnter\", \"nodeMouseMove\", \"nodeMouseLeave\", \"nodeContextMenu\", \"nodeDragStart\", \"nodeDrag\", \"nodeDragStop\", \"update:modelValue\", \"update:nodes\", \"update:edges\"],\n  setup(__props, { expose: __expose, emit }) {\n    const props = __props;\n    const slots = useSlots();\n    const modelValue = useVModel(props, \"modelValue\", emit);\n    const modelNodes = useVModel(props, \"nodes\", emit);\n    const modelEdges = useVModel(props, \"edges\", emit);\n    const { vueFlowRef, hooks, getNodeTypes, getEdgeTypes, ...rest } = useVueFlow(props);\n    const dispose = useWatchProps({ modelValue, nodes: modelNodes, edges: modelEdges }, props, {\n      vueFlowRef,\n      hooks,\n      getNodeTypes,\n      getEdgeTypes,\n      ...rest\n    });\n    useHooks(emit, hooks);\n    useOnInitHandler();\n    provide(Slots, slots);\n    onUnmounted(() => {\n      dispose();\n    });\n    __expose({\n      vueFlowRef,\n      hooks,\n      getNodeTypes,\n      getEdgeTypes,\n      ...rest\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        ref_key: \"vueFlowRef\",\n        ref: vueFlowRef,\n        class: \"vue-flow\"\n      }, [\n        createVNode(_sfc_main$8, null, {\n          default: withCtx(() => [\n            createVNode(_sfc_main$4),\n            _hoisted_1,\n            createVNode(_sfc_main$2),\n            renderSlot(_ctx.$slots, \"zoom-pane\")\n          ]),\n          _: 3\n        }),\n        renderSlot(_ctx.$slots, \"default\"),\n        createVNode(_sfc_main$7)\n      ], 512);\n    };\n  }\n});\nconst __default__ = {\n  name: \"Panel\",\n  compatConfig: { MODE: 3 }\n};\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  ...__default__,\n  props: {\n    position: {}\n  },\n  setup(__props) {\n    const props = __props;\n    const { userSelectionActive } = useVueFlow();\n    const positionClasses = computed(() => `${props.position}`.split(\"-\"));\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"div\", {\n        class: normalizeClass([\"vue-flow__panel\", positionClasses.value]),\n        style: normalizeStyle({ pointerEvents: unref(userSelectionActive) ? \"none\" : \"all\" })\n      }, [\n        renderSlot(_ctx.$slots, \"default\")\n      ], 6);\n    };\n  }\n});\nfunction useConnection() {\n  const {\n    connectionStartHandle: startHandle,\n    connectionEndHandle: endHandle,\n    connectionStatus: status,\n    connectionPosition: position\n  } = useVueFlow();\n  return {\n    startHandle,\n    endHandle,\n    status,\n    position\n  };\n}\nfunction useHandleConnections(params) {\n  const { type, id: id2, nodeId, onConnect, onDisconnect } = params;\n  const { connectionLookup } = useVueFlow();\n  const _nodeId = useNodeId();\n  const currentNodeId = toRef(() => toValue$1(nodeId) ?? _nodeId);\n  const handleType = toRef(() => toValue$1(type));\n  const handleId = toRef(() => toValue$1(id2) ?? null);\n  const connections = ref();\n  watch(\n    () => connectionLookup.value.get(`${currentNodeId.value}-${handleType.value}-${handleId.value}`),\n    (nextConnections) => {\n      if (areConnectionMapsEqual(connections.value, nextConnections)) {\n        return;\n      }\n      connections.value = nextConnections;\n    },\n    { immediate: true }\n  );\n  watch(\n    [connections, () => typeof onConnect !== \"undefined\", () => typeof onDisconnect !== \"undefined\"],\n    ([currentConnections], [prevConnections]) => {\n      if (prevConnections && prevConnections !== currentConnections) {\n        const _connections = currentConnections ?? /* @__PURE__ */ new Map();\n        handleConnectionChange(prevConnections, _connections, onDisconnect);\n        handleConnectionChange(_connections, prevConnections, onConnect);\n      }\n    },\n    { immediate: true }\n  );\n  return computed(() => {\n    var _a;\n    return Array.from(((_a = connections.value) == null ? void 0 : _a.values()) ?? []);\n  });\n}\nfunction useNodesData(_nodeIds) {\n  const { findNode } = useVueFlow();\n  return computed({\n    get() {\n      const nodeIds = toValue$1(_nodeIds);\n      if (!Array.isArray(nodeIds)) {\n        const node = findNode(nodeIds);\n        if (node) {\n          return {\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          };\n        }\n        return null;\n      }\n      const data = [];\n      for (const nodeId of nodeIds) {\n        const node = findNode(nodeId);\n        if (node) {\n          data.push({\n            id: node.id,\n            type: node.type,\n            data: node.data ?? null\n          });\n        }\n      }\n      return data;\n    },\n    set() {\n      warn(\"You are trying to set node data via useNodesData. This is not supported.\");\n    }\n  });\n}\nexport {\n  _sfc_main$d as BaseEdge,\n  BezierEdge$1 as BezierEdge,\n  ConnectionLineType,\n  ConnectionMode,\n  _sfc_main$3 as EdgeLabelRenderer,\n  _sfc_main$e as EdgeText,\n  ErrorCode,\n  _sfc_main$f as Handle,\n  MarkerType,\n  NodeId as NodeIdInjection,\n  PanOnScrollMode,\n  _sfc_main as Panel,\n  PanelPosition,\n  Position,\n  SelectionMode,\n  SimpleBezierEdge$1 as SimpleBezierEdge,\n  SmoothStepEdge$1 as SmoothStepEdge,\n  StepEdge$1 as StepEdge,\n  StraightEdge$1 as StraightEdge,\n  _sfc_main$1 as VueFlow,\n  VueFlowError,\n  VueFlow as VueFlowInjection,\n  addEdge,\n  applyChanges,\n  applyEdgeChanges,\n  applyNodeChanges,\n  clamp,\n  connectionExists,\n  defaultEdgeTypes,\n  defaultNodeTypes,\n  getBezierEdgeCenter,\n  getBezierPath,\n  getBoundsofRects,\n  getConnectedEdges,\n  getIncomers,\n  getMarkerId,\n  getNodesInside,\n  getOutgoers,\n  getRectOfNodes,\n  getSimpleBezierPath,\n  getSimpleEdgeCenter,\n  getSmoothStepPath,\n  getStraightPath,\n  getTransformForBounds,\n  rendererPointToPoint as graphPosToZoomedPos,\n  isEdge,\n  isErrorOfType,\n  isGraphEdge,\n  isGraphNode,\n  isNode,\n  pointToRendererPoint,\n  rendererPointToPoint,\n  updateEdge,\n  useConnection,\n  useEdge,\n  useGetPointerPosition,\n  useHandle,\n  useHandleConnections,\n  useNode,\n  useNodeId,\n  useNodesData,\n  useNodesInitialized,\n  useVueFlow,\n  useZoomPanHelper\n};\n"],"names":["id","getId","state","draggedType","ref","isDragOver","isDragging","useDragAndDrop","addNodes","screenToFlowCoordinate","onNodesInitialized","updateNode","useVueFlow","onDragEnd","value","document","removeEventListener","onDragStart","event","type","dataTransfer","setData","effectAllowed","addEventListener","onDragOver","preventDefault","dropEffect","onDragLeave","_nodes","console","log","onDrop","position","x","y","nodeId","newNode","targetPosition","sourcePosition","isSender","off","node","dimensions","width","height","push","test","watch","dragging","body","style","userSelect","BackgroundVariant","BackgroundVariant2","LinePattern","size","color","h","DotPattern","radius","cx","cy","r","fill","Lines","Dots","DefaultBgColors","_hoisted_1","_hoisted_2","key","_hoisted_3","_hoisted_4","__default__","name","compatConfig","MODE","_sfc_main","defineComponent","props","variant","default","gap","lineWidth","patternColor","bgColor","offset","setup","__props","vueFlowId","viewport","background","computed","gapX","gapY","Array","isArray","scaledGap","zoom","scaledSize","patternOffset","patternId","toRef","_ctx","_cache","openBlock","createElementBlock","class","normalizeStyle","renderSlot","$slots","createElementVNode","unref","patternTransform","patternUnits","createBlock","createCommentVNode","_defineComponent","__name","_openBlock","_createElementBlock","_createVNode","_unref","Background","_withCtx","_renderSlot","_","__exports__","tryOnScopeDispose","fn","getCurrentScope","onScopeDispose","toValue","isClient","window","isDef$1","val","toString","Object","prototype","isObject","call","noop$2","createFilterWrapper","filter2","wrapper","args","Promise","resolve","reject","apply","this","thisArg","then","catch","bypassFilter","invoke","pausableFilter","extendFilter","isActive","pause","resume","eventFilter","readonly","promiseTimeout","ms","throwOnTimeout","reason","setTimeout","watchWithFilter","source","cb","options","watchOptions","watchPausable","stop","toRefs","objectRef","isRef","toRefs$1","result","from","length","customRef","get","set","v","_a","replaceRef","copy","newObject","setPrototypeOf","getPrototypeOf","createUntil","isNot","toMatch","condition","flush","deep","timeout","timeout2","watcher","immediate","promises","finally","race","toBe","v1","v2","toBeTruthy","Boolean","toBeNull","toBeUndefined","toBeNaN","Number","isNaN","toContains","array2","includes","changed","changedTimes","n","count","instance","not","until","unrefElement","elRef","plain","$el","defaultWindow","useEventListener","target","events","listeners","cleanups","cleanup","forEach","register","el","listener","options2","stopWatch","optionsClone","flatMap","map","createKeyPredicate$1","keyFilter","onKeyStroke","handler","eventName","passive","dedupe","predicate","e","repeat","cloneFnJSON","JSON","parse","stringify","useVModel","emit","_b","_c","clone","defaultValue","shouldEmit","vm","getCurrentInstance","_emit","$emit","bind","proxy","cloneFn","getValue","triggerEmit","initialValue","isUpdating","nextTick","noop$1","dispatch","t","i","arguments","Error","Dispatch","parseTypenames$1","typenames","types","trim","split","indexOf","slice","hasOwnProperty","get$1","c","set$1","callback","concat","constructor","on","typename","T","that","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","prefix","space","local","creatorInherit","document2","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","creator","none","selector","selector2","querySelector","selection_select","select2","groups","_groups","m","subgroups","j","subnode","group","subgroup","__data__","Selection$1","_parents","array","empty","selectorAll","querySelectorAll","arrayAll","selection_selectAll","parents","matcher","matches","childMatcher","find","childFind","match","children","childFirst","firstElementChild","selection_selectChild","select","filter","childrenFilter","selection_selectChildren","selectAll","selection_filter","sparse","update","selection_enter","_enter","EnterNode","parent","datum2","_next","_parent","constant$3","bindIndex","enter","exit","data","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","Map","keyValues","has","delete","datum","selection_data","arraylike","enterGroup","updateGroup","exitGroup","previous","next","i0","i1","_exit","selection_exit","selection_join","onenter","onupdate","onexit","selection","append","remove","merge","order","selection_merge","context","selection2","groups0","groups1","m0","m1","Math","min","merges","group0","group1","selection_order","compareDocumentPosition","parentNode","insertBefore","selection_sort","compare","compareNode","a","b","ascending","sortgroups","sortgroup","sort","NaN","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attrRemove$1","removeAttribute","attrRemoveNS$1","removeAttributeNS","attrConstant$1","setAttribute","attrConstantNS$1","setAttributeNS","attrFunction$1","attrFunctionNS$1","selection_attr","getAttributeNS","getAttribute","each","defaultView","styleRemove$1","removeProperty","styleConstant$1","priority","setProperty","styleFunction$1","selection_style","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","selection_property","classArray","string","classList","ClassList","_node","_names","classedAdd","names","list","add","classedRemove","classedTrue","classedFalse","classedFunction","selection_classed","contains","textRemove","textContent","textConstant$1","textFunction$1","selection_text","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_html","raise","nextSibling","appendChild","selection_raise","lower","previousSibling","firstChild","selection_lower","selection_append","create2","constantNull","selection_insert","before","removeChild","selection_remove","selection_cloneShallow","cloneNode","selection_cloneDeep","selection_clone","selection_datum","property","contextListener","parseTypenames","onRemove","__on","o","onAdd","selection_on","dispatchEvent","params","window2","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","selection_dispatch","selection_iterator","child","join","splice","root","selection_selection","sourceEvent","sourceEvent2","pointer","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","left","clientLeft","top","clientTop","pageX","pageY","selectChild","selectChildren","nodes","attr","classed","text","html","insert","Symbol","iterator","nonpassive","nonpassivecapture","capture","nopropagation$1","stopImmediatePropagation","noevent$1","dragDisable","view","root2","__noselect","MozUserSelect","yesdrag","noclick","constant$2","DragEvent","subject","identifier","active","dx","dy","dispatch2","defineProperties","enumerable","configurable","defaultFilter$1","ctrlKey","button","defaultContainer","defaultSubject","d","defaultTouchable$1","navigator","maxTouchPoints","drag","mousedownx","mousedowny","mousemoving","touchending","container","touchable","gestures","clickDistance2","drag2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mousemoved","mouseupped","mouse","touches","changedTouches","clearTimeout","container2","touch","s","p","event2","touch2","p0","clickDistance","sqrt","define","factory","extend","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatHex8","formatHex8","color_formatHsl","hslConvert","formatHsl","color_formatRgb","formatRgb","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","opacity","rgb_formatHex","hex","rgb_formatHex8","rgb_formatRgb","clampa","clampi","max","round","h2","Hsl","hsl","clamph","clampt","hsl2rgb","m2","channels","assign","displayable","k","pow","clamp","constant$1","linear","exponential","gamma","nogamma","interpolateRgb","rgbGamma","color2","rgb$1","start2","end","interpolateNumber","reA","reB","zero","one","interpolateString","am","bm","bs","bi","lastIndex","q","index","i2","svgNode","degrees","PI","identity$1","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","f","atan2","atan","parseCss","DOMMatrix","WebKitCSSMatrix","isIdentity","parseSvg","transform","baseVal","consolidate","matrix","interpolateTransform","pxComma","pxParen","degParen","pop","translate","xa","ya","xb","yb","scale","interpolateTransformCss","interpolateTransformSvg","epsilon2","cosh","exp","sinh","tanh","interpolateZoom","zoomRho","rho","rho2","rho4","zoom2","p1","S","ux0","uy0","w0","ux1","uy1","w1","d2","d1","b0","b1","r0","r1","coshr0","u","duration","SQRT2","_1","_2","_4","taskHead","taskTail","frame","timeout$1","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","time","restart","timerFlush","wake","nap","poke","now2","t0","t2","t1","Infinity","sleep","clearInterval","setInterval","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","id2","timing","schedules","__transition","tween","ease","init","schedule2","self","tick","interrupt","empty2","selection_interrupt","tweenRemove","tween0","tween1","tweenFunction","transition_tween","_id","tweenValue","transition2","interpolate","attrRemove","attrRemoveNS","attrConstant","interpolate2","value1","string00","interpolate0","string1","string0","attrConstantNS","attrFunction","string10","attrFunctionNS","transition_attr","attrTween","attrInterpolate","attrInterpolateNS","attrTweenNS","_value","transition_attrTween","delayFunction","delayConstant","transition_delay","durationFunction","durationConstant","transition_duration","easeConstant","transition_ease","easeVarying","transition_easeVarying","transition_filter","Transition","_name","transition_merge","start","every","onFunction","on0","on1","sit","transition_on","removeFunction","transition_remove","transition_select","transition_selectAll","children2","inherit2","Selection","transition_selection","styleNull","styleRemove","styleConstant","styleFunction","styleMaybeRemove","listener0","remove2","transition_style","styleTween","styleInterpolate","transition_styleTween","textConstant","textFunction","transition_text","textInterpolate","textTween","transition_textTween","transition_transition","id0","id1","newId","transition_end","cancel","selection_prototype","cubicInOut","transition","defaultTiming","inherit","selection_transition","constant","ZoomEvent","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","identity","nopropagation","noevent","defaultFilter","defaultExtent","SVGElement","hasAttribute","viewBox","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","touchstarting","touchfirst","constrain","wheelDelta","scaleExtent","touchDelay","wheelDelay","tapDistance","wheeled","dblclicked","centroid","extent2","w","clean","__zooming","Gesture","taps","wheel","wheelidled","x0","y0","moved","k1","shiftKey","started","touch0","touch1","l0","l1","dp","dl","hypot","collection","scaleBy","scaleTo","k0","translateBy","translateTo","Position","Position2","SelectionMode","SelectionMode2","ConnectionLineType","ConnectionLineType2","ConnectionMode","ConnectionMode2","MarkerType","MarkerType2","PanOnScrollMode","PanOnScrollMode2","useWindow","chrome","isInputDOMNode","composedPath","closest","nodeName","wasModifierPressed","metaKey","isKeyMatch","pressedKey","keyToMatch","pressedKeys","isKeyUp","keyCombination","values","createKeyPredicate","code","keyOrCode","useKeyOrCode","some","keysToWatch","useKeyPress","onChange","actInsideInputWithModifier","isPressed","toValue$1","modifierPressed","Set","currentFilter","createKeyFilterFn","isKeyPressed","wasPressed","nextKeyFilter","previousKeyFilter","reset","preventAction","clear","keyFilter2","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","elementSelectionKeys","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","useDrag","vueFlowRef","snapToGrid","snapGrid","noDragClassName","nodeExtent","nodeDragThreshold","autoPanOnNodeDrag","nodesDraggable","panBy","findNode","multiSelectionActive","nodesSelectionActive","selectNodesOnDrag","removeSelectedElements","addSelectedNodes","updateNodePositions","emits","onStart","onDrag","onStop","disabled","selectable","dragHandle","dragHandler","dragItems","containerBounds","lastPos","mousePosition","dragEvent","dragStarted","autoPanId","autoPanStarted","getPointerPosition","useGetPointerPosition","updateNodes","hasChange","nextPosition","distance","computedPosition","calcNextPosition","error","currentNode","nodes2","getEventHandlerParams","autoPan","xMovement","yMovement","calcAutoPan","nextPos","startDrag","nodeEl","selected","handleNodeClick","pointerPos","getDragItems","eventStart","getEventPosition","eventDrag","xSnapped","ySnapped","distance2","eventEnd","cancelAnimationFrame","isDisabled","onCleanup","unrefDragHandle","hasSelector","VueFlow","NodeId","NodeRef","EdgeId","EdgeRef","Slots","createEdgeHooks","doubleClick","createExtendedEventHook","click","mouseEnter","mouseMove","mouseLeave","contextMenu","updateStart","updateEnd","useEdgeHooks","edge","edgeHooks","edgeDoubleClick","edgeClick","edgeMouseEnter","edgeMouseMove","edgeMouseLeave","edgeContextMenu","edgeUpdateStart","edgeUpdate","edgeUpdateEnd","entries","reduce","hooks","trigger","alwaysValid","useHandle","handleId","isValidConnection","edgeUpdaterType","onEdgeUpdate","onEdgeUpdateEnd","connectionMode","connectionRadius","connectOnClick","connectionClickStartHandle","nodesConnectable","autoPanOnConnect","startConnection","updateConnection","endConnection","edges","isValidConnectionProp","connection","isValid","handleDomNode","handlePointerDown","isTarget","isMouseTriggered","isMouseEvent","doc","getHostForElement","onPointerMove","connectionPosition","handle","validHandleResult","getClosestHandle","pointToRendererPoint","handleLookup","handle2","isValidHandle","isValidConnectionHandler","closestHandle","rendererPointToPoint","endHandle","getConnectionStatus","resetRecentHandle","prevActiveHandle","toggle","onPointerUp","connect","connectEnd","isValidSourcePos","isValidTargetPos","clickedHandle","elementFromPoint","handleType","getHandleType","getHandleLookup","connectStart","handleClick","connectable","connection2","isValid2","isOwnHandle","clickConnectEnd","clickConnectStart","useNodeId","inject","useNode","VueFlowError","ErrorCode","NODE_NOT_FOUND","connectedEdges","getConnectedEdges","createNodeHooks","dragStart","dragStop","useNodeHooks","nodeHooks","nodeDoubleClick","nodeClick","nodeMouseEnter","nodeMouseMove","nodeMouseLeave","nodeContextMenu","nodeDragStart","nodeDrag","nodeDragStop","useUpdateNodePositions","getSelectedNodes","positionDiff","isShiftPressed","xVelo","yVelo","factor","positionDiffX","positionDiffY","nodeUpdates","draggable","DEFAULT_PADDING","noop","warn","initialViewportHelper","zoomIn","zoomOut","zoomTo","fitView","setCenter","fitBounds","project","flowToScreenCoordinate","setViewport","setTransform","getViewport","getTransform","viewportInitialized","useViewportHelper","d3Selection","d3Zoom","transformViewport","zoom22","clampedX","clampedY","clampPosition","nextTransform","isInitialized","zoomLevel","padding","includeHiddenNodes","nodesToFit","isVisible","hidden","bounds","getRectOfNodes","getTransformForBounds","minZoom","maxZoom","nextZoom","centerX","centerY","domX","domY","correctedPosition","onEnd","useWatchProps","models","store","scope","effectScope","run","watchModelValue","pauseModel","pauseStore","immediateStore","modelValue","elements","setElements","watchNodesValue","setNodes","watchEdgesValue","setEdges","watchMaxZoom","isDef","setMaxZoom","watchMinZoom","setMinZoom","watchTranslateExtent","setTranslateExtent","watchNodeExtent","setNodeExtent","watchApplyDefault","applyDefault","watchAutoConnect","autoConnector","async","autoConnect","addEdges","autoConnectEnabled","onConnect","watchRest","skip","keys","propKey","propValue","storeRef","nextValue","runAll","nodeToRect","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","getDimensions","offsetWidth","offsetHeight","element","getRootNode","isEdge","isNode","isGraphNode","isNumeric","isFinite","isRect","obj","parseNode","existingNode","initialState","markRaw","handleBounds","z","focusable","resizing","initialized","isParent","parseEdge","existingEdge","defaultEdgeOptions","sourceHandle","targetHandle","updatable","label","interactionWidth","getConnectedElements","nodeOrId","dir","connectedIds","origin","getOutgoers","nodeOrId2","outgoers","getIncomers","incomers","getEdgeId","connectionExists","tx","ty","tScale","snapX","snapY","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","boxToRect","box","currBox","POSITIVE_INFINITY","NEGATIVE_INFINITY","getNodesInside","partially","excludeNonSelectableNodes","paneRect","nodeRect","overlappingArea","notInitialized","partiallyVisible","area","nodesOrId","nodeIds","xZoom","yZoom","clampedZoom","boundsCenterX","boundsCenterY","getXYZPos","parentPos","isParentSelected","getMarkerId","marker","idPrefix","calcAutoPanVelocity","abs","pos","handleParentExpand","updateItem","extendWidth","extendHeight","parentStyles","currWidth","replace","xDiff","yDiff","styleFunc","applyChanges","changes","addRemoveChanges","change","findIndex","item","elementIds","currentChanges","currentChange","expandParent","updateStyle","createSelectionChange","createAdditionChange","createNodeRemoveChange","createEdgeRemoveChange","getSelectionChanges","selectedIds","res","willBeSelected","changedNodes","changedEdges","defaultHandler","fns","hasDefaultHandler","hasListeners","offFn","param","all","current","parentElement","mousePos","extendedDragItems","acc","dragItem","getExtentPadding","getParentExtent","currentExtent","right","bottom","getExtent","triggerError","parentX","parentY","parentExtent","NODE_EXTENT_INVALID","clampNodeExtent","clampedPos","getHandlePosition","Top","Right","Bottom","Left","getHandle","getEdgePositions","sourceNode","targetNode","sourceHandlePos","targetHandlePos","sourceX","sourceY","targetX","targetY","isEdgeVisible","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","getEdgeZIndex","elevateEdgesOnSelect","hasZIndex","zIndex","ErrorCode2","messages","MISSING_VIEWPORT_DIMENSIONS","NODE_MISSING_PARENT","parentId","EDGE_SOURCE_MISSING","EDGE_TARGET_MISSING","EDGE_SOURCE_TARGET_SAME","EDGE_SOURCE_TARGET_MISSING","super","evtX","evtY","isMacOs","userAgent","defaultValidHandleResult","getHandles","currentHandle","handles","validator","domNodes","elementsFromPoint","handleBelow","handleNodeId","closestHandles","minDistance","hasValidHandle","hasTargetHandle","fromNodeId","fromHandleId","fromType","elementBelow","handleToCheck","connectableEnd","isConnectable","Strict","sourceHandles","targetHandles","isInsideConnectionRadius","isHandleValid","connectionStatus","productionEnvs","message","process","getHandleBounds","nodeElement","handlesArray","nodeBounds","removeSelectedNodes","unselect","blur","unrefVal","addEdgeToStore","edgeParams","EDGE_INVALID","updateEdgeAction","newConnection","findEdge","shouldReplaceId","foundEdge","EDGE_NOT_FOUND","rest","newEdge","createGraphNodes","currGraphNodes","parentNodes","nextNodes","nextNodes2","currentIndex","NODE_INVALID","parsed","allNodes","updateConnectionLookup","connectionLookup","edgeId","sourceKey","targetKey","prevSource","prevTarget","handleConnectionChange","diff","areConnectionMapsEqual","createHooks","edgesChange","nodesChange","nodesInitialized","miniMapNodeClick","miniMapNodeDoubleClick","miniMapNodeMouseEnter","miniMapNodeMouseMove","miniMapNodeMouseLeave","paneReady","move","moveStart","moveEnd","selectionDragStart","selectionDrag","selectionDragStop","selectionContextMenu","selectionStart","selectionEnd","viewportChangeStart","viewportChange","viewportChangeEnd","paneScroll","paneClick","paneContextMenu","paneMouseEnter","paneMouseMove","paneMouseLeave","updateNodeInternals","err","useHooks","onBeforeMount","useState","viewportRef","nodeTypes","edgeTypes","d3ZoomHandler","selectionMode","Full","paneDragging","preventScrolling","zoomOnScroll","zoomOnPinch","zoomOnDoubleClick","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","panOnDrag","edgeUpdaterRadius","onlyRenderVisibleElements","defaultViewport","userSelectionActive","userSelectionRect","defaultMarkerColor","connectionLineStyle","connectionLineType","connectionLineOptions","Bezier","Loose","connectionStartHandle","connectionEndHandle","edgesUpdatable","edgesFocusable","nodesFocusable","elementsSelectable","selectionKeyCode","multiSelectionKeyCode","zoomActivationKeyCode","deleteKeyCode","panActivationKeyCode","fitViewOnInit","fitViewOnInitDone","noWheelClassName","noPanClassName","elevateNodesOnSelect","disableKeyboardA11y","ariaLiveMessage","storeOptionsToSkip","useActions","edgeIds","viewportHelper","ids","updateIds","getIncomers$1","getOutgoers$1","getConnectedEdges$1","id22","updateNodeDimensions","updates","viewportNode","m22","DOMMatrixReadOnly","doUpdate","forceUpdate","nodeSelectionHandler","nodeIds2","selectionChanges","edgeSelectionHandler","edgeIds2","elementSelectionHandler","addSelectedEdges","addSelectedElements","removeSelectedEdges","changes2","curr","selectionChange","setInteractive","isInteractive","Function","nextEdges","validEdges","missingSource","missingTarget","nextElements","graphNodes","edgeChanges","removeNodes","removeConnectedEdges","removeChildren","nodesToRemove","nodeChanges","createEdgeRemovalChanges","connections","deletable","createChildrenRemovalChanges","childIds","id3","currNode","removeEdges","edgesToRemove","currEdge","updateEdge2","oldEdge","applyNodeChanges2","applyEdgeChanges2","nodeUpdate","nextNode","updateNodeData","dataUpdate","nextData","startHandle","isClick","status","getNodeRect","nodeOrRect","isRectObj","getIntersectingNodes","isRect2","currNodeRect","isNodeIntersecting","delta","constrainedTransform","transformChanged","setState","opts","exclude","setSkippedOptions","option","toObject","__","___","____","_____","______","_______","________","_________","fromObject","$reset","resetState","updatedTransform","bbox","updateEdge","applyEdgeChanges","applyNodeChanges","transitionOpts","$destroy","_hoisted_1$9","__default__$f","_sfc_main$f","String","connectableStart","expose","__expose","createPropsRestProxy","isConnectableStart","isConnectableEnd","isConnecting","_d","_e","_f","isClickConnecting","onPointerDown","onClick","existingBounds","nextBounds","onUnmounted","ref_key","normalizeClass","connecting","connectablestart","connectableend","connectionindicator","onMousedown","onTouchstartPassive","DefaultNode","_label","inheritAttrs","DefaultNode$1","OutputNode","OutputNode$1","InputNode","InputNode$1","_hoisted_1$8","_hoisted_2$2","_hoisted_3$1","__default__$e","_sfc_main$e","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","getBox","nextBox","getBBox","onMounted","rx","ry","mergeProps","$attrs","resolveDynamicComponent","Fragment","createTextVNode","toDisplayString","_hoisted_1$7","_hoisted_2$1","__default__$d","_sfc_main$d","labelX","labelY","path","markerStart","markerEnd","pathEl","interactionEl","labelEl","attrs","useAttrs","getSimpleEdgeCenter","xOffset","yOffset","getBezierEdgeCenter","sourceControlX","sourceControlY","targetControlX","targetControlY","offsetX","offsetY","calculateControlOffset","curvature","getControlWithCurvature","x1","y1","ctX","ctY","getBezierPath","getControl","getSimpleBezierPath","handleDirections","getDirection","getPoints","center","sourceDir","targetDir","sourceGapped","targetGapped","dirAccessor","currDir","points","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","flipSourceTarget","sourceGapPoint","targetGapPoint","maxXDistance","maxYDistance","pathPoints","getBend","bendSize","xDir2","yDir2","xDir","yDir","getSmoothStepPath","borderRadius","segment","getStraightPath","StraightEdge","StraightEdge$1","SmoothStepEdge","SmoothStepEdge$1","StepEdge","StepEdge$1","BezierEdge","BezierEdge$1","SimpleBezierEdge","SimpleBezierEdge$1","defaultNodeTypes","input","output","defaultEdgeTypes","straight","step","smoothstep","simplebezier","useGetters","getNode","getEdge","getEdgeTypes","getNodeTypes","getNodes","edgeHidden","EDGE_ORPHANED","getEdges","getElements","getSelectedEdges","getSelectedElements","getNodesInitialized","areNodesInitialized","Storage","currentId","flows","getInstance","vueApp","appContext","app","existingInstance","config","globalProperties","$vueFlowStorage","flow","preloadedState","reactiveState","reactive","hooksOn","charAt","toUpperCase","getters","actions","vueFlowVersion","storage","vueFlow","injection","vfScope","shouldApplyDefault","nodesChangeHandler","edgesChangeHandler","onNodesChange","onEdgesChange","storedInstance","provide","useResizeHandler","viewportEl","resizeObserver","rendererNode","updateDimensions","ResizeObserver","observe","onBeforeUnmount","unobserve","__default__$c","_sfc_main$c","_hoisted_1$6","__default__$b","_sfc_main$b","updatePositions","focus","preventScroll","selectedNodesBBox","innerStyle","onContextMenu","onKeyDown","tabIndex","onContextmenu","onKeydown","getMousePosition","__default__$a","_sfc_main$a","isSelecting","prevSelectedNodesCount","prevSelectedEdgesCount","hasActiveSelection","resetUserSelection","onWheel","onMouseDown","startX","startY","onMouseMove","nextUserSelectRect","selectedNodes","Partial","selectedEdges","onMouseUp","onMouseLeave","onMouseEnter","keyPressed","onWheelPassive","onMouseenter","onMousemove","onMouseup","onMouseleave","__default__$9","_sfc_main$9","__default__$8","_sfc_main$8","storeD3Zoom","storeD3Selection","storeD3ZoomHandler","isZoomingOrPanning","isPanScrolling","panScrollTimeout","zoomedWithRightMouseButton","mouseButton","prevTransform","panKeyPressed","selectionKeyPressed","zoomKeyPressed","shouldPanOnDrag","shouldPanOnScroll","isRightClickPan","pan","usedButton","viewChanged","prevViewport","eventTransform","eventToFlowTransform","isWrappedWithClass","className","viewportElement","flowTransform","zoomScroll","pinchZoom","buttonAllowed","invalidEvent","scrollEventEnabled","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","nextViewport","createVNode","withCtx","_hoisted_1$5","__default__$7","_sfc_main$7","useOnInitHandler","vfInstance","shiftX","shift","shiftY","EdgeAnchor","stroke","EdgeAnchor$1","EdgeWrapper","mouseOver","updating","edgeEl","edgeClass","edgeStyle","pathOptions","sourceNodeHandles","targetNodeHandles","animated","inactive","onEdgeClick","onEdgeContextMenu","onDoubleClick","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","ariaLabel","sourceHandleId","targetHandleId","onEdgeUpdaterSourceMouseDown","onEdgeUpdaterMouseEnter","onMouseout","onEdgeUpdaterMouseOut","onEdgeUpdaterTargetMouseDown","handleEdgeUpdater","isSourceHandle","EdgeWrapper$1","oppositePosition","ConnectionLine","connectionLineComponent","_a2","fromNode","toX","toY","fromHandleBounds","fromHandle","fromPosition","fromX","fromY","toHandle","_a3","toPosition","dAttr","pathParams","Step","SmoothStep","SimpleBezier","ConnectionLine$1","_hoisted_1$4","__default__$6","_sfc_main$6","markerUnits","orient","strokeWidth","refX","refY","markerWidth","markerHeight","ArrowClosed","Arrow","__default__$5","_sfc_main$5","defaultColor","markers","markers2","createMarkers","markerId","markers3","localeCompare","renderList","_hoisted_1$3","__default__$4","_sfc_main$4","slots","edgeSelectable","edgeUpdatable","edgeFocusable","getType","template","slot","edgeType","components","resolveComponent","EDGE_TYPE_MISSING","NodeWrapper","onUpdateNodeInternals","getConnectedEdges2","intersections","getClass","getStyle","styles","updateInternals","newX","newY","parentZ","nodeZIndex","xyzPos","nodeExtent2","globalExtent","oldNodeExtent","oldGlobalExtent","clampPosition2","visibility","pointerEvents","onSelectNode","parentNodeId","NodeWrapper$1","_hoisted_1$2","__default__$3","_sfc_main$3","teleportTarget","getElementsByClassName","Teleport","to","useNodesInitialized","_hoisted_1$1","__default__$2","_sfc_main$2","nodeDraggable","nodeSelectable","nodeConnectable","nodeFocusable","nodeType","NODE_TYPE_MISSING","entry","disconnect","__default__$1","_sfc_main$1","useSlots","modelNodes","modelEdges","dispose","positionClasses","useHandleConnections","onDisconnect","_nodeId","currentNodeId","nextConnections","currentConnections","prevConnections","_connections","useNodesData","_nodeIds"],"sourceRoot":""}